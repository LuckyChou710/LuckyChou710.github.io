<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>éšç¬”-å·¥å…·ç¯‡</title>
    <url>/Essay/Tools/</url>
    <content><![CDATA[<h2 id="é”®ç›˜"><a href="#é”®ç›˜" class="headerlink" title="é”®ç›˜"></a>é”®ç›˜</h2><p>fn + win å¯ä»¥ç¦ç”¨winé”®</p>
<h2 id="æŠ å›¾"><a href="#æŠ å›¾" class="headerlink" title="æŠ å›¾"></a>æŠ å›¾</h2><p><a href="https://www.remove.bg/">https://www.remove.bg/</a></p>
<h2 id="æµè§ˆå™¨æ§åˆ¶å°"><a href="#æµè§ˆå™¨æ§åˆ¶å°" class="headerlink" title="æµè§ˆå™¨æ§åˆ¶å°"></a>æµè§ˆå™¨æ§åˆ¶å°</h2><p>shift + enter å¯ä»¥å¤šè¡Œè¾“å…¥</p>
<a id="more"></a>

<h2 id="ç½‘æ˜“äº‘éŸ³ä¹"><a href="#ç½‘æ˜“äº‘éŸ³ä¹" class="headerlink" title="ç½‘æ˜“äº‘éŸ³ä¹"></a>ç½‘æ˜“äº‘éŸ³ä¹</h2><p><a href="https://github.com/meng-chuan/Unlock-netease-cloud-music?utm_source=gold_browser_extension">ç½‘æ˜“äº‘ç°åº¦æ­Œæ›²è§£é”</a></p>
<h2 id="vuepress"><a href="#vuepress" class="headerlink" title="vuepress"></a>vuepress</h2><p>æ–‡ç« æ— æ³•æ­£å¸¸æ¸²æŸ“ é¡µé¢ç©ºç™½</p>
<p>vuepressä¼šè§£æmdæ–‡ä»¶ä¸­çš„htnlæ ‡ç­¾  æ³¨æ„å†…å®¹æ˜¯å¦åŒ…å«é”™è¯¯çš„æ ‡ç­¾</p>
<h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><p>git push è¿›åº¦æ¡å¡ä½</p>
<p><code>git config --global http.postBuffer 524288000</code></p>
<h2 id="node"><a href="#node" class="headerlink" title="node"></a>node</h2><p>æŸ¥çœ‹å…¨å±€å®‰è£…çš„npmåŒ…</p>
<p>npm list -g â€“depth 0</p>
<h2 id="Chrome-DevTools"><a href="#Chrome-DevTools" class="headerlink" title="Chrome DevTools"></a>Chrome DevTools</h2><p><a href="https://juejin.im/post/5ec338436fb9a0432d76e0c4">Chrome DevToolsä¸­çš„è¿™äº›éªšæ“ä½œï¼Œä½ éƒ½çŸ¥é“å—ï¼Ÿ</a></p>
<h2 id="sshé…ç½®"><a href="#sshé…ç½®" class="headerlink" title="sshé…ç½®"></a>sshé…ç½®</h2><p><a href="https://blog.csdn.net/lizhiqiang1217/article/details/88801158">GitLabé…ç½®SSHå¯†é’¥</a></p>
]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾è®¡æ¨¡å¼-ç­–ç•¥æ¨¡å¼</title>
    <url>/Design-Pattern/strategy/</url>
    <content><![CDATA[<blockquote>
<p>è½¬è½½è‡ª<a href="https://www.wekic.com/article/30">Vincent</a></p>
</blockquote>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç­–ç•¥æ¨¡å¼æ˜¯å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚å°†ä¸å˜çš„éƒ¨åˆ†å’Œå˜åŒ–çš„éƒ¨åˆ†éš”å¼€æ˜¯æ¯ä¸ªè®¾è®¡æ¨¡å¼çš„ä¸»é¢˜ã€‚ç­–ç•¥æ¨¡å¼çš„ç›®çš„å°±æ˜¯ä½¿ç®—æ³•çš„ä½¿ç”¨ä¸ç®—æ³•åˆ†ç¦»å¼€æ¥ã€‚å°è£…çš„ç®—æ³•å…·æœ‰ä¸€å®šçš„ç‹¬ç«‹æ€§ï¼Œä¸ä¼šéšå®¢æˆ·ç«¯çš„å˜åŒ–è€Œå˜åŒ–ã€‚</p>
<p>ä¸€ä¸ªç­–ç•¥æ¨¡å¼çš„ç¨‹åºè‡³å°‘æœ‰ä¸¤éƒ¨åˆ†ç»„æˆã€‚ç¬¬ä¸€éƒ¨åˆ†æ˜¯ç­–ç•¥ç±»ï¼Œç­–ç•¥ç±»å°è£…äº†å…·ä½“çš„ç®—æ³•ï¼Œè´Ÿè´£å…·ä½“çš„è®¡ç®—è¿‡ç¨‹ã€‚ ç¬¬äºŒéƒ¨åˆ†æ˜¯ç¯å¢ƒç±»<code>Context</code>ï¼Œå®ƒæ¥å—äº†å®¢æˆ·çš„è¦æ±‚ï¼Œéšåå§è¯·æ±‚å§”æ‰˜ç»™æŸä¸€å…·ä½“çš„ç­–ç•¥ç±»ã€‚è¦åšåˆ°è¿™ç‚¹,<code>Context</code>ä¸­è¦ç»´æŒå¯¹æ‘¸ä¸ªç­–ç•¥å¯¹è±¡çš„å¼•ç”¨ã€‚</p>
<a id="more"></a>

<h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><p>è¿™ä¸ª demo æ˜¯ä¸€ä¸ªè®¡ç®—çš„ä»£ç æ®µ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">count</span>(<span class="params">type, number1, number2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;add&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> number1 + number2;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;subtract&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> number1 - number2;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;multiply&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> number1 * number2;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> number1 / number2;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// if else</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">count1</span>(<span class="params">type, number1, number2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (type === <span class="string">&#x27;add&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> number1 + number2;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">&#x27;subtract&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> number1 - number2;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">&#x27;multiply&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> number1 * number2;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> number1 / number2;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…è¿™ä¸­é—´çš„<code>switch</code>ç”¨<code>if...else...</code>æ¥å®ç°ï¼Œä½†<code>switch</code>æ¯”<code>if...else...</code>æ›´åŠ ä¸€ç›®äº†ç„¶ã€‚è¿™æ®µè®¡ç®—æ–¹æ³•æœ¬èº«æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯æœ‰æ›´åŠ ä¾¿äºç»´æŠ¤å’Œæ‰©å±•çš„å®ç°æ–¹å¼ã€‚ä¸‹é¢æ¥è¿›è¡Œæ”¹è¿›</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> count = &#123;</span><br><span class="line">  <span class="function"><span class="title">add</span>(<span class="params">number1, number2</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> number1 + number2;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">subtract</span>(<span class="params">number1, number2</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> number1 - number2;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">multiply</span>(<span class="params">number1, number2</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> number1 * number2;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">divide</span>(<span class="params">number1, number2</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> number1 / number2;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">count.add(<span class="number">2</span>, <span class="number">3</span>); <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line">count.subtract(<span class="number">10</span>, <span class="number">3</span>); <span class="comment">// 7</span></span><br><span class="line"></span><br><span class="line">count.multiply(<span class="number">2</span>, <span class="number">3</span>); <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line">count.divide(<span class="number">6</span>, <span class="number">2</span>); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p>ç»è¿‡æ”¹é€ åï¼Œå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªç­–ç•¥æ¨¡å¼ï¼Œæ¥ä¸‹æ¥çœ‹ä¸ªå¤æ‚çš„ä¾‹å­ã€‚å•†åœºçš„ä¼šå‘˜åˆ†æ™®é€šä¼šå‘˜ã€é“¶å¡ä¼šå‘˜ã€é‡‘å¡ä¼šå‘˜ã€é’»çŸ³ä¼šå‘˜ã€è‡³å°Šä¼šå‘˜ç­‰çº§åˆ«ï¼Œåœ¨å•†åœºæ¶ˆè´¹äº«ä¸åŒçš„æŠ˜æ‰£å’Œç§¯åˆ†ã€‚ä¼šå‘˜åœ¨åŒä¸€å•†å“çš„æŠ˜æ‰£åˆ†åˆ«æ˜¯ 98ã€95ã€9ã€8.8ã€8.5 æŠ˜ä¼˜æƒ ã€‚ç§¯åˆ†æ¯”ä¾‹åˆ†åˆ«æ˜¯ 1ã€1.2ã€1.5ã€1.6ã€1.8ã€‚è´­ä¹°å•†å“å¯¹åº”çš„ä¼šå‘˜æŠ˜æ‰£å’Œç§¯åˆ†è·å–ç”¨ç­–ç•¥æ¨¡å¼æ¥å®ç°ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> priceStrategy = &#123;</span><br><span class="line">  <span class="function"><span class="title">level1</span>(<span class="params">price</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> price * (<span class="number">98</span> / <span class="number">100</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">level2</span>(<span class="params">price</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> price * (<span class="number">95</span> / <span class="number">100</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">level3</span>(<span class="params">price</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> price * (<span class="number">90</span> / <span class="number">100</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">level4</span>(<span class="params">price</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> price * (<span class="number">88</span> / <span class="number">100</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">level5</span>(<span class="params">price</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> price * (<span class="number">85</span> / <span class="number">100</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> cumulativeScoreStrategy = &#123;</span><br><span class="line">  <span class="function"><span class="title">level1</span>(<span class="params">price</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.floor(price);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">level2</span>(<span class="params">price</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.floor(price * <span class="number">1.1</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">level3</span>(<span class="params">price</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.floor(price * <span class="number">1.2</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">level4</span>(<span class="params">price</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.floor(price * <span class="number">1.3</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">level5</span>(<span class="params">price</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.floor(price * <span class="number">1.4</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calculatePrice</span>(<span class="params">level, price</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> priceStrategy[level] ? priceStrategy[level](price) : <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calculateScore</span>(<span class="params">level, price</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> actually = calculatePrice(level, price);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    cumulativeScoreStrategy[level] &amp;&amp; cumulativeScoreStrategy[level](actually)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  ä¸€å°çš„å½©ç”µçš„ä»·æ ¼æ˜¯ 8888ï¼Œé’»çŸ³ä¼šå‘˜çš„æŠ˜åä»·</span></span><br><span class="line">calculatePrice(<span class="string">&#x27;level4&#x27;</span>, <span class="number">8888</span>); <span class="comment">// 7554.8</span></span><br><span class="line"><span class="comment">// è·å¾—çš„ç§¯åˆ†</span></span><br><span class="line">calculateScore(<span class="string">&#x27;level4&#x27;</span>, <span class="number">8888</span>); <span class="comment">// 10567</span></span><br></pre></td></tr></table></figure>

<p>è¡¨å•éªŒè¯çš„ç­–ç•¥æ¨¡å¼</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> strategies = &#123;</span><br><span class="line">  <span class="function"><span class="title">isCorrectPassword</span>(<span class="params">value, errorMsg</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="regexp">/^(?:(?=.*[A-Z])(?=.*[0-9])).\\S&#123;7,19&#125;$/</span>.test(value)) &#123;</span><br><span class="line">      <span class="keyword">return</span> errorMsg;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">isNotEmpty</span>(<span class="params">value, errorMsg</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (value === <span class="string">&#x27;&#x27;</span> || value === <span class="literal">undefined</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> errorMsg;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">minLength</span>(<span class="params">value, length, errorMsg</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (value.length &lt; length) &#123;</span><br><span class="line">      <span class="keyword">return</span> errorMsg;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">maxLength</span>(<span class="params">value, length, errorMsg</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (value.length &gt; length) &#123;</span><br><span class="line">      <span class="keyword">return</span> errorMsg;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">isMobile</span>(<span class="params">value, errorMsg</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="regexp">/(^1[3|5|8][0-9]&#123;9&#125;$)/</span>.test(value)) &#123;</span><br><span class="line">      <span class="keyword">return</span> errorMsg;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">isNotAllEmpty</span>(<span class="params">value = [], errorMsg</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!value.some(<span class="function">(<span class="params">i</span>) =&gt;</span> !!i)) &#123;</span><br><span class="line">      <span class="keyword">return</span> errorMsg;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Validator</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.cache = [];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">add</span>(<span class="params">value, rules</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, rule; (rule = rules[i++]); ) &#123;</span><br><span class="line">      <span class="keyword">const</span> strategyArray = rule.strategy.split(<span class="string">&#x27;:&#x27;</span>) || [];</span><br><span class="line">      <span class="keyword">const</span> &#123; errorMsg &#125; = rule;</span><br><span class="line">      <span class="built_in">this</span>.cache.push(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> strategy = strategyArray.shift();</span><br><span class="line">        strategyArray.unshift(value);</span><br><span class="line">        strategyArray.push(errorMsg);</span><br><span class="line">        <span class="keyword">return</span> strategies[strategy].apply(value, strategyArray);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">run</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, validatorFunc; (validatorFunc = <span class="built_in">this</span>.cache[i++]); ) &#123;</span><br><span class="line">      <span class="keyword">const</span> msg = validatorFunc();</span><br><span class="line">      <span class="keyword">if</span> (msg) &#123;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">const</span> validator = <span class="keyword">new</span> Validator();</span><br><span class="line">validator.add(registerForm.userName, [</span><br><span class="line">  &#123;</span><br><span class="line">    strategy: <span class="string">&#x27;isNonEmpty&#x27;</span>,</span><br><span class="line">    errorMsg: <span class="string">&#x27;userName not empty!&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    strategy: <span class="string">&#x27;minLength:6&#x27;</span>,</span><br><span class="line">    errorMsg: <span class="string">&#x27;userName length should more than 6&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">]);</span><br><span class="line">validator.add(registerForm.password, [</span><br><span class="line">  &#123;</span><br><span class="line">    strategy: <span class="string">&#x27;minLength:6&#x27;</span>,</span><br><span class="line">    errorMsg: <span class="string">&#x27;password length should more than 6&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> errorMsg = validator.start();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (errorMsg) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(errorMsg);</span><br><span class="line">  <span class="keyword">return</span> errorMsg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç­–ç•¥æ¨¡å¼å±äºå¯¹è±¡è¡Œä¸ºå‹æ¨¡å¼ï¼Œä¸»è¦é’ˆå¯¹ä¸€ç»„ç®—æ³•ï¼Œå°†æ¯ä¸€ä¸ªç®—æ³•å°è£…åˆ°å…·æœ‰å…±åŒæ¥å£çš„ç‹¬ç«‹çš„ç±»ä¸­ï¼Œä»è€Œä½¿å¾—å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚ç­–ç•¥æ¨¡å¼ä½¿å¾—ç®—æ³•å¯ä»¥åœ¨ä¸å½±å“ åˆ°å®¢æˆ·ç«¯çš„æƒ…å†µä¸‹å‘ç”Ÿå˜åŒ–ã€‚é€šå¸¸ï¼Œç­–ç•¥æ¨¡å¼é€‚ç”¨äºå½“ä¸€ä¸ªåº”ç”¨ç¨‹åºéœ€è¦å®ç°ä¸€ç§ç‰¹å®šçš„æœåŠ¡æˆ–è€…åŠŸèƒ½ï¼Œè€Œä¸”è¯¥ç¨‹åºæœ‰å¤šç§å®ç°æ–¹å¼æ—¶ä½¿ç”¨ã€‚</p>
</blockquote>
<h2 id="ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹"><a href="#ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹"></a>ç­–ç•¥æ¨¡å¼çš„ä¼˜ç¼ºç‚¹</h2><p>ç­–ç•¥æ¨¡å¼æ˜¯ä¸€ç§å¸¸ç”¨ä¸”æœ‰æ•ˆçš„å¾—è®¾è®¡æ¨¡å¼ï¼Œ</p>
<h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><p>Â· å‡å°‘é‡å¤ä»£ç  ç­–ç•¥æ¨¡å¼åˆ©ç”¨ç»„åˆã€å§”æ‰˜å’Œå¤šæ€ç­‰æŠ€æœ¯å’Œæ€æƒ³ï¼Œå‡å°‘å¾ˆå¤šæ¨¡æ¿ä»£ç ã€‚</p>
<p>Â· æ‰©å±•æ€§ ç­–ç•¥æ¨¡å¼æä¾›äº†å¯¹å¼€æ”¾-å°é—­åŸåˆ™çš„å®Œç¾æ”¯æŒï¼Œå°†ç®—æ³•å°è£…åœ¨ç‹¬ç«‹çš„ç­–ç•¥ç±»é‡Œé¢ï¼Œä½¿å®ƒä»¬æ˜“äºåˆ‡æ¢ï¼Œæ˜“äºç†è§£ï¼Œæ˜“äºæ‰©å±•ã€‚</p>
<p>Â· åœ¨ç­–ç•¥æ¨¡å¼ä¸­çš„ç®—æ³•åˆ©ç”¨ç»„åˆå’Œå§”æ‰˜è®©<code>Context</code>æ‹¥æœ‰æ‰§è¡Œç®—æ³•çš„èƒ½åŠ›ï¼Œè¿™ä¹Ÿæ˜¯ç»§æ‰¿çš„ä¸€ç§æ›´è½»ä¾¿çš„æ›¿æ¢æ–¹æ¡ˆã€‚</p>
<h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><p>Â· ä½¿ç”¨ç­–ç•¥æ¨¡å¼ä¼šçš„ç¨‹åºå¢åŠ äº†è®¸å¤šç­–ç•¥ç±»æˆ–è€…ç­–ç•¥å¯¹è±¡ï¼Œä½†å®é™…ä¸Šè¿™æ¯”æŠŠä»–ä»¬è´Ÿè´£çš„é€»è¾‘å †ç Œåœ¨<code>Context</code>ä¸­è¦æ›´å¥½ã€‚</p>
<p>Â· è¦ä½¿ç”¨ç­–ç•¥æ¨¡å¼ï¼Œå¿…é¡»äº†è§£æ‰€æœ‰çš„ç­–ç•¥ï¼Œå¿…é¡»äº†è§£å„ä¸ªç­–ç•¥ä¹‹é—´çš„ä¸åŒç‚¹ï¼Œå› ä¸ºå„ç§ç®—æ³•ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œå¯¹äºå¤æ‚çš„ç®—æ³•å¤„ç†ç›¸åŒçš„é€»è¾‘æ— æ³•å®ç°å…±äº«ã€‚</p>
]]></content>
      <categories>
        <category>Design Pattern</category>
      </categories>
      <tags>
        <tag>Design Pattern</tag>
      </tags>
  </entry>
  <entry>
    <title>Hi ï½ï½ï½</title>
    <url>/Essay/Life/</url>
    <content><![CDATA[<p>ğŸ‘‹ Hi, Iâ€™m @LuckyChou</p>
<p>ğŸ‘€ Iâ€™m interested in FE</p>
<p>ğŸŒ± Iâ€™m currently learning Typescript &amp;&amp; React &amp;&amp; Node</p>
<p>ğŸ‘» Welcome to my Home â€“&gt; <a href="https://luckychou.gitee.io/">https://luckychou.gitee.io/</a></p>
<p>ğŸ“ Mail me â€“&gt; <a href="mailto:&#x39;&#52;&#52;&#x32;&#54;&#56;&#54;&#x31;&#x38;&#64;&#x71;&#x71;&#46;&#99;&#111;&#109;">&#x39;&#52;&#52;&#x32;&#54;&#56;&#54;&#x31;&#x38;&#64;&#x71;&#x71;&#46;&#99;&#111;&#109;</a></p>
<p>ğŸ‰ Star me â€“&gt; <a href="https://github.com/LuckyChou710">https://github.com/LuckyChou710</a></p>
<p>ğŸ˜œ React å°å†Œ â€“&gt; <a href="https://www.yuque.com/u12206867/react">https://www.yuque.com/u12206867/react</a></p>
<img src="https://gitee.com/LuckyChou/blog-images/raw/master/bg-images/CHOU16.jpg" />

<p>åœ¨é€‰æ‹©è¦ç³»ç»Ÿåœ°å­¦ä¹ ä¸€ä¸ªæ–°çš„ æ¡†æ¶/åº“ ä¹‹å‰ï¼Œé¦–å…ˆè‡³å°‘å¾—å­¦ä¼šå…ˆå»æ€è€ƒä»¥ä¸‹ä¸¤ç‚¹ï¼š</p>
<p>â€¢ å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>â€¢ å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>
]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼</title>
    <url>/Design-Pattern/singleton/</url>
    <content><![CDATA[<p>å•ä¾‹æ¨¡å¼çš„å®šä¹‰æ˜¯ï¼š ä¿è¯ä¸€ä¸ªç±»æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚</p>
<p>æ€è·¯ï¼š ç”¨é—­åŒ…è¿”å›ä¸€ä¸ªå®ä¾‹ å¯¹è¿™ä¸ªå®ä¾‹åšæ¡ä»¶åˆ¤æ–­ æœ‰å°±è¿”å› æ²¡æœ‰å°±åˆå§‹åŒ– è¿™æ ·æˆ‘ä»¬åœ¨æ¯æ¬¡ new çš„æ—¶å€™å°±åªèƒ½å¾—åˆ°ä¸€ä¸ªå®ä¾‹</p>
<p>ä¾‹å¦‚ å…¨å±€çš„è’™å±‚ å…¨å±€çš„å˜é‡éƒ½é€‚åˆç”¨å•ä¾‹æ¨¡å¼æ¥åˆ›å»º å› ä¸ºæˆ‘ä»¬è°ä¹Ÿä¸å¸Œæœ›å­˜åœ¨ä¸¤ä¸ªè’™å±‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Singleton = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> instance = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (instance) &#123;</span><br><span class="line">      <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä½ çš„ä¸šåŠ¡é€»è¾‘</span></span><br><span class="line">    <span class="comment">// ä¾‹å¦‚</span></span><br><span class="line">    <span class="built_in">this</span>.name = <span class="string">&#x27;LuckyChou&#x27;</span>;</span><br><span class="line">    <span class="built_in">this</span>.age = <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (instance = <span class="built_in">this</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// test</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="keyword">new</span> Singleton();</span><br><span class="line"><span class="keyword">const</span> b = <span class="keyword">new</span> Singleton();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a === b); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// &#123; name: &#x27;chou&#x27;, age: 18 &#125;</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Design Pattern</category>
      </categories>
      <tags>
        <tag>Design Pattern</tag>
      </tags>
  </entry>
  <entry>
    <title>Chrome è·¨åŸŸè®¾ç½®</title>
    <url>/Others/chrome/</url>
    <content><![CDATA[<h3 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h3><figure class="highlight zsh"><table><tr><td class="code"><pre><span class="line">open -n -a <span class="string">&#x27;/Applications/Google Chrome.app&#x27;</span> --args --user-data-dir=<span class="string">&quot;/tmp/chrome_dev_test&quot;</span> --disable-web-security</span><br></pre></td></tr></table></figure>

<h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">- åœ¨ç”µè„‘ä¸Šæ–°å»ºä¸€ä¸ªç›®å½•ï¼Œä¾‹å¦‚ï¼šC:\MyChromeDevUserData</span><br><span class="line"></span><br><span class="line">- åœ¨å±æ€§é¡µé¢ä¸­çš„ç›®æ ‡è¾“å…¥æ¡†é‡ŒåŠ ä¸Š --disable-web-security --user-data-dir=C:\MyChromeDevUserDataï¼Œ--user-data-dir çš„å€¼å°±æ˜¯åˆšæ‰æ–°å»ºçš„ç›®å½•</span><br><span class="line"></span><br><span class="line">- ç‚¹å‡»åº”ç”¨å’Œç¡®å®šåå…³é—­å±æ€§é¡µé¢ï¼Œå¹¶æ‰“å¼€ chrome æµè§ˆå™¨</span><br></pre></td></tr></table></figure>

<h3 id="2021-4-æ›´æ–°"><a href="#2021-4-æ›´æ–°" class="headerlink" title="2021.4 æ›´æ–°"></a>2021.4 æ›´æ–°</h3><p>æµè§ˆå™¨å‘é€è¯·æ±‚ ä½†æ˜¯æ— æ³•å¸¦ä¸Š cookie å¯¼è‡´ é¡µé¢ä¸€ç›´é‡å®šå‘</p>
<p>1ã€åœ¨è°·æ­Œæµè§ˆå™¨ä¸­æœç´¢ chrome://flags/<br>2ã€åœ¨å‡ºç°çš„é¡µé¢æœç´¢æ¡†ä¸­æœç´¢ SameSite<br>3ã€æŠŠç¬¬ä¸€ä¸ªæ”¹ä¸º disable<br>4ã€ç„¶åé‡å¯æµè§ˆå™¨</p>
]]></content>
      <categories>
        <category>Others</category>
      </categories>
      <tags>
        <tag>Others</tag>
      </tags>
  </entry>
  <entry>
    <title>oh-my-zsh ç¾åŒ–iterm2 / vs code</title>
    <url>/Others/oh-my-zsh/</url>
    <content><![CDATA[<p><a href="https://www.jianshu.com/p/9c3439cc3bdb">é…ç½®iterm2</a></p>
<p><a href="https://blog.csdn.net/qwe641259875/article/details/107201760/">å›½å†…å®‰è£…oh-my-zsh<a></p>
<blockquote>
<p>åœ¨VSCodeçš„settings.jsonæ–‡ä»¶ï¼ŒåŠ å…¥ : â€œterminal.integrated.fontFamilyâ€: â€œMeslo LG M for Powerlineâ€,</p>
</blockquote>
]]></content>
      <categories>
        <category>Others</category>
      </categories>
      <tags>
        <tag>Others</tag>
      </tags>
  </entry>
  <entry>
    <title>vimå¸¸ç”¨å‘½ä»¤</title>
    <url>/Others/vim/</url>
    <content><![CDATA[<h3 id="å‘½ä»¤æ¨¡å¼"><a href="#å‘½ä»¤æ¨¡å¼" class="headerlink" title="å‘½ä»¤æ¨¡å¼"></a>å‘½ä»¤æ¨¡å¼</h3><p>é»˜è®¤è¿›å…¥å‘½ä»¤æ¨¡å¼ åœ¨å…¶ä»–æ¨¡å¼ä¸‹æŒ‰ esc è¿›å…¥å‘½ä»¤æ¨¡å¼<br>x åˆ é™¤å…‰æ ‡æ‰€åœ¨å­—ç¬¦<br>dd åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œ<br>u å¤åŸåˆ°ä¸Šä¸€ä¸ªåŠ¨ä½œ<br>ctrl + r é‡åšä¸Šä¸€ä¸ªåŠ¨ä½œ<br>G è·³åˆ°æ–‡æœ¬æœ«<br>gg è·³åˆ°æ–‡æœ¬ç¬¬ä¸€ä¸ªå­—ç¬¦<br>^ è·³åˆ°å½“å‰è¡Œåˆ°ç¬¬ä¸€ä¸ªå­—ç¬¦</p>
<h3 id="è¾“å…¥æ¨¡å¼"><a href="#è¾“å…¥æ¨¡å¼" class="headerlink" title="è¾“å…¥æ¨¡å¼"></a>è¾“å…¥æ¨¡å¼</h3><p>åœ¨å‘½ä»¤æ¨¡å¼ è¾“å…¥ i / a / o è¿›å…¥è¾“å…¥æ¨¡å¼</p>
<h3 id="åº•çº¿å‘½ä»¤æ¨¡å¼"><a href="#åº•çº¿å‘½ä»¤æ¨¡å¼" class="headerlink" title="åº•çº¿å‘½ä»¤æ¨¡å¼"></a>åº•çº¿å‘½ä»¤æ¨¡å¼</h3><p>åœ¨å‘½ä»¤æ¨¡å¼è¾“å…¥ è‹±æ–‡è¾“å…¥æ³•ä¸‹çš„ : è¿›å…¥<br>q é€€å‡º<br>w ä¿å­˜</p>
]]></content>
      <categories>
        <category>Others</category>
      </categories>
      <tags>
        <tag>Others</tag>
      </tags>
  </entry>
  <entry>
    <title>Git / Github / Gitee</title>
    <url>/Others/git/</url>
    <content><![CDATA[<p>æœ¬æ–‡ä¸»è¦ç½—åˆ—ä¸€äº›</p>
<ul>
<li><p>æˆ‘åœ¨ä½¿ç”¨ git æ—¶å€™çš„é—®é¢˜</p>
</li>
<li><p>git çš„å¸¸è§å‘½ä»¤</p>
</li>
</ul>
<p>ä¸€æ–¹é¢åšä¸ªæ’å‘çš„æ¢³ç† ä¸€æ–¹é¢ä¹Ÿæ–¹ä¾¿è‡ªå·±ä»¥åæŸ¥è¯¢è¿™äº›å‘½ä»¤</p>
<h2 id="æ’å‘"><a href="#æ’å‘" class="headerlink" title="æ’å‘"></a>æ’å‘</h2><h3 id="git-pull-push-å¡ä½"><a href="#git-pull-push-å¡ä½" class="headerlink" title="git pull / push å¡ä½"></a>git pull / push å¡ä½</h3><p><code>git pull / push</code>å¡ä½çš„å¯èƒ½æ€§æœ‰å¾ˆå¤š</p>
<p>è‡ªå·±äº²æµ‹å‘ç”Ÿè¿™ç§é—®é¢˜çš„æ—¶å€™ å¾€å¾€æ˜¯ github ä¹Ÿå‡ ä¹è¿›ä¸å» <code>ping github.com</code> ä¸¢åŒ…ä¹Ÿå¾ˆä¸¥é‡</p>
<p>è¿™é‡Œå¯ä»¥ç™»å½• ipaddress.com æŸ¥çœ‹ github.com çš„ ip ç„¶åä¿®æ”¹ host å¯ä»¥å€ŸåŠ© switchHosts å¿«é€Ÿä¿®æ”¹ hosts</p>
<h3 id="gitee-å›¾åºŠ"><a href="#gitee-å›¾åºŠ" class="headerlink" title="gitee å›¾åºŠ"></a>gitee å›¾åºŠ</h3><p>å› ä¸º gitee å›½å†…é€Ÿåº¦æ¯” github å¿« æ‰€ä»¥åšä¸»ä½¿ç”¨ gitee ä½œä¸ºè‡ªå·±çš„å›¾åºŠ</p>
<p>ä½†æ˜¯æŸä¸€æ¬¡åœ¨ä½¿ç”¨çš„æ—¶å€™ å´å‘ç°äº†è·¨åŸŸé—®é¢˜ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿéš¾é“æ˜¯ gitee è®¾ç½®äº†é˜²ç›—é“¾</p>
<p>æ’æŸ¥ä¹‹åå‘ç° æ˜¯å› ä¸ºå›¾ç‰‡å¤§äº 1M gitee å°±éœ€è¦ç™»å½•æ ¡éªŒèº«ä»½ æ‰€ä»¥å›¾ç‰‡éœ€è¦å°äº 1M</p>
<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><table>
<thead>
<tr>
<th>å¿«é€Ÿåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯</th>
<th>git checkout -</th>
</tr>
</thead>
<tbody><tr>
<td>æ’¤é”€å½“å‰åˆ†æ”¯çš„æ‰€æœ‰ä¿®æ”¹</td>
<td>git checkout .</td>
</tr>
<tr>
<td>æ‹‰å–è¿œç¨‹åˆ†æ”¯</td>
<td>git checkout -b [localbranch]/[remote] [branch]</td>
</tr>
<tr>
<td>å¼ºåˆ¶åˆ é™¤åˆ†æ”¯</td>
<td>git branch -D [branch]</td>
</tr>
<tr>
<td>å°† dev åˆ†æ”¯å’Œå½“å‰åˆ†æ”¯åˆå¹¶</td>
<td>git merge dev</td>
</tr>
<tr>
<td>æŸ¥çœ‹æš‚å­˜åŒºçš„æ–‡ä»¶</td>
<td>git ls-files</td>
</tr>
<tr>
<td>åˆ é™¤æš‚å­˜åŒºé‡Œçš„æ–‡ä»¶</td>
<td>git rm â€“cached [file]</td>
</tr>
<tr>
<td>æœ¬åœ°åˆ†æ”¯å…³è”è¿œç¨‹åˆ†æ”¯</td>
<td>git branch â€“set-upstream-to [remote]/[branch] [localbranch]</td>
</tr>
<tr>
<td>å›é€€ç‰ˆæœ¬</td>
<td>git reset â€“hard [id]</td>
</tr>
</tbody></table>
<a id="more"></a>

<h2 id="git-commit-è§„èŒƒ"><a href="#git-commit-è§„èŒƒ" class="headerlink" title="git commit è§„èŒƒ"></a>git commit è§„èŒƒ</h2><p>è‰¯å¥½çš„ git commit ä¸ä»…æœ‰è‰¯å¥½çš„å¯è¯»æ€§ è€Œä¸”æœ‰åˆ©äºç”Ÿæˆ change logs åšä¸€äº›è‡ªåŠ¨åŒ–çš„äº‹æƒ…</p>
<p>ä¾‹å¦‚ angular.js çš„ å®˜ç½‘ <a href="https://github.com/angular/angular">https://github.com/angular/angular</a></p>
<p>åœ¨è¿™é‡Œ git commit å°±éå¸¸æ¸…æ™° ä¸åŒçš„ commit åˆ†æˆäº†ä¸åŒçš„ç±»å‹ è®©äººä¸€çœ¼å°±çŸ¥é“è¿™æ¬¡ commit å¯¹åº”å¹²äº†ä»€ä¹ˆ</p>
<p>commit çš„è§„èŒƒ ç½‘ä¸Šæœ‰å¾ˆå¤šä»‹ç» è¿™é‡Œåªè¯´ä¸€ç‚¹</p>
<p>Commit message éƒ½åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼šheaderï¼Œbody å’Œ footer</p>
<ul>
<li><p>Header</p>
<ul>
<li><p>type ï¼ˆå¿…éœ€ï¼‰ commit çš„ç±»åˆ«</p>
</li>
<li><p>scope å½±å“çš„èŒƒå›´</p>
</li>
<li><p>subjectï¼ˆå¿…éœ€ï¼‰ ç®€çŸ­çš„è¯´æ˜</p>
</li>
</ul>
</li>
<li><p>Body è¯¦ç»†çš„è¯´æ˜</p>
</li>
<li><p>Footer</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>type çš„ç±»å‹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>feat</td>
<td>æ–°å¢åŠŸèƒ½</td>
</tr>
<tr>
<td>fix</td>
<td>bug çš„ä¿®å¤</td>
</tr>
<tr>
<td>perf</td>
<td>æ€§èƒ½ä¼˜åŒ–</td>
</tr>
<tr>
<td>refactor</td>
<td>é‡æ„ä»£ç (æ—¢æ²¡æœ‰æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿæ²¡æœ‰ä¿®å¤ bug)</td>
</tr>
<tr>
<td>build</td>
<td>ä¸»è¦ç›®çš„æ˜¯ä¿®æ”¹é¡¹ç›®æ„å»ºç³»ç»Ÿ(ä¾‹å¦‚ glupï¼Œwebpackï¼Œrollup çš„é…ç½®ç­‰)çš„æäº¤</td>
</tr>
<tr>
<td>ci</td>
<td>ä¸»è¦ç›®çš„æ˜¯ä¿®æ”¹é¡¹ç›®ç»§ç»­é›†æˆæµç¨‹(ä¾‹å¦‚ Travisï¼ŒJenkinsï¼ŒGitLab CIï¼ŒCircle ç­‰)çš„æäº¤</td>
</tr>
<tr>
<td>docs</td>
<td>æ–‡æ¡£æ›´æ–°</td>
</tr>
<tr>
<td>style</td>
<td>ä¸å½±å“ç¨‹åºé€»è¾‘çš„ä»£ç ä¿®æ”¹(ä¿®æ”¹ç©ºç™½å­—ç¬¦ï¼Œè¡¥å…¨ç¼ºå¤±çš„åˆ†å·ç­‰)</td>
</tr>
<tr>
<td>revert</td>
<td>å›æ»šæŸä¸ªæ›´æ—©ä¹‹å‰çš„æäº¤</td>
</tr>
<tr>
<td>chore</td>
<td>å˜æ›´æ„å»ºæµç¨‹å’Œè¾…åŠ©å·¥å…·</td>
</tr>
<tr>
<td>test</td>
<td>æ–°å¢æµ‹è¯•ç”¨ä¾‹æˆ–æ˜¯æ›´æ–°ç°æœ‰æµ‹è¯•</td>
</tr>
</tbody></table>
<p>è¿™é‡Œä¸»è¦çš„è¯ è¿˜æ˜¯æ¨èä¸€æ¬¾æ’ä»¶å»å¸®åŠ©æˆ‘ä»¬è§„èŒƒè‡ªå·±çš„ commit å°±æ˜¯ husky</p>
<p><strong>1ã€Git Commit æ£€æµ‹å·¥å…·é“¾</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add -D husky @commitlint/config-conventional @commitlint/cli</span><br></pre></td></tr></table></figure>

<p>é…ç½® husky æ’ä»¶ï¼ˆåœ¨ package.json ä¸­æ–°å¢ä¸€ä¸ª husky ç›¸å…³é…ç½®ï¼‰</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;husky&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;hooks&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;pre-commit&quot;</span>: <span class="string">&quot;npm run lint&quot;</span>, <span class="comment">// ä¸éœ€è¦åœ¨Commitæ—¶lintï¼Œä¸é…ç½®æ­¤é¡¹</span></span><br><span class="line">    <span class="string">&quot;commit-msg&quot;</span>: <span class="string">&quot;commitlint -E HUSKY_GIT_PARAMS&quot;</span> <span class="comment">// æäº¤ä¿¡æ¯æ£€æµ‹</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª commitlint.config.js æ–‡ä»¶</p>
<p><strong>Husky é…ç½®</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="keyword">extends</span>: [<span class="string">&#x27;@commitlint/config-conventional&#x27;</span>], <span class="comment">// ä½¿ç”¨@commitlint/config-conventionalè§„èŒƒ</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šé…ç½®å®Œæ¯•åï¼Œå¦‚æœä¸æŒ‰ç…§è§„èŒƒæäº¤æ˜¯æ— æ³•æäº¤çš„ã€‚</p>
<p>husky å·¥å…·ä¼šç›´æ¥ä» Git å‘½ä»¤å±‚é¢æ‰“æ–­ä½ çš„æäº¤ã€‚</p>
<p>è¯·æŒ‰ç…§è§„èŒƒè¿›è¡Œæäº¤</p>
<p><strong>2ã€è¾…åŠ© Git Commit æäº¤æ ¼å¼åŒ–çš„çš„å·¥å…·</strong></p>
<p><strong>è¾…åŠ©æäº¤å·¥å…·</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add -D commitizen // æœ¬åœ°å®‰è£…</span><br><span class="line"></span><br><span class="line">npm install -g commitizen // å…¨å±€å®‰è£…ï¼Œå…¨å±€å®‰è£…åå¯ä»¥ä½¿ç”¨ git cz å‘½ä»¤ï¼Œè¿è¡Œgit cz ä¼šå¸®åŠ©æˆ‘ä»¬æ‰“å¼€äº¤äº’å¼çš„æäº¤</span><br></pre></td></tr></table></figure>

<p>æœ¬åœ°é¡¹ç›® commitizen é…ç½®ï¼ˆåœ¨ package.json ä¸­ï¼‰</p>
<p><strong>cz å‘½ä»¤é…ç½®</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;cz&quot;</span>: <span class="string">&quot;git-cz&quot;</span>,</span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">&quot;config&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;commitizen&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;path&quot;</span>: <span class="string">&quot;./node_modules/cz-conventional-changelog&quot;</span> <span class="comment">// è¿™ä¸ªæ–‡ä»¶æ˜¯commitizençš„å†…éƒ¨ä¾èµ–ï¼Œé‡Œé¢å®šä¹‰äº†ç¬¦åˆAngularæäº¤è§„èŒƒçš„ç›¸å…³ä¿¡æ¯ï¼Œä¹Ÿä¼šæ–¹ä¾¿æˆ‘ä»¬åç»­ç”Ÿæˆchangelog.mdçš„æ—¥å¿—</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šé…ç½®å®Œæ¯•åï¼Œå°±å¯ä»¥ä½¿ç”¨ git cz(å…¨å±€) æˆ–è€… npm run cz/yarn cz å¸®åŠ©æˆ‘ä»¬è¿›è¡Œæäº¤äº†</p>
<p><strong>3ã€æ—¥å¿—ç”Ÿæˆä¸ç‰ˆæœ¬å·è‡ªåŠ¨æ§åˆ¶å·¥å…·ï¼ˆé¡¹ç›®ç®¡ç†è€…ä½¿ç”¨ï¼Œæˆå‘˜äº†è§£å³å¯ï¼‰</strong></p>
<p><strong>changelog</strong></p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">yarn add -D standard-version</span><br><span class="line"></span><br><span class="line">åœ¨package.json ä¸­çš„é…ç½®</span><br><span class="line"></span><br><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;major&quot;: &quot;standard-version -r major&quot;, // ä¸€ä¸ªæœ€å¤§çš„ç‰ˆæœ¬å‡çº§, ä¼šç”Ÿæˆç›¸å…³çš„changelog,ä¿®æ”¹ç‰ˆæœ¬å· 1.0.0 -&gt; 2.0.0ï¼Œç”Ÿæˆä¸€ä¸ªTag</span><br><span class="line">    &quot;minor&quot;: &quot;standard-version -r minor&quot;, // ä¸­ç­‰çš„ç‰ˆæœ¬å‡çº§ ä¼šç”Ÿæˆç›¸å…³çš„changelog,ä¿®æ”¹ç‰ˆæœ¬å· 1.0.0 -&gt; 1.1.0, ç”Ÿæˆä¸€ä¸ªTag</span><br><span class="line">    &quot;patch&quot;: &quot;standard-version -r patch --skip.tag&quot;,// æœ€å°çš„ç‰ˆæœ¬å‡çº§ ä¼šç”Ÿæˆç›¸å…³çš„changelog,ä¿®æ”¹ç‰ˆæœ¬å· 1.0.0 -&gt; 1.0.1, è·³è¿‡ç”ŸæˆTag.</span><br><span class="line">    &quot;init&quot;: &quot;standard-version  --first-release --skip.tag&quot; // é¦–æ¬¡ç”Ÿæˆç›¸å…³çš„changelog, ä¸ä¿®æ”¹ç‰ˆæœ¬å·, è·³è¿‡ç”ŸæˆTag. // ä¹Ÿå¯ä»¥ä¸é…ç½®è¿›è„šæœ¬ï¼Œç”¨npx standard-version  --first-release --skip.tag æ‰§è¡Œ</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Others</category>
      </categories>
      <tags>
        <tag>Others</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„-é˜Ÿåˆ—</title>
    <url>/Data-Structure/%E9%98%9F%E5%88%97/</url>
    <content><![CDATA[<h2 id="åŠŸèƒ½"><a href="#åŠŸèƒ½" class="headerlink" title="åŠŸèƒ½"></a>åŠŸèƒ½</h2><ul>
<li><p>åˆå§‹åŒ–</p>
</li>
<li><p>å…¥é˜Ÿ</p>
</li>
<li><p>å‡ºé˜Ÿ</p>
</li>
<li><p>åˆ¤æ–­é˜Ÿç©º é˜Ÿæ»¡</p>
</li>
<li><p>åº”ç”¨</p>
</li>
</ul>
<a id="more"></a>

<h2 id="é¡ºåºå­˜å‚¨"><a href="#é¡ºåºå­˜å‚¨" class="headerlink" title="é¡ºåºå­˜å‚¨"></a>é¡ºåºå­˜å‚¨</h2><h3 id="æ€è·¯ä¸€"><a href="#æ€è·¯ä¸€" class="headerlink" title="æ€è·¯ä¸€"></a>æ€è·¯ä¸€</h3><p>å¤´æŒ‡é’ˆ front æŒ‡å‘é˜Ÿå¤´å…ƒç´ </p>
<p>å°¾æŒ‡é’ˆ rear æŒ‡å‘ä¸‹ä¸€ä¸ªæ’å…¥å…ƒç´ çš„ä½ç½®</p>
<p>åˆå§‹åŒ–æ—¶ å°†é˜Ÿå¤´æŒ‡é’ˆå’Œé˜Ÿå°¾æŒ‡é’ˆæŒ‡å‘ 0</p>
<p>åˆ™ åˆ¤æ–­é˜Ÿç©º æ¡ä»¶ å¤´æŒ‡é’ˆ = å°¾æŒ‡é’ˆ</p>
<p>å‡ºé˜Ÿå…¥é˜Ÿå ä¸‹ä¸€ä¸ªå¤´æŒ‡é’ˆ å°¾æŒ‡é’ˆçš„æŒ‡å‘ ï¼ˆfront++ï¼‰% MaxSize</p>
<p>åˆ¤æ–­é˜Ÿæ»¡æ¡ä»¶ åˆ™ä¸º ä¸‹ä¸€ä¸ªå°¾æŒ‡é’ˆ = å¤´æŒ‡é’ˆ</p>
<p>ps å› ä¸ºæ­¤æ€è·¯ å¤´æŒ‡é’ˆ = å°¾æŒ‡é’ˆ ä¸ºé˜Ÿç©ºæ¡ä»¶ æ‰€ä»¥éœ€è¦ç‰ºç‰²æœ€åä¸€ä¸ª å­˜å‚¨ç©ºé—´</p>
<h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MaxSize 10</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ElemType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    ElemType data[MaxSize];</span><br><span class="line">    <span class="keyword">int</span> front, rear;</span><br><span class="line">&#125; SqQueue;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InitQueue</span><span class="params">(SqQueue &amp;Q)</span> </span>&#123;</span><br><span class="line">    Q.rear = <span class="number">0</span>;</span><br><span class="line">    Q.front = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">EnQueue</span><span class="params">(SqQueue &amp;Q, ElemType e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ((Q.rear + <span class="number">1</span>) % MaxSize == Q.front)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    Q.data[Q.rear] = e;</span><br><span class="line">    Q.rear = (Q.rear + <span class="number">1</span>) % MaxSize;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DeQueue</span><span class="params">(SqQueue &amp;Q, ElemType &amp;e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Q.rear == Q.front)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    e = Q.data[Q.front];</span><br><span class="line">    Q.front = (Q.front + <span class="number">1</span>) % MaxSize;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">GetHead</span><span class="params">(SqQueue &amp;Q, ElemType &amp;e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Q.rear == Q.front)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    e = Q.data[Q.front];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintQueue</span><span class="params">(SqQueue &amp;Q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = Q.front; i &lt; Q.rear; ++i) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%5d&quot;</span>,Q.data[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    SqQueue Q;</span><br><span class="line">    InitQueue(Q);</span><br><span class="line">    EnQueue(Q,<span class="number">1</span>);</span><br><span class="line">    EnQueue(Q,<span class="number">2</span>);</span><br><span class="line">    EnQueue(Q,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">-1</span>;</span><br><span class="line">    DeQueue(Q,i);</span><br><span class="line">    PrintQueue(Q);</span><br><span class="line">    <span class="comment">//Test......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ€è·¯äºŒ"><a href="#æ€è·¯äºŒ" class="headerlink" title="æ€è·¯äºŒ"></a>æ€è·¯äºŒ</h3><p>å†å®šä¹‰ä¸€ä¸ª size è®°å½• é˜Ÿåˆ—é•¿åº¦ é€šè¿‡ size æ¥åˆ¤æ–­ é˜Ÿåˆ— ä¸ºç©ºå’Œæ»¡ è¿™æ ·å°±ä¸ç”¨æµªè´¹æœ€åä¸€ä¸ªå­˜å‚¨ç©ºé—´</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    ElemType data[MaxSize];</span><br><span class="line">    <span class="keyword">int</span> front, rear;</span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line">&#125; SqQueue;</span><br></pre></td></tr></table></figure>

<h3 id="é“¾å¼å­˜å‚¨"><a href="#é“¾å¼å­˜å‚¨" class="headerlink" title="é“¾å¼å­˜å‚¨"></a>é“¾å¼å­˜å‚¨</h3><h4 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><p>åŠŸèƒ½å—é™çš„å•é“¾è¡¨ è¡¨å°¾æ’å…¥ è¡¨å¤´åˆ é™¤</p>
<h3 id="åŒç«¯é˜Ÿåˆ—"><a href="#åŒç«¯é˜Ÿåˆ—" class="headerlink" title="åŒç«¯é˜Ÿåˆ—"></a>åŒç«¯é˜Ÿåˆ—</h3><h3 id="é˜Ÿåˆ—åº”ç”¨"><a href="#é˜Ÿåˆ—åº”ç”¨" class="headerlink" title="é˜Ÿåˆ—åº”ç”¨"></a>é˜Ÿåˆ—åº”ç”¨</h3><h4 id="æ‹¬å·åŒ¹é…"><a href="#æ‹¬å·åŒ¹é…" class="headerlink" title="æ‹¬å·åŒ¹é…"></a>æ‹¬å·åŒ¹é…</h4><h4 id="è¡¨è¾¾å¼æ±‚å€¼"><a href="#è¡¨è¾¾å¼æ±‚å€¼" class="headerlink" title="è¡¨è¾¾å¼æ±‚å€¼"></a>è¡¨è¾¾å¼æ±‚å€¼</h4><h5 id="ä¸­ç¼€è¡¨è¾¾å¼"><a href="#ä¸­ç¼€è¡¨è¾¾å¼" class="headerlink" title="ä¸­ç¼€è¡¨è¾¾å¼"></a>ä¸­ç¼€è¡¨è¾¾å¼</h5><h5 id="å‰ç¼€è¡¨è¾¾å¼ï¼ˆæ³¢å…°è¡¨è¾¾å¼ï¼‰"><a href="#å‰ç¼€è¡¨è¾¾å¼ï¼ˆæ³¢å…°è¡¨è¾¾å¼ï¼‰" class="headerlink" title="å‰ç¼€è¡¨è¾¾å¼ï¼ˆæ³¢å…°è¡¨è¾¾å¼ï¼‰"></a>å‰ç¼€è¡¨è¾¾å¼ï¼ˆæ³¢å…°è¡¨è¾¾å¼ï¼‰</h5><h5 id="åç¼€è¡¨è¾¾å¼ï¼ˆé€†æ³¢å…°è¡¨è¾¾å¼ï¼‰"><a href="#åç¼€è¡¨è¾¾å¼ï¼ˆé€†æ³¢å…°è¡¨è¾¾å¼ï¼‰" class="headerlink" title="åç¼€è¡¨è¾¾å¼ï¼ˆé€†æ³¢å…°è¡¨è¾¾å¼ï¼‰"></a>åç¼€è¡¨è¾¾å¼ï¼ˆé€†æ³¢å…°è¡¨è¾¾å¼ï¼‰</h5><p>è¿ç®—ç¬¦åœ¨ä¸¤ä¸ªæ“ä½œæ•°åé¢</p>
<p>ab+cd*-</p>
<ol>
<li><p>a+b</p>
</li>
<li><p>c*d</p>
</li>
<li><p>a+b - c*d</p>
</li>
</ol>
<h4 id="å‡½æ•°è°ƒç”¨"><a href="#å‡½æ•°è°ƒç”¨" class="headerlink" title="å‡½æ•°è°ƒç”¨"></a>å‡½æ•°è°ƒç”¨</h4><p>æœ€åè¢«è°ƒç”¨çš„å‡½æ•°æœ€å…ˆç»“æŸ</p>
]]></content>
      <categories>
        <category>Date Structure</category>
      </categories>
      <tags>
        <tag>Date Structure</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„-æ ˆ</title>
    <url>/Data-Structure/%E6%A0%88/</url>
    <content><![CDATA[<h2 id="åŠŸèƒ½"><a href="#åŠŸèƒ½" class="headerlink" title="åŠŸèƒ½"></a>åŠŸèƒ½</h2><ul>
<li><p>åˆå§‹åŒ–</p>
</li>
<li><p>é”€æ¯</p>
</li>
<li><p>è¿›æ ˆ</p>
</li>
<li><p>å‡ºæ ˆ</p>
</li>
<li><p>è¯»å–æ ˆé¡¶å…ƒç´ </p>
</li>
<li><p>åˆ¤æ–­æ ˆç©º</p>
</li>
<li><p>åˆ¤æ–­æ ˆæ»¡</p>
</li>
</ul>
<a id="more"></a>

<h3 id="é¡ºåºæ ˆ"><a href="#é¡ºåºæ ˆ" class="headerlink" title="é¡ºåºæ ˆ"></a>é¡ºåºæ ˆ</h3><p>æ ˆé¡¶æŒ‡é’ˆæŒ‡å‘-1</p>
<p>åˆ¤æ–­æ ˆæ»¡ æ ˆé¡¶æŒ‡é’ˆ = æ ˆçš„ MaxSize - 1</p>
<p>åˆ¤æ–­æ ˆç©º æ ˆé¡¶æŒ‡é’ˆ = -1</p>
<p>åŒç† æ ˆé¡¶æŒ‡é’ˆè¿˜å¯ä»¥æŒ‡å‘ 0</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MaxSize 10</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ElemType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    ElemType data[MaxSize];</span><br><span class="line">    <span class="keyword">int</span> top;</span><br><span class="line">&#125; SqStack;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InitStack</span><span class="params">(SqStack &amp;S)</span> </span>&#123;</span><br><span class="line">    S.top = <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿›æ ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Push</span><span class="params">(SqStack &amp;S, ElemType e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (S.top == MaxSize)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    S.data[++S.top] = e;<span class="comment">//æŒ‡é’ˆå…ˆåŠ 1 æ–°å…ƒç´ å†è¿›æ ˆ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‡ºæ ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Pop</span><span class="params">(SqStack &amp;S, ElemType &amp;e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (S.top == <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    e = S.data[S.top--];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¯»å–æ ˆé¡¶å…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">GetTop</span><span class="params">(SqStack &amp;S, ElemType &amp;e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (S.top == <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    e = S.data[S.top];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    SqStack S;</span><br><span class="line">    InitStack(S);</span><br><span class="line">    <span class="comment">//test......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é“¾æ ˆ"><a href="#é“¾æ ˆ" class="headerlink" title="é“¾æ ˆ"></a>é“¾æ ˆ</h3><p>æ€è·¯ï¼šå…ˆè¿›åå‡º</p>
<p>ä½¿ç”¨æ“ä½œå—é™çš„é“¾è¡¨</p>
<p>è¿›æ ˆ å¤´æ’æ³•</p>
<p>å‡ºæ ˆ åˆ é™¤ç¬¬ä¸€ä¸ªç»“ç‚¹</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ElemType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">LinkNode</span> &#123;</span></span><br><span class="line">    ElemType data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">LinkNode</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; LinkNode, *LinkStack;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InitLinkStack</span><span class="params">(LinkStack &amp;S)</span> </span>&#123;</span><br><span class="line">    S = (LinkNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LinkNode));</span><br><span class="line">    <span class="keyword">if</span> (S == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    S-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿›æ ˆ    ç›¸å½“äºé“¾è¡¨çš„å¤´æ’æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Push</span><span class="params">(LinkStack &amp;S, ElemType e)</span> </span>&#123;</span><br><span class="line">    LinkNode *l = (LinkNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LinkNode));</span><br><span class="line">    l-&gt;next = S-&gt;next;</span><br><span class="line">    S-&gt;next = l;</span><br><span class="line">    l-&gt;data = e;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‡ºæ ˆ    æ¯æ¬¡åˆ é™¤ç¬¬ä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Pop</span><span class="params">(LinkStack &amp;S, ElemType &amp;e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (S-&gt;next == <span class="literal">NULL</span>)<span class="comment">//åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    S-&gt;next = S-&gt;next-&gt;next;</span><br><span class="line">    e = S-&gt;next-&gt;data;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰“å°é“¾æ ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintStack</span><span class="params">(LinkStack &amp;S)</span> </span>&#123;</span><br><span class="line">    LinkNode *p = S;</span><br><span class="line">    <span class="keyword">while</span> (p-&gt;next != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%3d&quot;</span>, p-&gt;next-&gt;data);</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    LinkStack S;</span><br><span class="line">    InitLinkStack(S);</span><br><span class="line">	<span class="comment">//Test......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Date Structure</category>
      </categories>
      <tags>
        <tag>Date Structure</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„-é“¾è¡¨</title>
    <url>/Data-Structure/%E9%93%BE%E8%A1%A8/</url>
    <content><![CDATA[<h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><ul>
<li><p>å•é“¾è¡¨</p>
</li>
<li><p>åŒé“¾è¡¨</p>
</li>
<li><p>å¾ªç¯é“¾è¡¨</p>
</li>
<li><p>é™æ€é“¾è¡¨</p>
</li>
</ul>
<a id="more"></a>

<h3 id="å•é“¾è¡¨"><a href="#å•é“¾è¡¨" class="headerlink" title="å•é“¾è¡¨"></a>å•é“¾è¡¨</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ElemType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">LNode</span> &#123;</span></span><br><span class="line">    ElemType data;<span class="comment">//æ•°æ®é¡¹</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">LNode</span> *<span class="title">next</span>;</span><span class="comment">//æŒ‡é’ˆé¡¹</span></span><br><span class="line">&#125; LNode, *LinkList;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InitList</span><span class="params">(LinkList &amp;L)</span> </span>&#123;</span><br><span class="line">    L = (LNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">    <span class="keyword">if</span> (L == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    L-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨ä½åºiå¤„æ’å…¥å…ƒç´ e</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ListInsert</span><span class="params">(LinkList &amp;L, <span class="keyword">int</span> i, ElemType e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    LNode *p;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">    p = L;<span class="comment">//åˆå§‹åŒ–ä¸€ä¸ªæŒ‡å‘å¤´ç»“ç‚¹çš„æŒ‡é’ˆp</span></span><br><span class="line">    <span class="comment">//æ‰¾åˆ°i-1ä¸ªç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">NULL</span> &amp;&amp; j &lt; i - <span class="number">1</span>) &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    LNode *s = (LNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">    s-&gt;data = e;</span><br><span class="line">    s-&gt;next = p-&gt;next;</span><br><span class="line">    p-&gt;next = s;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨pç»“ç‚¹ä¹‹åæ’å…¥å…ƒç´ e</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InsertNextNode</span><span class="params">(LNode *p, ElemType e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    LNode *s = (LNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    s-&gt;data = e;</span><br><span class="line">    s-&gt;next = p-&gt;next;</span><br><span class="line">    p-&gt;next = s;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨pç»“ç‚¹ä¹‹å‰æ’å…¥å…ƒç´ e</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InsertPriorNode</span><span class="params">(LNode *p, ElemType e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    LNode *s = (LNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">    s-&gt;next = p-&gt;next;</span><br><span class="line">    p-&gt;next = s;</span><br><span class="line">    s-&gt;data = p-&gt;data;</span><br><span class="line">    p-&gt;data = e;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤´æ’æ³•</span></span><br><span class="line"><span class="function">LinkList <span class="title">List_HeadInsert</span><span class="params">(LinkList &amp;L, ElemType e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (L == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    LNode *s = (LNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">    s-&gt;next = L-&gt;next;</span><br><span class="line">    L-&gt;next = s;</span><br><span class="line">    s-&gt;data = e;</span><br><span class="line">    <span class="keyword">return</span> L;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°¾æ’æ³•</span></span><br><span class="line"><span class="function">LinkList <span class="title">List_TailInsert</span><span class="params">(LinkList &amp;L, ElemType e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (L == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    LNode *p = L;</span><br><span class="line">    LNode *s = (LNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">    <span class="keyword">while</span> (p-&gt;next != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    s-&gt;next = p-&gt;next;</span><br><span class="line">    p-&gt;next = s;</span><br><span class="line">    s-&gt;data = e;</span><br><span class="line">    <span class="keyword">return</span> L;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤ç¬¬iä¸ªä½ç½®çš„å…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ListDelete</span><span class="params">(LinkList &amp;L, <span class="keyword">int</span> i, ElemType &amp;e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    LNode *p = L;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">NULL</span> &amp;&amp; j &lt; i - <span class="number">1</span>) &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (p-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    LNode *q = p-&gt;next;<span class="comment">//è¢«åˆ é™¤çš„ç»“ç‚¹</span></span><br><span class="line">    e = q-&gt;data;</span><br><span class="line">    p-&gt;next = q-&gt;next;</span><br><span class="line">    <span class="built_in">free</span>(q);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤æŒ‡å®šç»“ç‚¹p</span></span><br><span class="line"><span class="comment">//å•é“¾è¡¨æ‰¾ä¸åˆ°å‰ç»§ç»“ç‚¹ å°†è¢«åˆ é™¤ç»“ç‚¹çš„åç»§ç»“ç‚¹èµ‹å€¼ç»™åˆ é™¤èŠ‚ç‚¹ ç„¶ååˆ é™¤åç»§ç»“ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DeleteNode</span><span class="params">(LNode *p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    LNode *q = p-&gt;next;</span><br><span class="line">    p-&gt;data = q-&gt;data;</span><br><span class="line">    p-&gt;next = q-&gt;next;</span><br><span class="line">    <span class="built_in">free</span>(q);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŒ‰ä½æŸ¥æ‰¾ç¬¬iä¸ªå…ƒç´ </span></span><br><span class="line"><span class="function">LNode *<span class="title">GetElem</span><span class="params">(LinkList &amp;L, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    LNode *p = L;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">NULL</span> &amp;&amp; j &lt; i - <span class="number">1</span>) &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŒ‰å€¼æŸ¥æ‰¾</span></span><br><span class="line"><span class="function">LNode *<span class="title">LocateElem</span><span class="params">(LinkList &amp;L, ElemType e)</span> </span>&#123;</span><br><span class="line">    LNode *p = L-&gt;next;<span class="comment">//ä»ç¬¬ä¸€ä¸ªç»“ç‚¹å¼€å§‹æŸ¥æ‰¾</span></span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">NULL</span> &amp;&amp; p-&gt;data != e)</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ±‚è¡¨é•¿</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Length</span><span class="params">(LinkList &amp;L)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    LNode *p = L;</span><br><span class="line">    <span class="keyword">while</span> (p-&gt;next != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        len++;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰“å°é“¾è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintList</span><span class="params">(LinkList &amp;L)</span> </span>&#123;</span><br><span class="line">    LNode *p = L;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (p-&gt;next != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%5d&quot;</span>, p-&gt;next-&gt;data);<span class="comment">//pæŒ‡å‘å¤´ç»“ç‚¹ å¤´ç»“ç‚¹ä¸å«æ•°æ®é¡¹</span></span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        count++;</span><br><span class="line">        <span class="keyword">if</span> (count == <span class="number">5</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">            count = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    LinkList L;</span><br><span class="line">    initList(L);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">100</span>; ++i) &#123;</span><br><span class="line">        ListInsert(L, i, i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æµ‹è¯•......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åŒé“¾è¡¨"><a href="#åŒé“¾è¡¨" class="headerlink" title="åŒé“¾è¡¨"></a>åŒé“¾è¡¨</h3><p>æ€è·¯</p>
<p>åœ¨å•é“¾è¡¨çš„åŸºç¡€ä¸Š å¤šäº†å‰é¡¹æŒ‡é’ˆ æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ElemType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">DNode</span> &#123;</span></span><br><span class="line">    ElemType data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">DNode</span> *<span class="title">prior</span>, *<span class="title">next</span>;</span></span><br><span class="line">&#125; DNode, *DLinkList;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InitDLinkList</span><span class="params">(DLinkList &amp;L)</span> </span>&#123;</span><br><span class="line">    L = (DNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(DNode));</span><br><span class="line">    <span class="keyword">if</span> (L == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    L-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    L-&gt;data = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InsertNextDNode</span><span class="params">(DNode *p, DNode *s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span> || s == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    s-&gt;next = p-&gt;next;</span><br><span class="line">    <span class="keyword">if</span> (p-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">        p-&gt;next-&gt;prior = s;</span><br><span class="line">    s-&gt;prior = p;</span><br><span class="line">    p-&gt;next = s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DeleteNextDNode</span><span class="params">(DNode *p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    DNode *q = p-&gt;next;</span><br><span class="line">    <span class="keyword">if</span> (q == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    p-&gt;next = q-&gt;next;</span><br><span class="line">    <span class="keyword">if</span> (q-&gt;next != <span class="literal">NULL</span>)<span class="comment">//å¦‚æœqç»“ç‚¹ä¸æ˜¯æœ€åä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">        q-&gt;next-&gt;prior = p;</span><br><span class="line">    <span class="built_in">free</span>(q);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="comment">//Test......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¾ªç¯é“¾è¡¨"><a href="#å¾ªç¯é“¾è¡¨" class="headerlink" title="å¾ªç¯é“¾è¡¨"></a>å¾ªç¯é“¾è¡¨</h3><p>æ€è·¯</p>
<p>åœ¨å•é“¾è¡¨çš„åŸºç¡€ä¸Š å°¾æŒ‡é’ˆæŒ‡å›å¤´ç»“ç‚¹</p>
<p>åˆå§‹åŒ–æ—¶ å¤´ç»“ç‚¹çš„ next æŒ‡é’ˆæŒ‡å‘è‡ªå·±</p>
<p>åˆ™ åˆ¤æ–­è¡¨ç©ºæ¡ä»¶åˆ™ä¸ºå¤´æŒ‡é’ˆæ˜¯å¦æŒ‡å‘è‡ªå·±</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">InitList</span><span class="params">(LinkList &amp;L)</span> </span>&#123;</span><br><span class="line">    L = (LNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LNode));</span><br><span class="line">    <span class="keyword">if</span> (L == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    L-&gt;next = L;<span class="comment">//!!!</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Date Structure</category>
      </categories>
      <tags>
        <tag>Date Structure</tag>
      </tags>
  </entry>
  <entry>
    <title>æµè§ˆå™¨å·¥ä½œåŸç†</title>
    <url>/FE/Browser/broswer/</url>
    <content><![CDATA[<h2 id="æµè§ˆå™¨å·¥ä½œåŸç†"><a href="#æµè§ˆå™¨å·¥ä½œåŸç†" class="headerlink" title="æµè§ˆå™¨å·¥ä½œåŸç†"></a>æµè§ˆå™¨å·¥ä½œåŸç†</h2><img src="http://img.smyhvae.com/20180124_1700.png" style="zoom: 80%;" />

<a id="more"></a>

<p>1ã€User Interface  ç”¨æˆ·ç•Œé¢ï¼Œæˆ‘ä»¬æ‰€çœ‹åˆ°çš„æµè§ˆå™¨</p>
<p>2ã€Browser engine  æµè§ˆå™¨å¼•æ“ï¼Œç”¨æ¥æŸ¥è¯¢å’Œæ“ä½œæ¸²æŸ“å¼•æ“</p>
<p>3ã€Rendering engine ç”¨æ¥æ˜¾ç¤ºè¯·æ±‚çš„å†…å®¹ï¼Œè´Ÿè´£è§£æHTMLã€CSS</p>
<p>4ã€Networking   ç½‘ç»œï¼Œè´Ÿè´£å‘é€ç½‘ç»œè¯·æ±‚</p>
<p>5ã€JavaScript Interpreter(è§£æè€…)   JavaScriptè§£æå™¨ï¼Œè´Ÿè´£æ‰§è¡ŒJavaScriptçš„ä»£ç </p>
<p>6ã€UI Backend   UIåç«¯ï¼Œç”¨æ¥ç»˜åˆ¶ç±»ä¼¼ç»„åˆæ¡†å’Œå¼¹å‡ºçª—å£</p>
<p>7ã€Data Persistence(æŒä¹…åŒ–)  æ•°æ®æŒä¹…åŒ–ï¼Œæ•°æ®å­˜å‚¨  cookieã€HTML5ä¸­çš„sessionStorage</p>
]]></content>
      <categories>
        <category>Browser</category>
      </categories>
      <tags>
        <tag>Browser</tag>
      </tags>
  </entry>
  <entry>
    <title>cookie / session</title>
    <url>/FE/Browser/cookie-session/</url>
    <content><![CDATA[<blockquote>
<p>è½¬è½½è‡ªï¼š<a href="https://blog.csdn.net/weixin_34332905/article/details/91362567?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase">CSDN</a></p>
</blockquote>
<h3 id="ç¬¬ä¸€å±‚æ¥¼"><a href="#ç¬¬ä¸€å±‚æ¥¼" class="headerlink" title="ç¬¬ä¸€å±‚æ¥¼"></a>ç¬¬ä¸€å±‚æ¥¼</h3><p>ä»€ä¹ˆæ˜¯ Cookie</p>
<p>HTTP Cookieï¼ˆä¹Ÿå« Web Cookieæˆ–æµè§ˆå™¨ Cookieï¼‰æ˜¯<strong>æœåŠ¡å™¨å‘é€åˆ°ç”¨æˆ·æµè§ˆå™¨</strong>å¹¶ä¿å­˜åœ¨æœ¬åœ°çš„ä¸€å°å—æ•°æ®ï¼Œ</p>
<p>å®ƒä¼šåœ¨æµè§ˆå™¨ä¸‹æ¬¡å‘åŒä¸€æœåŠ¡å™¨å†å‘èµ·è¯·æ±‚æ—¶è¢«æºå¸¦å¹¶å‘é€åˆ°æœåŠ¡å™¨ä¸Šã€‚</p>
<p>é€šå¸¸ï¼Œå®ƒç”¨äºå‘ŠçŸ¥æœåŠ¡ç«¯ä¸¤ä¸ªè¯·æ±‚æ˜¯å¦æ¥è‡ªåŒä¸€æµè§ˆå™¨ï¼Œå¦‚<strong>ä¿æŒç”¨æˆ·çš„ç™»å½•çŠ¶æ€</strong>ã€‚</p>
<p>Cookie ä½¿åŸºäºæ— çŠ¶æ€çš„ HTTP åè®®è®°å½•ç¨³å®šçš„çŠ¶æ€ä¿¡æ¯æˆä¸ºäº†å¯èƒ½ã€‚</p>
<p>Cookie ä¸»è¦ç”¨äºä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li><p>ä¼šè¯çŠ¶æ€ç®¡ç†ï¼ˆå¦‚ç”¨æˆ·ç™»å½•çŠ¶æ€ã€è´­ç‰©è½¦ã€æ¸¸æˆåˆ†æ•°æˆ–å…¶å®ƒéœ€è¦è®°å½•çš„ä¿¡æ¯ï¼‰</p>
</li>
<li><p>ä¸ªæ€§åŒ–è®¾ç½®ï¼ˆå¦‚ç”¨æˆ·è‡ªå®šä¹‰è®¾ç½®ã€ä¸»é¢˜ç­‰ï¼‰</p>
</li>
<li><p>æµè§ˆå™¨è¡Œä¸ºè·Ÿè¸ªï¼ˆå¦‚è·Ÿè¸ªåˆ†æç”¨æˆ·è¡Œä¸ºç­‰ï¼‰</p>
</li>
</ul>
<p>ä»€ä¹ˆæ˜¯ Session</p>
<p>Session ä»£è¡¨ç€æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¸€æ¬¡ä¼šè¯çš„è¿‡ç¨‹ã€‚Session å¯¹è±¡å­˜å‚¨ç‰¹å®šç”¨æˆ·ä¼šè¯æ‰€éœ€çš„å±æ€§åŠé…ç½®ä¿¡æ¯ã€‚</p>
<p>è¿™æ ·ï¼Œ</p>
<p><strong>å½“ç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºçš„ Web é¡µä¹‹é—´è·³è½¬æ—¶ï¼Œå­˜å‚¨åœ¨ Session å¯¹è±¡ä¸­çš„å˜é‡å°†ä¸ä¼šä¸¢å¤±ï¼Œ</strong></p>
<p><strong>è€Œæ˜¯åœ¨æ•´ä¸ªç”¨æˆ·ä¼šè¯ä¸­ä¸€ç›´å­˜åœ¨ä¸‹å»ã€‚å½“å®¢æˆ·ç«¯å…³é—­ä¼šè¯ï¼Œæˆ–è€… Session è¶…æ—¶å¤±æ•ˆæ—¶ä¼šè¯ç»“æŸ</strong>ã€‚</p>
<a id="more"></a>

<h3 id="ç¬¬äºŒå±‚æ¥¼"><a href="#ç¬¬äºŒå±‚æ¥¼" class="headerlink" title="ç¬¬äºŒå±‚æ¥¼"></a>ç¬¬äºŒå±‚æ¥¼</h3><p>Cookie å’Œ Session æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</p>
<p>ä½œç”¨èŒƒå›´ä¸åŒï¼Œ<strong>Cookie ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ï¼ŒSession ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯</strong>ã€‚</p>
<p>å­˜å–æ–¹å¼çš„ä¸åŒï¼Œ<strong>Cookie åªèƒ½ä¿å­˜ ASCIIï¼ŒSession å¯ä»¥å­˜ä»»æ„æ•°æ®ç±»å‹</strong>ï¼Œ</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥åœ¨ Session ä¸­ä¿æŒä¸€äº›å¸¸ç”¨å˜é‡ä¿¡æ¯ï¼Œæ¯”å¦‚è¯´ UserId ç­‰ã€‚</p>
<p>æœ‰æ•ˆæœŸä¸åŒï¼ŒCookie å¯è®¾ç½®ä¸ºé•¿æ—¶é—´ä¿æŒï¼Œæ¯”å¦‚æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„é»˜è®¤ç™»å½•åŠŸèƒ½ï¼Œ</p>
<p>Session ä¸€èˆ¬å¤±æ•ˆæ—¶é—´è¾ƒçŸ­ï¼Œå®¢æˆ·ç«¯å…³é—­æˆ–è€… Session è¶…æ—¶éƒ½ä¼šå¤±æ•ˆã€‚</p>
<p>éšç§ç­–ç•¥ä¸åŒï¼ŒCookie å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œæ¯”è¾ƒå®¹æ˜“é­åˆ°ä¸æ³•è·å–ï¼Œ</p>
<p>æ—©æœŸæœ‰äººå°†ç”¨æˆ·çš„ç™»å½•åå’Œå¯†ç å­˜å‚¨åœ¨ Cookieä¸­å¯¼è‡´ä¿¡æ¯è¢«çªƒå–ï¼›</p>
<p>Session å­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼Œå®‰å…¨æ€§ç›¸å¯¹ Cookie è¦å¥½ä¸€äº›ã€‚</p>
<p>å­˜å‚¨å¤§å°ä¸åŒï¼Œ å•ä¸ª Cookie ä¿å­˜çš„æ•°æ®ä¸èƒ½è¶…è¿‡ 4Kï¼ŒSession å¯å­˜å‚¨æ•°æ®è¿œé«˜äº Cookieã€‚</p>
<h3 id="ç¬¬ä¸‰å±‚æ¥¼"><a href="#ç¬¬ä¸‰å±‚æ¥¼" class="headerlink" title="ç¬¬ä¸‰å±‚æ¥¼"></a>ç¬¬ä¸‰å±‚æ¥¼</h3><p>ä¸ºä»€ä¹ˆéœ€è¦ Cookie å’Œ Sessionï¼Œä»–ä»¬æœ‰ä»€ä¹ˆå…³è”ï¼Ÿ</p>
<p>è¯´èµ·æ¥ä¸ºä»€ä¹ˆéœ€è¦ Cookie ï¼Œè¿™å°±éœ€è¦ä»æµè§ˆå™¨å¼€å§‹è¯´èµ·ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“æµè§ˆå™¨æ˜¯æ²¡æœ‰çŠ¶æ€çš„(HTTP åè®®æ— çŠ¶æ€)ï¼Œ</p>
<p>è¿™æ„å‘³ç€æµè§ˆå™¨å¹¶ä¸çŸ¥é“æ˜¯å¼ ä¸‰è¿˜æ˜¯æå››åœ¨å’ŒæœåŠ¡ç«¯æ‰“äº¤é“ã€‚</p>
<p>è¿™ä¸ªæ—¶å€™å°±éœ€è¦æœ‰ä¸€ä¸ªæœºåˆ¶æ¥å‘Šè¯‰æœåŠ¡ç«¯ï¼Œæœ¬æ¬¡æ“ä½œç”¨æˆ·æ˜¯å¦ç™»å½•ï¼Œæ˜¯å“ªä¸ªç”¨æˆ·åœ¨æ‰§è¡Œçš„æ“ä½œï¼Œ</p>
<p>é‚£è¿™å¥—æœºåˆ¶çš„å®ç°å°±éœ€è¦ Cookie å’Œ Session çš„é…åˆã€‚</p>
<p>é‚£ä¹ˆ Cookie å’Œ Session æ˜¯å¦‚ä½•é…åˆçš„å‘¢ï¼Ÿ</p>
<p>ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡å™¨çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨æ ¹æ®ç”¨æˆ·æäº¤çš„ç›¸å…³ä¿¡æ¯ï¼Œåˆ›å»ºå¯¹åº”çš„ Session ï¼Œ</p>
<p>è¯·æ±‚è¿”å›æ—¶å°†æ­¤Session çš„å”¯ä¸€æ ‡è¯†ä¿¡æ¯ SessionID è¿”å›ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨æ¥æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„ SessionID ä¿¡æ¯åï¼Œ</p>
<p>ä¼šå°†æ­¤ä¿¡æ¯å­˜å…¥åˆ° Cookie ä¸­ï¼ŒåŒæ—¶ Cookie è®°å½•æ­¤ SessionID å±äºå“ªä¸ªåŸŸåã€‚</p>
<p>å½“ç”¨æˆ·ç¬¬äºŒæ¬¡è®¿é—®æœåŠ¡å™¨çš„æ—¶å€™ï¼Œè¯·æ±‚ä¼šè‡ªåŠ¨åˆ¤æ–­æ­¤åŸŸåä¸‹æ˜¯å¦å­˜åœ¨ Cookie ä¿¡æ¯ï¼Œ</p>
<p>å¦‚æœå­˜åœ¨è‡ªåŠ¨å°† Cookie ä¿¡æ¯ä¹Ÿå‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¼šä» Cookie ä¸­è·å– SessionIDï¼Œ</p>
<p>å†æ ¹æ® SessionID æŸ¥æ‰¾å¯¹åº”çš„ Session ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°è¯´æ˜ç”¨æˆ·æ²¡æœ‰ç™»å½•æˆ–è€…ç™»å½•å¤±æ•ˆï¼Œ</p>
<p>å¦‚æœæ‰¾åˆ° Session è¯æ˜ç”¨æˆ·å·²ç»ç™»å½•å¯æ‰§è¡Œåé¢æ“ä½œã€‚</p>
<p>æ ¹æ®ä»¥ä¸Šæµç¨‹å¯çŸ¥ï¼ŒSessionID æ˜¯è¿æ¥ Cookie å’Œ Session çš„ä¸€é“æ¡¥æ¢ï¼Œå¤§éƒ¨åˆ†ç³»ç»Ÿä¹Ÿæ˜¯æ ¹æ®æ­¤åŸç†æ¥éªŒè¯ç”¨æˆ·ç™»å½•çŠ¶æ€ã€‚</p>
<h3 id="ç¬¬å››å±‚æ¥¼"><a href="#ç¬¬å››å±‚æ¥¼" class="headerlink" title="ç¬¬å››å±‚æ¥¼"></a>ç¬¬å››å±‚æ¥¼</h3><p>æ—¢ç„¶æœåŠ¡ç«¯æ˜¯æ ¹æ® Cookie ä¸­çš„ä¿¡æ¯åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•ï¼Œ</p>
<p>é‚£ä¹ˆå¦‚æœæµè§ˆå™¨ä¸­ç¦æ­¢äº† Cookieï¼Œå¦‚ä½•ä¿éšœæ•´ä¸ªæœºåˆ¶çš„æ­£å¸¸è¿è½¬ã€‚</p>
<p>ç¬¬ä¸€ç§æ–¹æ¡ˆï¼Œæ¯æ¬¡è¯·æ±‚ä¸­éƒ½æºå¸¦ä¸€ä¸ª SessionID çš„å‚æ•°ï¼Œ</p>
<p>ä¹Ÿå¯ä»¥ Post çš„æ–¹å¼æäº¤ï¼Œä¹Ÿå¯ä»¥åœ¨è¯·æ±‚çš„åœ°å€åé¢æ‹¼æ¥xxx?SessionID=123456â€¦ã€‚</p>
<p>ç¬¬äºŒç§æ–¹æ¡ˆï¼ŒToken æœºåˆ¶ã€‚Token æœºåˆ¶å¤šç”¨äº App å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨äº¤äº’çš„æ¨¡å¼ï¼Œä¹Ÿå¯ä»¥ç”¨äº Web ç«¯åšç”¨æˆ·çŠ¶æ€ç®¡ç†ã€‚</p>
<p>Token çš„æ„æ€æ˜¯â€œä»¤ç‰Œâ€ï¼Œæ˜¯æœåŠ¡ç«¯ç”Ÿæˆçš„ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œä½œä¸ºå®¢æˆ·ç«¯è¿›è¡Œè¯·æ±‚çš„ä¸€ä¸ªæ ‡è¯†ã€‚</p>
<p>Token æœºåˆ¶å’Œ Cookie å’Œ Session çš„ä½¿ç”¨æœºåˆ¶æ¯”è¾ƒç±»ä¼¼ã€‚</p>
<p>å½“ç”¨æˆ·ç¬¬ä¸€æ¬¡ç™»å½•åï¼ŒæœåŠ¡å™¨æ ¹æ®æäº¤çš„ç”¨æˆ·ä¿¡æ¯ç”Ÿæˆä¸€ä¸ª Tokenï¼Œå“åº”æ—¶å°† Token è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œ</p>
<p>ä»¥åå®¢æˆ·ç«¯åªéœ€å¸¦ä¸Šè¿™ä¸ª Token å‰æ¥è¯·æ±‚æ•°æ®å³å¯ï¼Œæ— éœ€å†æ¬¡ç™»å½•éªŒè¯ã€‚</p>
<h3 id="ç¬¬äº”å±‚æ¥¼"><a href="#ç¬¬äº”å±‚æ¥¼" class="headerlink" title="ç¬¬äº”å±‚æ¥¼"></a>ç¬¬äº”å±‚æ¥¼</h3><p>å¦‚ä½•è€ƒè™‘åˆ†å¸ƒå¼ Session é—®é¢˜ï¼Ÿ</p>
<p>åœ¨äº’è”ç½‘å…¬å¸ä¸ºäº†å¯ä»¥æ”¯æ’‘æ›´å¤§çš„æµé‡ï¼Œåç«¯å¾€å¾€éœ€è¦å¤šå°æœåŠ¡å™¨å…±åŒæ¥æ”¯æ’‘å‰ç«¯ç”¨æˆ·è¯·æ±‚ï¼Œ</p>
<p>é‚£å¦‚æœç”¨æˆ·åœ¨ A æœåŠ¡å™¨ç™»å½•äº†ï¼Œç¬¬äºŒæ¬¡è¯·æ±‚è·‘åˆ°æœåŠ¡ B å°±ä¼šå‡ºç°ç™»å½•å¤±æ•ˆé—®é¢˜ã€‚</p>
<p>åˆ†å¸ƒå¼ Session ä¸€èˆ¬ä¼šæœ‰ä»¥ä¸‹å‡ ç§è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li><p>Nginx ip_hash ç­–ç•¥ï¼ŒæœåŠ¡ç«¯ä½¿ç”¨ Nginx ä»£ç†ï¼Œæ¯ä¸ªè¯·æ±‚æŒ‰è®¿é—® IP çš„ hash åˆ†é…ï¼Œ</p>
<p>è¿™æ ·æ¥è‡ªåŒä¸€ IP å›ºå®šè®¿é—®ä¸€ä¸ªåå°æœåŠ¡å™¨ï¼Œé¿å…äº†åœ¨æœåŠ¡å™¨ A åˆ›å»º Sessionï¼Œç¬¬äºŒæ¬¡åˆ†å‘åˆ°æœåŠ¡å™¨ B çš„ç°è±¡ã€‚</p>
</li>
<li><p>Session å¤åˆ¶ï¼Œä»»ä½•ä¸€ä¸ªæœåŠ¡å™¨ä¸Šçš„ Session å‘ç”Ÿæ”¹å˜ï¼ˆå¢åˆ æ”¹ï¼‰ï¼Œè¯¥èŠ‚ç‚¹ä¼šæŠŠè¿™ä¸ª Session çš„æ‰€æœ‰å†…å®¹åºåˆ—åŒ–ï¼Œç„¶åå¹¿æ’­ç»™æ‰€æœ‰å…¶å®ƒèŠ‚ç‚¹ã€‚</p>
</li>
<li><p>å…±äº« Sessionï¼ŒæœåŠ¡ç«¯æ— çŠ¶æ€è¯ï¼Œå°†ç”¨æˆ·çš„ Session ç­‰ä¿¡æ¯ä½¿ç”¨ç¼“å­˜ä¸­é—´ä»¶æ¥ç»Ÿä¸€ç®¡ç†ï¼Œä¿éšœåˆ†å‘åˆ°æ¯ä¸€ä¸ªæœåŠ¡å™¨çš„å“åº”ç»“æœéƒ½ä¸€è‡´ã€‚</p>
</li>
</ul>
<p>å»ºè®®é‡‡ç”¨ç¬¬ä¸‰ç§æ–¹æ¡ˆã€‚</p>
<h3 id="ç¬¬å…­å±‚æ¥¼"><a href="#ç¬¬å…­å±‚æ¥¼" class="headerlink" title="ç¬¬å…­å±‚æ¥¼"></a>ç¬¬å…­å±‚æ¥¼</h3><p>å¦‚ä½•è§£å†³è·¨åŸŸè¯·æ±‚ï¼ŸJsonp è·¨åŸŸçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>è¯´èµ·è·¨åŸŸè¯·æ±‚ï¼Œå¿…é¡»è¦äº†è§£æµè§ˆå™¨çš„åŒæºç­–ç•¥ï¼ŒåŒæºç­–ç•¥/SOPï¼ˆSame origin policyï¼‰æ˜¯ä¸€ç§çº¦å®šï¼Œ</p>
<p>ç”± Netscape å…¬å¸ 1995å¹´å¼•å…¥æµè§ˆå™¨ï¼Œå®ƒæ˜¯æµè§ˆå™¨æœ€æ ¸å¿ƒä¹Ÿæœ€åŸºæœ¬çš„å®‰å…¨åŠŸèƒ½ï¼Œ</p>
<p>å¦‚æœç¼ºå°‘äº†åŒæºç­–ç•¥ï¼Œæµè§ˆå™¨å¾ˆå®¹æ˜“å—åˆ° XSSã€CSFR ç­‰æ”»å‡»ã€‚</p>
<p>æ‰€è°“åŒæºæ˜¯æŒ‡â€<strong>åè®®+åŸŸå+ç«¯å£</strong>â€œä¸‰è€…ç›¸åŒï¼Œå³ä¾¿ä¸¤ä¸ªä¸åŒçš„åŸŸåæŒ‡å‘åŒä¸€ä¸ª ip åœ°å€ï¼Œä¹ŸéåŒæºã€‚</p>
<p>è§£å†³è·¨åŸŸè¯·æ±‚çš„å¸¸ç”¨æ–¹æ³•æ˜¯ï¼š</p>
<p>é€šè¿‡ä»£ç†æ¥é¿å…ï¼Œæ¯”å¦‚ä½¿ç”¨ Nginx åœ¨åç«¯è½¬å‘è¯·æ±‚ï¼Œé¿å…äº†å‰ç«¯å‡ºç°è·¨åŸŸçš„é—®é¢˜ã€‚</p>
<p>é€šè¿‡ Jsonp è·¨åŸŸ</p>
<p>å…¶å®ƒè·¨åŸŸè§£å†³æ–¹æ¡ˆ</p>
<p>é‡ç‚¹è°ˆä¸€ä¸‹ Jsonp è·¨åŸŸåŸç†ã€‚æµè§ˆå™¨çš„åŒæºç­–ç•¥æŠŠè·¨åŸŸè¯·æ±‚éƒ½ç¦æ­¢äº†ï¼Œ</p>
<p>ä½†æ˜¯é¡µé¢ä¸­çš„ <code>&lt;script&gt;</code> <code>&lt;img&gt;</code> <code>&lt;iframe&gt;</code>æ ‡ç­¾æ˜¯ä¾‹å¤–ï¼Œä¸å—åŒæºç­–ç•¥é™åˆ¶ã€‚</p>
<p>Jsonp å°±æ˜¯åˆ©ç”¨ <code>&lt;script&gt;</code> æ ‡ç­¾è·¨åŸŸç‰¹æ€§è¿›è¡Œè·¨åŸŸæ•°æ®è®¿é—®ã€‚</p>
<p>JSONP çš„ç†å¿µå°±æ˜¯ï¼Œä¸æœåŠ¡ç«¯çº¦å®šå¥½ä¸€ä¸ªå›è°ƒå‡½æ•°åï¼ŒæœåŠ¡ç«¯æ¥æ”¶åˆ°è¯·æ±‚åï¼Œå°†è¿”å›ä¸€æ®µ Javascriptï¼Œ</p>
<p>åœ¨è¿™æ®µ Javascript ä»£ç ä¸­è°ƒç”¨äº†çº¦å®šå¥½çš„å›è°ƒå‡½æ•°ï¼Œå¹¶ä¸”å°†æ•°æ®ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ã€‚</p>
<p>å½“ç½‘é¡µæ¥æ”¶åˆ°è¿™æ®µ Javascript ä»£ç åï¼Œå°±ä¼šæ‰§è¡Œè¿™ä¸ªå›è°ƒå‡½æ•°ï¼Œè¿™æ—¶æ•°æ®å·²ç»æˆåŠŸä¼ è¾“åˆ°å®¢æˆ·ç«¯äº†ã€‚</p>
<p>JSONP çš„ç¼ºç‚¹æ˜¯ï¼šå®ƒåªæ”¯æŒ GET è¯·æ±‚ï¼Œè€Œä¸æ”¯æŒ POST è¯·æ±‚ç­‰å…¶ä»–ç±»å‹çš„ HTTP è¯·æ±‚ã€‚</p>
]]></content>
      <categories>
        <category>Browser</category>
      </categories>
      <tags>
        <tag>Browser</tag>
      </tags>
  </entry>
  <entry>
    <title>æµè§ˆå™¨ç¼“å­˜</title>
    <url>/FE/Browser/cache/</url>
    <content><![CDATA[<blockquote>
<p>è½¬è½½è‡ª<a href="https://www.yuque.com/suihangadam/liulanqi/gcmgi4">https://www.yuque.com/suihangadam/liulanqi/gcmgi4</a></p>
</blockquote>
<h2 id="ç›®çš„"><a href="#ç›®çš„" class="headerlink" title="ç›®çš„"></a>ç›®çš„</h2><p>æµè§ˆå™¨ç¼“å­˜ï¼ˆBrowser Cachingï¼‰æ˜¯ä¸ºäº†èŠ‚çº¦ç½‘ç»œçš„èµ„æºåŠ é€Ÿæµè§ˆï¼Œæµè§ˆå™¨åœ¨ç”¨æˆ·ç£ç›˜ä¸Šå¯¹æœ€è¿‘è¯·æ±‚è¿‡çš„æ–‡æ¡£è¿›è¡Œå­˜å‚¨ï¼Œå½“è®¿é—®è€…å†æ¬¡è¯·æ±‚è¿™ä¸ªé¡µé¢æ—¶ï¼Œæµè§ˆå™¨å°±å¯ä»¥ä»æœ¬åœ°ç£ç›˜æ˜¾ç¤ºæ–‡æ¡£ï¼Œè¿™æ ·å°±å¯ä»¥åŠ é€Ÿé¡µé¢çš„é˜…è§ˆã€‚</p>
<h2 id="ç®€å•é‡Šä¹‰"><a href="#ç®€å•é‡Šä¹‰" class="headerlink" title="ç®€å•é‡Šä¹‰"></a>ç®€å•é‡Šä¹‰</h2><p>æµè§ˆå™¨ç¼“å­˜å…¶å®å°±æ˜¯æµè§ˆå™¨ä¿å­˜é€šè¿‡ HTTP è·å–çš„æ‰€æœ‰èµ„æº,æ˜¯æµè§ˆå™¨å°†ç½‘ç»œèµ„æºå­˜å‚¨åœ¨æœ¬åœ°çš„ä¸€ç§è¡Œä¸ºã€‚æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶æ˜¯æ ¹æ® HTTP æŠ¥æ–‡çš„ç¼“å­˜æ ‡è¯†è¿›è¡Œçš„ã€‚</p>
<h2 id="ç­–ç•¥"><a href="#ç­–ç•¥" class="headerlink" title="ç­–ç•¥"></a>ç­–ç•¥</h2><p>é€šå¸¸æµè§ˆå™¨ç¼“å­˜ç­–ç•¥åˆ†ä¸ºä¸¤ç§ï¼šå¼ºç¼“å­˜ï¼ˆ<strong>Expires</strong>ï¼Œ<strong>cache-control</strong>ï¼‰å’Œåå•†ç¼“å­˜ï¼ˆ<strong>last-modified</strong> ï¼Œ<strong>Etag</strong>ï¼‰ï¼Œå¹¶ä¸”ç¼“å­˜ç­–ç•¥éƒ½æ˜¯é€šè¿‡è®¾ç½® HTTP Header æ¥å®ç°çš„ã€‚</p>
<h3 id="å¼ºåˆ¶ç¼“å­˜"><a href="#å¼ºåˆ¶ç¼“å­˜" class="headerlink" title="å¼ºåˆ¶ç¼“å­˜"></a>å¼ºåˆ¶ç¼“å­˜</h3><h4 id="Expires"><a href="#Expires" class="headerlink" title="Expires"></a>Expires</h4><p>response header é‡Œçš„è¿‡æœŸæ—¶é—´ï¼Œæµè§ˆå™¨å†æ¬¡åŠ è½½èµ„æºæ—¶ï¼Œå¦‚æœåœ¨è¿™ä¸ªè¿‡æœŸæ—¶é—´å†…ï¼Œåˆ™å‘½ä¸­å¼ºåˆ¶ç¼“å­˜ã€‚</p>
<h4 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h4><p>å½“å€¼è®¾ä¸º max-age=300 æ—¶ï¼Œåˆ™ä»£è¡¨åœ¨è¿™ä¸ªè¯·æ±‚æ­£ç¡®è¿”å›æ—¶é—´ï¼ˆæµè§ˆå™¨ä¹Ÿä¼šè®°å½•ä¸‹æ¥ï¼‰çš„ 5 åˆ†é’Ÿå†…å†æ¬¡åŠ è½½èµ„æºï¼Œå°±ä¼šå‘½ä¸­å¼ºç¼“å­˜ã€‚</p>
<p><img src="https://gitee.com/LuckyChou/blog-images/raw/master/browser/browser1.png" alt="image"></p>
<a id="more"></a>

<h4 id="Expires-å’Œ-Cache-Control-çš„åŒºåˆ«"><a href="#Expires-å’Œ-Cache-Control-çš„åŒºåˆ«" class="headerlink" title="Expires å’Œ Cache-Control çš„åŒºåˆ«"></a>Expires å’Œ Cache-Control çš„åŒºåˆ«</h4><ol>
<li>Expires æ˜¯ http1.0 çš„äº§ç‰©ï¼ŒCache-Control æ˜¯ http1.1 çš„äº§ç‰©</li>
<li>ä¸¤è€…åŒæ—¶å­˜åœ¨çš„è¯ï¼ŒCache-Control ä¼˜å…ˆçº§é«˜äº Expiresï¼›</li>
<li>åœ¨æŸäº›ä¸æ”¯æŒ HTTP1.1 çš„ç¯å¢ƒä¸‹ï¼ŒExpires å°±ä¼šå‘æŒ¥ç”¨å¤„ã€‚æ‰€ä»¥ Expires å…¶å®æ˜¯è¿‡æ—¶çš„äº§ç‰©ï¼Œç°é˜¶æ®µå®ƒçš„å­˜åœ¨åªæ˜¯ä¸€ç§å…¼å®¹æ€§çš„å†™æ³•</li>
<li>Expires æ˜¯ä¸€ä¸ªå…·ä½“çš„æœåŠ¡å™¨æ—¶é—´ï¼Œè¿™å°±å¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœå®¢æˆ·ç«¯æ—¶é—´å’ŒæœåŠ¡å™¨æ—¶é—´ç›¸å·®è¾ƒå¤§ï¼Œç¼“å­˜å‘½ä¸­ä¸å¦å°±ä¸æ˜¯å¼€å‘è€…æ‰€æœŸæœ›çš„ã€‚Cache-Control æ˜¯ä¸€ä¸ªæ—¶é—´æ®µï¼Œæ§åˆ¶å°±æ¯”è¾ƒå®¹æ˜“</li>
</ol>
<h3 id="åå•†ç¼“å­˜"><a href="#åå•†ç¼“å­˜" class="headerlink" title="åå•†ç¼“å­˜"></a><strong>åå•†ç¼“å­˜</strong></h3><h4 id="ETag-å’Œ-If-None-Match"><a href="#ETag-å’Œ-If-None-Match" class="headerlink" title="ETag å’Œ If-None-Match"></a>ETag å’Œ If-None-Match</h4><p>è¿™ä¸¤ä¸ªè¦ä¸€èµ·è¯´ã€‚Etag æ˜¯ä¸Šä¸€æ¬¡åŠ è½½èµ„æºæ—¶ï¼ŒæœåŠ¡å™¨è¿”å›çš„ response headerï¼Œæ˜¯å¯¹è¯¥èµ„æºçš„ä¸€ç§å”¯ä¸€æ ‡è¯†ï¼Œåªè¦èµ„æºæœ‰å˜åŒ–ï¼ŒEtag å°±ä¼šé‡æ–°ç”Ÿæˆã€‚æµè§ˆå™¨åœ¨ä¸‹ä¸€æ¬¡åŠ è½½èµ„æºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œä¼šå°†ä¸Šä¸€æ¬¡è¿”å›çš„ Etag å€¼æ”¾åˆ° request header é‡Œçš„ If-None-Match é‡Œï¼ŒæœåŠ¡å™¨æ¥å—åˆ° If-None-Match çš„å€¼åï¼Œä¼šæ‹¿æ¥è·Ÿè¯¥èµ„æºæ–‡ä»¶çš„ Etag å€¼åšæ¯”è¾ƒï¼Œå¦‚æœç›¸åŒï¼Œåˆ™è¡¨ç¤ºèµ„æºæ–‡ä»¶æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå‘½ä¸­åå•†ç¼“å­˜ã€‚<img src="https://gitee.com/LuckyChou/blog-images/raw/master/browser/browser2.png" alt="image"></p>
<h4 id="Last-Modified-å’Œ-If-Modified-Since"><a href="#Last-Modified-å’Œ-If-Modified-Since" class="headerlink" title="Last-Modified å’Œ If-Modified-Since"></a>Last-Modified å’Œ If-Modified-Since</h4><p>è¿™ä¸¤ä¸ªä¹Ÿè¦ä¸€èµ·è¯´ã€‚Last-Modified æ˜¯è¯¥èµ„æºæ–‡ä»¶æœ€åä¸€æ¬¡æ›´æ”¹æ—¶é—´ï¼ŒæœåŠ¡å™¨ä¼šåœ¨ response header é‡Œè¿”å›ï¼ŒåŒæ—¶æµè§ˆå™¨ä¼šå°†è¿™ä¸ªå€¼ä¿å­˜èµ·æ¥ï¼Œåœ¨ä¸‹ä¸€æ¬¡å‘é€è¯·æ±‚æ—¶ï¼Œæ”¾åˆ° request header é‡Œçš„ If-Modified-Since é‡Œï¼ŒæœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°åä¹Ÿä¼šåšæ¯”å¯¹ï¼Œå¦‚æœç›¸åŒåˆ™å‘½ä¸­åå•†ç¼“å­˜ã€‚</p>
<p><img src="https://gitee.com/LuckyChou/blog-images/raw/master/browser/browser3.png" alt="image"></p>
<h4 id="ETag-å’Œ-Last-Modified-åŒºåˆ«"><a href="#ETag-å’Œ-Last-Modified-åŒºåˆ«" class="headerlink" title="ETag å’Œ Last-Modified åŒºåˆ«"></a>ETag å’Œ Last-Modified åŒºåˆ«</h4><ol>
<li>åœ¨æ–¹å¼ä¸Šï¼ŒEtag æ˜¯å¯¹èµ„æºçš„ä¸€ç§å”¯ä¸€æ ‡è¯†ï¼Œè€Œ Last-Modified æ˜¯è¯¥èµ„æºæ–‡ä»¶æœ€åä¸€æ¬¡æ›´æ”¹æ—¶é—´</li>
<li>åœ¨ç²¾ç¡®åº¦ä¸Šï¼ŒEtag è¦ä¼˜äº Last-Modifiedã€‚Last-Modified çš„æ—¶é—´å•ä½æ˜¯ç§’ï¼Œå¦‚æœæŸä¸ªæ–‡ä»¶åœ¨ 1 ç§’å†…æ”¹å˜äº†å¤šæ¬¡ï¼Œé‚£ä¹ˆä»–ä»¬çš„ Last-Modified å…¶å®å¹¶æ²¡æœ‰ä½“ç°å‡ºæ¥ä¿®æ”¹ï¼Œä½†æ˜¯ Etag æ¯æ¬¡éƒ½ä¼šæ”¹å˜ç¡®ä¿äº†ç²¾åº¦ï¼›å¦‚æœæ˜¯è´Ÿè½½å‡è¡¡çš„æœåŠ¡å™¨ï¼Œå„ä¸ªæœåŠ¡å™¨ç”Ÿæˆçš„ Last-Modified ä¹Ÿæœ‰å¯èƒ½ä¸ä¸€è‡´ã€‚</li>
<li>åœ¨æ€§èƒ½ä¸Šï¼ŒEtag è¦é€Šäº Last-Modifiedï¼Œæ¯•ç«Ÿ Last-Modified åªéœ€è¦è®°å½•æ—¶é—´ï¼Œè€Œ Etag éœ€è¦æœåŠ¡å™¨é€šè¿‡ç®—æ³•æ¥è®¡ç®—å‡ºä¸€ä¸ª hash å€¼ã€‚</li>
<li>åœ¨ä¼˜å…ˆçº§ä¸Šï¼ŒæœåŠ¡å™¨æ ¡éªŒä¼˜å…ˆè€ƒè™‘ Etagã€‚</li>
</ol>
<h2 id="æµè§ˆå™¨ç¼“å­˜è¿‡ç¨‹"><a href="#æµè§ˆå™¨ç¼“å­˜è¿‡ç¨‹" class="headerlink" title="æµè§ˆå™¨ç¼“å­˜è¿‡ç¨‹"></a>æµè§ˆå™¨ç¼“å­˜è¿‡ç¨‹</h2><ol>
<li>æµè§ˆå™¨ç¬¬ä¸€æ¬¡åŠ è½½èµ„æºï¼ŒæœåŠ¡å™¨è¿”å› 200ï¼Œæµè§ˆå™¨å°†èµ„æºæ–‡ä»¶ä»æœåŠ¡å™¨ä¸Šè¯·æ±‚ä¸‹è½½ä¸‹æ¥ï¼Œå¹¶æŠŠ response header åŠè¯¥è¯·æ±‚çš„è¿”å›æ—¶é—´ä¸€å¹¶ç¼“å­˜ï¼›</li>
<li>ä¸‹ä¸€æ¬¡åŠ è½½èµ„æºæ—¶ï¼Œå…ˆæ¯”è¾ƒå½“å‰æ—¶é—´å’Œä¸Šä¸€æ¬¡è¿”å› 200 æ—¶çš„æ—¶é—´å·®ï¼Œå¦‚æœæ²¡æœ‰è¶…è¿‡ cache-control è®¾ç½®çš„ max-ageï¼Œåˆ™æ²¡æœ‰è¿‡æœŸï¼Œå‘½ä¸­å¼ºç¼“å­˜ï¼Œä¸å‘è¯·æ±‚ç›´æ¥ä»æœ¬åœ°ç¼“å­˜è¯»å–è¯¥æ–‡ä»¶ï¼ˆå¦‚æœæµè§ˆå™¨ä¸æ”¯æŒ HTTP1.1ï¼Œåˆ™ç”¨ expires åˆ¤æ–­æ˜¯å¦è¿‡æœŸï¼‰ï¼›å¦‚æœæ—¶é—´è¿‡æœŸï¼Œåˆ™å‘æœåŠ¡å™¨å‘é€ header å¸¦æœ‰ If-None-Match å’Œ If-Modified-Since çš„è¯·æ±‚ï¼›</li>
<li>æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œä¼˜å…ˆæ ¹æ® Etag çš„å€¼åˆ¤æ–­è¢«è¯·æ±‚çš„æ–‡ä»¶æœ‰æ²¡æœ‰åšä¿®æ”¹ï¼ŒEtag å€¼ä¸€è‡´åˆ™æ²¡æœ‰ä¿®æ”¹ï¼Œå‘½ä¸­åå•†ç¼“å­˜ï¼Œè¿”å› 304ï¼›å¦‚æœä¸ä¸€è‡´åˆ™æœ‰æ”¹åŠ¨ï¼Œç›´æ¥è¿”å›æ–°çš„èµ„æºæ–‡ä»¶å¸¦ä¸Šæ–°çš„ Etag å€¼å¹¶è¿”å› 200ï¼›</li>
<li>å¦‚æœæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚æ²¡æœ‰ Etag å€¼ï¼Œåˆ™å°† If-Modified-Since å’Œè¢«è¯·æ±‚æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´åšæ¯”å¯¹ï¼Œä¸€è‡´åˆ™å‘½ä¸­åå•†ç¼“å­˜ï¼Œè¿”å› 304ï¼›ä¸ä¸€è‡´åˆ™è¿”å›æ–°çš„ last-modified å’Œæ–‡ä»¶å¹¶è¿”å› 200ï¼›</li>
</ol>
<p><img src="https://gitee.com/LuckyChou/blog-images/raw/master/browser/browser4.png" alt="image.png"></p>
<h2 id="å­˜å‚¨ä½ç½®"><a href="#å­˜å‚¨ä½ç½®" class="headerlink" title="å­˜å‚¨ä½ç½®"></a>å­˜å‚¨ä½ç½®</h2><p>ä»å­˜å‚¨ä½ç½®æ¥çœ‹ï¼Œæµè§ˆå™¨ç¼“å­˜ä¸€å…±åˆ†ä¸ºå››ç§ï¼Œå¹¶ä¸”å„è‡ªæœ‰ä¼˜å…ˆçº§ï¼Œå½“ä¾æ¬¡æŸ¥æ‰¾ç¼“å­˜ä¸”éƒ½æ²¡æœ‰å‘½ä¸­çš„æ—¶å€™ï¼Œæ‰ä¼šå»è¯·æ±‚ç½‘ç»œã€‚</p>
<ul>
<li>Service Worker</li>
<li>Memory Cache</li>
<li>Disk Cache</li>
<li>Push Cache</li>
</ul>
<h3 id="Service-Worker"><a href="#Service-Worker" class="headerlink" title="Service Worker"></a>Service Worker</h3><p>Service Worker æ˜¯è¿è¡Œåœ¨æµè§ˆå™¨èƒŒåçš„ç‹¬ç«‹çº¿ç¨‹ï¼Œä¸€èˆ¬å¯ä»¥ç”¨æ¥å®ç°ç¼“å­˜åŠŸèƒ½ã€‚ä½¿ç”¨ Service Worker çš„è¯ï¼Œä¼ è¾“åè®®å¿…é¡»ä¸º HTTPSã€‚å› ä¸º Service Worker ä¸­æ¶‰åŠåˆ°è¯·æ±‚æ‹¦æˆªï¼Œæ‰€ä»¥å¿…é¡»ä½¿ç”¨ HTTPS åè®®æ¥ä¿éšœå®‰å…¨ã€‚<strong>Service Worker çš„ç¼“å­˜ä¸æµè§ˆå™¨å…¶ä»–å†…å»ºçš„ç¼“å­˜æœºåˆ¶ä¸åŒï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬è‡ªç”±æ§åˆ¶ç¼“å­˜å“ªäº›æ–‡ä»¶ã€å¦‚ä½•åŒ¹é…ç¼“å­˜ã€å¦‚ä½•è¯»å–ç¼“å­˜ï¼Œå¹¶ä¸”ç¼“å­˜æ˜¯æŒç»­æ€§çš„ã€‚</strong></p>
<p>Service Worker å®ç°ç¼“å­˜åŠŸèƒ½ä¸€èˆ¬åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>é¦–å…ˆéœ€è¦å…ˆæ³¨å†Œ Service Worker</li>
<li>ç„¶åç›‘å¬åˆ° install äº‹ä»¶ä»¥åå°±å¯ä»¥ç¼“å­˜éœ€è¦çš„æ–‡ä»¶</li>
<li>é‚£ä¹ˆåœ¨ä¸‹æ¬¡ç”¨æˆ·è®¿é—®çš„æ—¶å€™å°±å¯ä»¥é€šè¿‡æ‹¦æˆªè¯·æ±‚çš„æ–¹å¼æŸ¥è¯¢æ˜¯å¦å­˜åœ¨ç¼“å­˜ï¼Œå­˜åœ¨ç¼“å­˜çš„è¯å°±å¯ä»¥ç›´æ¥è¯»å–ç¼“å­˜æ–‡ä»¶ï¼Œå¦åˆ™å°±å»è¯·æ±‚æ•°æ®ã€‚</li>
</ol>
<p>å½“ Service Worker æ²¡æœ‰å‘½ä¸­ç¼“å­˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å»è°ƒç”¨ fetch å‡½æ•°è·å–æ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰åœ¨ Service Worker å‘½ä¸­ç¼“å­˜çš„è¯ï¼Œä¼šæ ¹æ®ç¼“å­˜æŸ¥æ‰¾ä¼˜å…ˆçº§å»æŸ¥æ‰¾æ•°æ®ã€‚ä½†æ˜¯ä¸ç®¡æˆ‘ä»¬æ˜¯ä» Memory Cache ä¸­è¿˜æ˜¯ä»ç½‘ç»œè¯·æ±‚ä¸­è·å–çš„æ•°æ®ï¼Œæµè§ˆå™¨éƒ½ä¼šæ˜¾ç¤ºæˆ‘ä»¬æ˜¯ä» Service Worker ä¸­è·å–çš„å†…å®¹ã€‚</p>
<h3 id="Memory-Cache"><a href="#Memory-Cache" class="headerlink" title="Memory Cache"></a>Memory Cache</h3><p>Memory Cache ä¹Ÿå°±æ˜¯å†…å­˜ä¸­çš„ç¼“å­˜ï¼Œä¸»è¦åŒ…å«çš„æ˜¯å½“å‰ä¸­é¡µé¢ä¸­å·²ç»æŠ“å–åˆ°çš„èµ„æº,ä¾‹å¦‚é¡µé¢ä¸Šå·²ç»ä¸‹è½½çš„æ ·å¼ã€è„šæœ¬ã€å›¾ç‰‡ç­‰ã€‚è¯»å–å†…å­˜ä¸­çš„æ•°æ®è‚¯å®šæ¯”ç£ç›˜å¿«,å†…å­˜ç¼“å­˜è™½ç„¶è¯»å–é«˜æ•ˆï¼Œå¯æ˜¯ç¼“å­˜æŒç»­æ€§å¾ˆçŸ­ï¼Œä¼šéšç€è¿›ç¨‹çš„é‡Šæ”¾è€Œé‡Šæ”¾ã€‚ <strong>ä¸€æ—¦æˆ‘ä»¬å…³é—­ Tab é¡µé¢ï¼Œå†…å­˜ä¸­çš„ç¼“å­˜ä¹Ÿå°±è¢«é‡Šæ”¾äº†</strong>ã€‚</p>
<p>âš ï¸ï¼š<strong>å†…å­˜ç¼“å­˜åœ¨ç¼“å­˜èµ„æºæ—¶å¹¶ä¸å…³å¿ƒè¿”å›èµ„æºçš„ HTTP ç¼“å­˜å¤´ Cache-Control æ˜¯ä»€ä¹ˆå€¼ï¼ŒåŒæ—¶èµ„æºçš„åŒ¹é…ä¹Ÿå¹¶éä»…ä»…æ˜¯å¯¹ URL åšåŒ¹é…ï¼Œè¿˜å¯èƒ½ä¼šå¯¹ Content-Typeï¼ŒCORS ç­‰å…¶ä»–ç‰¹å¾åšæ ¡éªŒ</strong>ã€‚</p>
<h3 id="Disk-Cache"><a href="#Disk-Cache" class="headerlink" title="Disk Cache"></a>Disk Cache</h3><p>Disk Cache ä¹Ÿå°±æ˜¯å­˜å‚¨åœ¨ç¡¬ç›˜ä¸­çš„ç¼“å­˜ï¼Œè¯»å–é€Ÿåº¦æ…¢ç‚¹ï¼Œä½†æ˜¯ä»€ä¹ˆéƒ½èƒ½å­˜å‚¨åˆ°ç£ç›˜ä¸­ï¼Œ<strong>æ¯”ä¹‹ Memory Cache èƒœåœ¨å®¹é‡å’Œå­˜å‚¨æ—¶æ•ˆæ€§ä¸Šã€‚</strong>å®ƒä¼šæ ¹æ® HTTP Herder ä¸­çš„å­—æ®µåˆ¤æ–­å“ªäº›èµ„æºéœ€è¦ç¼“å­˜ï¼Œå“ªäº›èµ„æºå¯ä»¥ä¸è¯·æ±‚ç›´æ¥ä½¿ç”¨ï¼Œå“ªäº›èµ„æºå·²ç»è¿‡æœŸéœ€è¦é‡æ–°è¯·æ±‚ã€‚å¹¶ä¸”å³ä½¿åœ¨è·¨ç«™ç‚¹çš„æƒ…å†µä¸‹ï¼Œç›¸åŒåœ°å€çš„èµ„æºä¸€æ—¦è¢«ç¡¬ç›˜ç¼“å­˜ä¸‹æ¥ï¼Œå°±ä¸ä¼šå†æ¬¡å»è¯·æ±‚æ•°æ®ã€‚ç»å¤§éƒ¨åˆ†çš„ç¼“å­˜éƒ½æ¥è‡ª Disk Cacheã€‚</p>
<h3 id="Push-Cache"><a href="#Push-Cache" class="headerlink" title="Push Cache"></a>Push Cache</h3><p>Push Cacheï¼ˆæ¨é€ç¼“å­˜ï¼‰æ˜¯ HTTP/2 ä¸­çš„å†…å®¹ï¼Œå½“ä»¥ä¸Šä¸‰ç§ç¼“å­˜éƒ½æ²¡æœ‰å‘½ä¸­æ—¶ï¼Œå®ƒæ‰ä¼šè¢«ä½¿ç”¨ã€‚<strong>å®ƒåªåœ¨ä¼šè¯ï¼ˆSessionï¼‰ä¸­å­˜åœ¨ï¼Œä¸€æ—¦ä¼šè¯ç»“æŸå°±è¢«é‡Šæ”¾ï¼Œå¹¶ä¸”ç¼“å­˜æ—¶é—´ä¹Ÿå¾ˆçŸ­æš‚ï¼Œåœ¨ Chrome æµè§ˆå™¨ä¸­åªæœ‰ 5 åˆ†é’Ÿå·¦å³</strong>ï¼ŒåŒæ—¶å®ƒä¹Ÿå¹¶éä¸¥æ ¼æ‰§è¡Œ HTTP å¤´ä¸­çš„ç¼“å­˜æŒ‡ä»¤ã€‚ä»–æœ‰å¦‚ä¸‹çš„ä¸€äº›ç‰¹æ€§ï¼š</p>
<ul>
<li><p>æ‰€æœ‰çš„èµ„æºéƒ½èƒ½è¢«æ¨é€ï¼Œå¹¶ä¸”èƒ½å¤Ÿè¢«ç¼“å­˜,ä½†æ˜¯ Edge å’Œ Safari æµè§ˆå™¨æ”¯æŒç›¸å¯¹æ¯”è¾ƒå·®ã€‚</p>
</li>
<li><p>Push Cache ä¸­çš„ç¼“å­˜åªèƒ½è¢«ä½¿ç”¨ä¸€æ¬¡</p>
</li>
<li><p>å¯ä»¥ç»™å…¶ä»–åŸŸåæ¨é€èµ„æº</p>
</li>
<li><p>æµè§ˆå™¨å¯ä»¥æ‹’ç»æ¥å—å·²ç»å­˜åœ¨çš„èµ„æºæ¨é€</p>
</li>
<li><p>ä¸€æ—¦è¿æ¥è¢«å…³é—­ï¼ŒPush Cache å°±è¢«é‡Šæ”¾</p>
</li>
<li><p>å¯ä»¥æ¨é€ no-cache å’Œ no-store çš„èµ„æº</p>
</li>
<li><p>å¤šä¸ªé¡µé¢å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ª HTTP/2 çš„è¿æ¥ï¼Œä¹Ÿå°±å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ª Push Cacheã€‚è¿™ä¸»è¦è¿˜æ˜¯ä¾èµ–æµè§ˆå™¨çš„å®ç°è€Œå®šï¼Œå‡ºäºå¯¹æ€§èƒ½çš„è€ƒè™‘ï¼Œæœ‰çš„æµè§ˆå™¨ä¼šå¯¹ç›¸åŒåŸŸåä½†ä¸åŒçš„ tab æ ‡ç­¾ä½¿ç”¨åŒä¸€ä¸ª HTTP è¿æ¥ã€‚</p>
</li>
</ul>
<h2 id="ç”¨æˆ·è¡Œä¸ºå¯¹æµè§ˆå™¨ç¼“å­˜çš„æ§åˆ¶"><a href="#ç”¨æˆ·è¡Œä¸ºå¯¹æµè§ˆå™¨ç¼“å­˜çš„æ§åˆ¶" class="headerlink" title="ç”¨æˆ·è¡Œä¸ºå¯¹æµè§ˆå™¨ç¼“å­˜çš„æ§åˆ¶"></a>ç”¨æˆ·è¡Œä¸ºå¯¹æµè§ˆå™¨ç¼“å­˜çš„æ§åˆ¶</h2><ol>
<li>åœ°å€æ è®¿é—®ï¼Œé“¾æ¥è·³è½¬æ˜¯æ­£å¸¸ç”¨æˆ·è¡Œä¸ºï¼Œå°†ä¼šè§¦å‘æµè§ˆå™¨ç¼“å­˜æœºåˆ¶ï¼›</li>
<li>F5 åˆ·æ–°ï¼Œæµè§ˆå™¨ä¼šè®¾ç½® max-age=0ï¼Œè·³è¿‡å¼ºç¼“å­˜åˆ¤æ–­ï¼Œä¼šè¿›è¡Œåå•†ç¼“å­˜åˆ¤æ–­ï¼›</li>
<li>ctrl+F5 åˆ·æ–°ï¼Œè·³è¿‡å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ï¼Œç›´æ¥ä»æœåŠ¡å™¨æ‹‰å–èµ„æºã€‚</li>
</ol>
<h2 id="ä¸‰çº§ç¼“å­˜åŸç†-è®¿é—®ç¼“å­˜ä¼˜å…ˆçº§"><a href="#ä¸‰çº§ç¼“å­˜åŸç†-è®¿é—®ç¼“å­˜ä¼˜å…ˆçº§" class="headerlink" title="ä¸‰çº§ç¼“å­˜åŸç† (è®¿é—®ç¼“å­˜ä¼˜å…ˆçº§)"></a>ä¸‰çº§ç¼“å­˜åŸç† (è®¿é—®ç¼“å­˜ä¼˜å…ˆçº§)</h2><ol>
<li>å…ˆåœ¨å†…å­˜ä¸­æŸ¥æ‰¾,å¦‚æœæœ‰,ç›´æ¥åŠ è½½ã€‚</li>
<li>å¦‚æœå†…å­˜ä¸­ä¸å­˜åœ¨,åˆ™åœ¨ç¡¬ç›˜ä¸­æŸ¥æ‰¾,å¦‚æœæœ‰ç›´æ¥åŠ è½½ã€‚</li>
<li>å¦‚æœç¡¬ç›˜ä¸­ä¹Ÿæ²¡æœ‰,é‚£ä¹ˆå°±è¿›è¡Œç½‘ç»œè¯·æ±‚ã€‚</li>
<li>è¯·æ±‚è·å–çš„èµ„æºç¼“å­˜åˆ°ç¡¬ç›˜å’Œå†…å­˜ã€‚</li>
</ol>
<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><h3 id="å†…å­˜ç¼“å­˜å’Œç¡¬ç›˜ç¼“å­˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#å†…å­˜ç¼“å­˜å’Œç¡¬ç›˜ç¼“å­˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="å†…å­˜ç¼“å­˜å’Œç¡¬ç›˜ç¼“å­˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>å†…å­˜ç¼“å­˜å’Œç¡¬ç›˜ç¼“å­˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><blockquote>
<p>å£è¯€ï¼šå­˜é€Ÿæ—¶ç©ºï¼ˆå­˜çš„é€Ÿé£Ÿéƒ½è¢«æˆ‘åƒç©ºäº†ï¼‰</p>
</blockquote>
<table>
<thead>
<tr>
<th>åŒºåˆ«</th>
<th>å†…å­˜ç¼“å­˜</th>
<th>ç¡¬ç›˜ç¼“å­˜</th>
</tr>
</thead>
<tbody><tr>
<td>å­˜å‚¨å†…å®¹</td>
<td>JSï¼Œå­—ä½“ï¼Œå›¾ç‰‡ç­‰</td>
<td>CSS ç­‰</td>
</tr>
<tr>
<td>è¯»å–é€Ÿåº¦</td>
<td>å¿«</td>
<td>æ…¢</td>
</tr>
<tr>
<td>æ—¶æ•ˆæ€§</td>
<td>è¿›ç¨‹å…³é—­åˆ™æ¸…ç©º</td>
<td>å¯ä»¥ç¼“å­˜è¾ƒé•¿æ—¶é—´</td>
</tr>
<tr>
<td>ç©ºé—´</td>
<td>ç©ºé—´å°</td>
<td>ç©ºé—´å¤§</td>
</tr>
</tbody></table>
<p>1.**å†…å­˜ç¼“å­˜(from memory cache)**ï¼šå†…å­˜ç¼“å­˜ä¸»è¦çš„ä¸¤ä¸ªç‰¹ç‚¹ï¼Œåˆ†åˆ«æ˜¯å¿«é€Ÿè¯»å–å’Œæ—¶æ•ˆæ€§ï¼š</p>
<ul>
<li><p>å¿«é€Ÿè¯»å–ï¼šå†…å­˜ç¼“å­˜ä¼šå°†ç¼–è¯‘è§£æåçš„æ–‡ä»¶ï¼Œç›´æ¥å­˜å…¥è¯¥è¿›ç¨‹çš„å†…å­˜ä¸­ï¼Œå æ®è¯¥è¿›ç¨‹ä¸€å®šçš„å†…å­˜èµ„æºï¼Œä»¥æ–¹ä¾¿ä¸‹æ¬¡è¿è¡Œä½¿ç”¨æ—¶çš„å¿«é€Ÿè¯»å–ã€‚ä¸€èˆ¬ JS,å­—ä½“ï¼Œå›¾ç‰‡ç­‰ä¼šæ”¾åœ¨å†…å­˜ç¼“å­˜ä¸­</p>
</li>
<li><p>æ—¶æ•ˆæ€§ï¼šä¸€æ—¦è¯¥è¿›ç¨‹å…³é—­ï¼Œåˆ™è¯¥è¿›ç¨‹çš„å†…å­˜åˆ™ä¼šæ¸…ç©ºã€‚</p>
<p>2.**ç¡¬ç›˜ç¼“å­˜(from disk cache)**ï¼šç¡¬ç›˜ç¼“å­˜åˆ™æ˜¯ç›´æ¥å°†ç¼“å­˜å†™å…¥ç¡¬ç›˜æ–‡ä»¶ä¸­ï¼Œè¯»å–ç¼“å­˜éœ€è¦å¯¹è¯¥ç¼“å­˜å­˜æ”¾çš„ç¡¬ç›˜æ–‡ä»¶è¿›è¡Œ I/O æ“ä½œï¼Œç„¶åé‡æ–°è§£æè¯¥ç¼“å­˜å†…å®¹ï¼Œè¯»å–å¤æ‚ï¼Œé€Ÿåº¦æ¯”å†…å­˜ç¼“å­˜æ…¢ã€‚é€€å‡ºè¿›ç¨‹ä¸ä¼šæ¸…ç©ºã€‚ä¸€èˆ¬ JS,å­—ä½“ï¼Œå›¾ç‰‡ç­‰ä¼šæ”¾åœ¨å†…å­˜ä¸­ï¼Œè€Œ CSS åˆ™ä¼šæ”¾åœ¨ç¡¬ç›˜ç¼“å­˜ä¸­</p>
</li>
</ul>
<h3 id="æµè§ˆå™¨çš„ç¼“å­˜å­˜æ”¾åœ¨å“ªé‡Œï¼Œå¦‚ä½•åœ¨æµè§ˆå™¨ä¸­åˆ¤æ–­å¼ºåˆ¶ç¼“å­˜æ˜¯å¦ç”Ÿæ•ˆï¼Ÿ"><a href="#æµè§ˆå™¨çš„ç¼“å­˜å­˜æ”¾åœ¨å“ªé‡Œï¼Œå¦‚ä½•åœ¨æµè§ˆå™¨ä¸­åˆ¤æ–­å¼ºåˆ¶ç¼“å­˜æ˜¯å¦ç”Ÿæ•ˆï¼Ÿ" class="headerlink" title="æµè§ˆå™¨çš„ç¼“å­˜å­˜æ”¾åœ¨å“ªé‡Œï¼Œå¦‚ä½•åœ¨æµè§ˆå™¨ä¸­åˆ¤æ–­å¼ºåˆ¶ç¼“å­˜æ˜¯å¦ç”Ÿæ•ˆï¼Ÿ"></a>æµè§ˆå™¨çš„ç¼“å­˜å­˜æ”¾åœ¨å“ªé‡Œï¼Œå¦‚ä½•åœ¨æµè§ˆå™¨ä¸­åˆ¤æ–­å¼ºåˆ¶ç¼“å­˜æ˜¯å¦ç”Ÿæ•ˆï¼Ÿ</h3><p>åˆ¤æ–­æ˜¯å¦å‘½ä¸­å¼ºåˆ¶ç¼“å­˜ï¼šå½“å‘½ä¸­å¼ºåˆ¶ç¼“å­˜æ—¶ï¼ŒçŠ¶æ€ç ä¸º 200, è¯·æ±‚å¯¹åº”çš„ Size å€¼åˆ™ä»£è¡¨è¯¥ç¼“å­˜å­˜æ”¾çš„ä½ç½®ï¼Œåˆ†åˆ«ä¸º from memory cache å’Œ from disk cacheã€‚from memory cache ä»£è¡¨ä½¿ç”¨å†…å­˜ä¸­çš„ç¼“å­˜ï¼Œfrom disk cache åˆ™ä»£è¡¨ä½¿ç”¨çš„æ˜¯ç¡¬ç›˜ä¸­çš„ç¼“å­˜ï¼Œæµè§ˆå™¨è¯»å–ç¼“å­˜çš„é¡ºåºä¸º memory &gt; diskã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆ-CSS-ä¼šæ”¾åœ¨ç¡¬ç›˜ç¼“å­˜ä¸­ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆ-CSS-ä¼šæ”¾åœ¨ç¡¬ç›˜ç¼“å­˜ä¸­ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆ CSS ä¼šæ”¾åœ¨ç¡¬ç›˜ç¼“å­˜ä¸­ï¼Ÿ"></a>ä¸ºä»€ä¹ˆ CSS ä¼šæ”¾åœ¨ç¡¬ç›˜ç¼“å­˜ä¸­ï¼Ÿ</h3><p>å› ä¸º CSS æ–‡ä»¶åŠ è½½ä¸€æ¬¡å°±å¯æ¸²æŸ“å‡ºæ¥,æˆ‘ä»¬ä¸ä¼šé¢‘ç¹è¯»å–å®ƒ,æ‰€ä»¥å®ƒä¸é€‚åˆç¼“å­˜åˆ°å†…å­˜ä¸­,ä½†æ˜¯ js ä¹‹ç±»çš„è„šæœ¬å´éšæ—¶å¯èƒ½ä¼šæ‰§è¡Œ,å¦‚æœè„šæœ¬åœ¨ç£ç›˜å½“ä¸­,æˆ‘ä»¬åœ¨æ‰§è¡Œè„šæœ¬çš„æ—¶å€™éœ€è¦ä»ç£ç›˜å–åˆ°å†…å­˜ä¸­æ¥,è¿™æ · IO å¼€é”€å°±å¾ˆå¤§äº†,æœ‰å¯èƒ½å¯¼è‡´æµè§ˆå™¨å¤±å»å“åº”ã€‚</p>
<h3 id="é‚£ä¹ˆæ—¢ç„¶å†…å­˜ç¼“å­˜è¿™ä¹ˆé«˜æ•ˆï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯èƒ½è®©æ•°æ®éƒ½å­˜æ”¾åœ¨å†…å­˜ä¸­å‘¢ï¼Ÿ"><a href="#é‚£ä¹ˆæ—¢ç„¶å†…å­˜ç¼“å­˜è¿™ä¹ˆé«˜æ•ˆï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯èƒ½è®©æ•°æ®éƒ½å­˜æ”¾åœ¨å†…å­˜ä¸­å‘¢ï¼Ÿ" class="headerlink" title="é‚£ä¹ˆæ—¢ç„¶å†…å­˜ç¼“å­˜è¿™ä¹ˆé«˜æ•ˆï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯èƒ½è®©æ•°æ®éƒ½å­˜æ”¾åœ¨å†…å­˜ä¸­å‘¢ï¼Ÿ"></a>é‚£ä¹ˆæ—¢ç„¶å†…å­˜ç¼“å­˜è¿™ä¹ˆé«˜æ•ˆï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯èƒ½è®©æ•°æ®éƒ½å­˜æ”¾åœ¨å†…å­˜ä¸­å‘¢ï¼Ÿ</h3><p>è¿™æ˜¯ä¸å¯èƒ½çš„ã€‚è®¡ç®—æœºä¸­çš„å†…å­˜ä¸€å®šæ¯”ç¡¬ç›˜å®¹é‡å°å¾—å¤šï¼Œæ“ä½œç³»ç»Ÿéœ€è¦ç²¾æ‰“ç»†ç®—å†…å­˜çš„ä½¿ç”¨ï¼Œæ‰€ä»¥èƒ½è®©æˆ‘ä»¬ä½¿ç”¨çš„å†…å­˜å¿…ç„¶ä¸å¤šã€‚</p>
]]></content>
      <categories>
        <category>Browser</category>
      </categories>
      <tags>
        <tag>Browser</tag>
      </tags>
  </entry>
  <entry>
    <title>BUG</title>
    <url>/FE/Bug/bug/</url>
    <content><![CDATA[<h3 id="æ¸…é™¤-IOS-ä¸‹-input-è¡¨å•çš„é˜´å½±"><a href="#æ¸…é™¤-IOS-ä¸‹-input-è¡¨å•çš„é˜´å½±" class="headerlink" title="æ¸…é™¤ IOS ä¸‹ input è¡¨å•çš„é˜´å½±"></a>æ¸…é™¤ IOS ä¸‹ input è¡¨å•çš„é˜´å½±</h3><p>åœ¨ IOS ä¸‹ï¼Œinput è¡¨å•é»˜è®¤ä¼šæœ‰ä¸ªå†…é˜´å½±ï¼Œä¸€å®šç¨‹åº¦ä¸Šå½±å“è§†è§‰ä¸€è‡´ï¼Œå¯é€šè¿‡è®¾ç½®ä¸‹é¢ä»£ç å»æ‰ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="æ¸…é™¤-IOS-ä¸‹-input-placeholder-æ²¡æœ‰å‚ç›´æ˜¾ç¤º"><a href="#æ¸…é™¤-IOS-ä¸‹-input-placeholder-æ²¡æœ‰å‚ç›´æ˜¾ç¤º" class="headerlink" title="æ¸…é™¤ IOS ä¸‹ input placeholder æ²¡æœ‰å‚ç›´æ˜¾ç¤º"></a>æ¸…é™¤ IOS ä¸‹ input placeholder æ²¡æœ‰å‚ç›´æ˜¾ç¤º</h3><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">::-webkit-input-placeholder</span> &#123;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: normal;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="HTTPS-Mixed-Content"><a href="#HTTPS-Mixed-Content" class="headerlink" title="HTTPS Mixed Content"></a>HTTPS Mixed Content</h3><p>é—®é¢˜ï¼š</p>
<blockquote>
<p>Mixed Content: The page at â€˜<a href="https://www.xxx.com/denglu.html&#39;">https://www.xxx.com/denglu.html&#39;</a> was loaded over HTTPS, but requested an insecure script â€˜<a href="http://qzonestyle.gtimg.cn/qzone/openapi/qc-1.0.1.js&#39;">http://qzonestyle.gtimg.cn/qzone/openapi/qc-1.0.1.js&#39;</a>. This request has been blocked; the content must be served over HTTPS.</p>
<p>é—®é¢˜åŸå› ï¼šHTTPS é¡µé¢é‡ŒåŠ¨æ€çš„å¼•å…¥ HTTP èµ„æºï¼Œæ¯”å¦‚å¼•å…¥ä¸€ä¸ª js æ–‡ä»¶ï¼Œä¼šè¢«ç›´æ¥ block æ‰çš„.åœ¨ HTTPS é¡µé¢é‡Œé€šè¿‡ AJAX çš„æ–¹å¼è¯·æ±‚ HTTP èµ„æºï¼Œä¹Ÿä¼šè¢«ç›´æ¥ block æ‰çš„ã€‚</p>
</blockquote>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<p>ç»™å¯¹åº”çš„ç½‘é¡µæ·»åŠ ä¸Š</p>
<p><code>&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;upgrade-insecure-requests&quot;&gt;</code></p>
<h3 id="å›¾ç‰‡ä¹‹é—´æœ‰ç©ºéš™"><a href="#å›¾ç‰‡ä¹‹é—´æœ‰ç©ºéš™" class="headerlink" title="å›¾ç‰‡ä¹‹é—´æœ‰ç©ºéš™"></a>å›¾ç‰‡ä¹‹é—´æœ‰ç©ºéš™</h3><p>ç»™å›¾ç‰‡è®¾ç½® <code>display:block</code> å³å¯</p>
<h3 id="å›¾ç‰‡ä¸‹è¾¹æ¡†-3pxï¼ˆåŒä¸Šä¸ªé—®é¢˜ï¼‰"><a href="#å›¾ç‰‡ä¸‹è¾¹æ¡†-3pxï¼ˆåŒä¸Šä¸ªé—®é¢˜ï¼‰" class="headerlink" title="å›¾ç‰‡ä¸‹è¾¹æ¡† 3pxï¼ˆåŒä¸Šä¸ªé—®é¢˜ï¼‰"></a>å›¾ç‰‡ä¸‹è¾¹æ¡† 3pxï¼ˆåŒä¸Šä¸ªé—®é¢˜ï¼‰</h3><p>ç»™å›¾ç‰‡è®¾ç½® <code>vertical-align: top</code></p>
<p>è¿™æ ·ä¸ä¼šç ´ååŸæ¥çš„ç»“æ„</p>
<h3 id="Chrome-è°·æ­Œæµè§ˆå™¨ä¸‹ä¸æ”¯æŒ-css-å­—ä½“å°äº-12px"><a href="#Chrome-è°·æ­Œæµè§ˆå™¨ä¸‹ä¸æ”¯æŒ-css-å­—ä½“å°äº-12px" class="headerlink" title="Chrome è°·æ­Œæµè§ˆå™¨ä¸‹ä¸æ”¯æŒ css å­—ä½“å°äº 12px"></a>Chrome è°·æ­Œæµè§ˆå™¨ä¸‹ä¸æ”¯æŒ css å­—ä½“å°äº 12px</h3><p>Chrome æµè§ˆå™¨æœ€å°å­—ä½“æ”¯æŒ 12px è‹¥å°äº 12px ä¹Ÿä¼šæ˜¾ç¤º 12px</p>
<p>è§£å†³æ–¹æ¡ˆï¼štransform:scale()</p>
<h3 id="display-flex-amp-amp-position-absolute-fixed"><a href="#display-flex-amp-amp-position-absolute-fixed" class="headerlink" title="display: flex &amp;&amp; position: absolute | fixed"></a>display: flex &amp;&amp; position: absolute | fixed</h3><p>è¢«ç»å¯¹å®šä½ä¸å›ºå®šå®šä½çš„ç›’å­ä¸å‚ä¸ flex å¸ƒå±€</p>
<p>ä¼šå¯¼è‡´åŸæ¥çš„å¼¹æ€§å¸ƒå±€å¤±å»æ•ˆæœ</p>
<p>å¸¸è§ç”¨æ³•ï¼š å¯¼èˆªæ æ»‘åŠ¨åéœ€è¦å¸é™„åœ¨é¡¶éƒ¨</p>
<p>è§£å†³æ–¹æ¡ˆï¼šåœ¨åŸæ¥å¼¹æ€§å¸ƒå±€å®¹å™¨çš„å¤–é¢å†åŒ…è£¹ä¸€å±‚å®¹å™¨ ç»™å¤–é¢çš„å®¹å™¨æ·»åŠ å®šä½å±æ€§</p>
<p>æ³¨æ„ï¼šå¤–å®¹å™¨ä¸€å®šè¦æ·»åŠ  widthï¼š 100% å±æ€§</p>
<h3 id="lt-video-gt-è§†é¢‘è‡ªåŠ¨æ’­æ”¾"><a href="#lt-video-gt-è§†é¢‘è‡ªåŠ¨æ’­æ”¾" class="headerlink" title="&lt;video&gt;è§†é¢‘è‡ªåŠ¨æ’­æ”¾"></a><code>&lt;video&gt;</code>è§†é¢‘è‡ªåŠ¨æ’­æ”¾</h3><p>autoplay ä¸ç”Ÿæ•ˆ éœ€è¦ muted æ ‡ç­¾è®¾ç½®é™éŸ³</p>
<h3 id="background-attachmentç§»åŠ¨ç«¯åœºæ™¯ä¸‹å¤±æ•ˆ"><a href="#background-attachmentç§»åŠ¨ç«¯åœºæ™¯ä¸‹å¤±æ•ˆ" class="headerlink" title="background-attachmentç§»åŠ¨ç«¯åœºæ™¯ä¸‹å¤±æ•ˆ"></a><code>background-attachment</code>ç§»åŠ¨ç«¯åœºæ™¯ä¸‹å¤±æ•ˆ</h3><p>ç”¨ä¼ªå…ƒç´ æ¥è§£å†³</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;https://ae01.alicdn.com/kf/H18a4b998752a4ae68b8e85d432a5aef0l.png&#x27;</span>),</span><br><span class="line">    <span class="built_in">linear-gradient</span>(</span><br><span class="line">      <span class="number">60deg</span>,</span><br><span class="line">      rgba(<span class="number">255</span>, <span class="number">165</span>, <span class="number">150</span>, <span class="number">0.5</span>) <span class="number">5%</span>,</span><br><span class="line">      <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">228</span>, <span class="number">255</span>, <span class="number">0.35</span>)</span><br><span class="line">    ),</span><br><span class="line">    <span class="built_in">url</span>(<span class="string">&#x27;https://ae01.alicdn.com/kf/H21b5f6b8496141a1979a33666e1074d9x.jpg&#x27;</span>)</span><br><span class="line">      no-repeat cover;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="node-sass-ç‰ˆæœ¬é—®é¢˜"><a href="#node-sass-ç‰ˆæœ¬é—®é¢˜" class="headerlink" title="node-sass ç‰ˆæœ¬é—®é¢˜"></a>node-sass ç‰ˆæœ¬é—®é¢˜</h3><blockquote>
<p>Node Sass version 5.0.0 is incompatible with^4.0.0</p>
</blockquote>
<p>node-sass çš„ä¸åŒç‰ˆæœ¬å¯¹ node çš„ç‰ˆæœ¬ä¾èµ–ä¹Ÿæœ‰ä¸åŒ</p>
<p>å¯ä»¥ä½¿ç”¨ nvm node ç‰ˆæœ¬å·¥å…·æ¥åˆ‡æ¢ node çš„ç‰ˆæœ¬ è¿™æ ·å°±ä¸ç”¨å›é€€ç‰ˆæœ¬ å¸è½½é‡è£…äº†</p>
<p>é‡åˆ°çš„é—®é¢˜ ä½¿ç”¨ nvm install æ—¶ æ— æ³•å®‰è£…</p>
<p>å¯ä»¥åœ¨ç¯å¢ƒå˜é‡ä¸‹æ‰¾åˆ° NVM_HOME æ–‡ä»¶æ‰€åœ¨ç›®å½•ä¸‹çš„ setting.txt</p>
<p>åŠ å…¥ä¸¤è¡Œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">node_mirror:npm.taobao.org/mirrors/node/</span><br><span class="line">npm_mirror:npm.taobao.org/mirrors/npm/</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨-overflowï¼šhidden-ä¹‹åä½¿çš„åŒè¡Œå…ƒç´ ä¸å¯¹é½"><a href="#ä½¿ç”¨-overflowï¼šhidden-ä¹‹åä½¿çš„åŒè¡Œå…ƒç´ ä¸å¯¹é½" class="headerlink" title="ä½¿ç”¨ overflowï¼šhidden ä¹‹åä½¿çš„åŒè¡Œå…ƒç´ ä¸å¯¹é½"></a>ä½¿ç”¨ overflowï¼šhidden ä¹‹åä½¿çš„åŒè¡Œå…ƒç´ ä¸å¯¹é½</h3><p>ä¸€ä¸ªçˆ¶å…ƒç´ ï¼ˆå—çº§å…ƒç´ ï¼‰ä¸­æœ‰å‡ ä¸ªåœ¨åŒä¸€æ°´å¹³çº¿ä¸Šçš„å‡ ä¸ªå…ƒç´ ï¼ˆè¡Œå†…å—å…ƒç´ ï¼‰ï¼Œè®¾ç½®å…¶ä¸­æŸä¸ªå…ƒç´ çš„ oveflow:hidden ä¹‹åï¼Œä¼šå¯¼è‡´è¿™å‡ ä¸ªè¡Œå†…å…ƒç´ ä¸å†æ˜¯åŒä¸€æ°´å¹³çº¿ä¸Šå¯¹é½</p>
<p>åŸå› æ˜¯ï¼š</p>
<p>1ï¼‰è¡Œå†…å…ƒç´ çš„é»˜è®¤ vertical-align:baselineï¼ˆåŸºçº¿å¯¹é½ï¼‰ï¼Œè®¾ç½® overflow ä¸ä¸º visible ä¹‹åä¼šæ”¹å˜ä»–çš„åŸºçº¿ä¸ºä¸‹è¾¹è·è¾¹ç¼˜</p>
<p>2ï¼‰å…¶ä»–è¡Œå†…å…ƒç´ ä¸ºäº†å¯¹é½ï¼Œå°±ä¼šå‘ç”Ÿå‘ä¸‹åç§»çš„ç°è±¡</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<p>æ–¹æ¡ˆä¸€ï¼‰æ˜¾ç¤ºè®¾ç½®è¡Œå†…å…ƒç´ å¯¹é½æ–¹å¼,em: vertical-align:top</p>
<p>æ–¹æ¡ˆäºŒï¼‰è®¾ç½®å…¶ä»–å…ƒç´ éƒ½ä¸º overflow:hidden</p>
<p>æ–¹æ¡ˆä¸‰ï¼‰è®¾ç½®å…ƒç´  float</p>
]]></content>
      <categories>
        <category>BUG</category>
      </categories>
      <tags>
        <tag>BUG</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS-FLex</title>
    <url>/FE/CSS/Flex/</url>
    <content><![CDATA[<h1 id="Flexå¸ƒå±€"><a href="#Flexå¸ƒå±€" class="headerlink" title="Flexå¸ƒå±€"></a>Flexå¸ƒå±€</h1><p>å¼¹æ€§å¸ƒå±€</p>
<a id="more"></a>

<p>çˆ¶å…ƒç´ è®¾ç½®flexå¸ƒå±€å    å­å…ƒç´ çš„æµ®åŠ¨ä¼šå¤±æ•ˆ</p>
<h2 id="çˆ¶é¡¹å±æ€§"><a href="#çˆ¶é¡¹å±æ€§" class="headerlink" title="çˆ¶é¡¹å±æ€§"></a>çˆ¶é¡¹å±æ€§</h2><ul>
<li><h3 id="flex-directionï¼šè®¾ç½®ä¸»è½´æ–¹å‘"><a href="#flex-directionï¼šè®¾ç½®ä¸»è½´æ–¹å‘" class="headerlink" title="flex-directionï¼šè®¾ç½®ä¸»è½´æ–¹å‘"></a>flex-directionï¼šè®¾ç½®ä¸»è½´æ–¹å‘</h3><ul>
<li><p>rowï¼ˆé»˜è®¤ï¼‰</p>
</li>
<li><p>column</p>
</li>
<li><p>row-reverse</p>
</li>
<li><p>column-reverse</p>
</li>
</ul>
</li>
<li><h3 id="justify-contentï¼š-è®¾ç½®-ï¼ä¸»è½´ä¸Šï¼-å­å…ƒç´ çš„æ’åˆ—æ–¹å¼"><a href="#justify-contentï¼š-è®¾ç½®-ï¼ä¸»è½´ä¸Šï¼-å­å…ƒç´ çš„æ’åˆ—æ–¹å¼" class="headerlink" title="justify-contentï¼š è®¾ç½®    ï¼ä¸»è½´ä¸Šï¼  å­å…ƒç´ çš„æ’åˆ—æ–¹å¼"></a>justify-contentï¼š è®¾ç½®    ï¼ä¸»è½´ä¸Šï¼  å­å…ƒç´ çš„æ’åˆ—æ–¹å¼</h3><ul>
<li><p>flex-startï¼ˆé»˜è®¤ï¼‰è´´ç€å·¦è¾¹å¯¹é½</p>
</li>
<li><p>flex-end</p>
</li>
<li><p>center</p>
</li>
<li><p>space-around  å¹³å‡åˆ†é…å‰©ä½™ç©ºé—´</p>
</li>
<li><p>space-between   ä¸¤è¾¹è´´è¾¹ å†å‰©ä½™åˆ†é…å‰©ä½™ç©ºé—´</p>
</li>
</ul>
</li>
<li><h3 id="flex-wrapï¼šè®¾ç½®å­å…ƒç´ æ˜¯å¦æ¢è¡Œ"><a href="#flex-wrapï¼šè®¾ç½®å­å…ƒç´ æ˜¯å¦æ¢è¡Œ" class="headerlink" title="flex-wrapï¼šè®¾ç½®å­å…ƒç´ æ˜¯å¦æ¢è¡Œ"></a>flex-wrapï¼šè®¾ç½®å­å…ƒç´ æ˜¯å¦æ¢è¡Œ</h3><ul>
<li><p>nowrap ï¼ˆé»˜è®¤ï¼‰ ä¸æ¢è¡Œ æ”¾ä¸ä¸‹ä¼šç¼©å­å…ƒç´ </p>
</li>
<li><p>wrap</p>
</li>
</ul>
</li>
<li><h3 id="align-itemsï¼šè®¾ç½®-ï¼ä¾§è½´ä¸Š-ï¼-å­å…ƒç´ çš„æ’åˆ—æ–¹å¼ï¼ˆå•è¡Œï¼‰"><a href="#align-itemsï¼šè®¾ç½®-ï¼ä¾§è½´ä¸Š-ï¼-å­å…ƒç´ çš„æ’åˆ—æ–¹å¼ï¼ˆå•è¡Œï¼‰" class="headerlink" title="align-itemsï¼šè®¾ç½® ï¼ä¾§è½´ä¸Š ï¼ å­å…ƒç´ çš„æ’åˆ—æ–¹å¼ï¼ˆå•è¡Œï¼‰"></a>align-itemsï¼šè®¾ç½® ï¼ä¾§è½´ä¸Š ï¼ å­å…ƒç´ çš„æ’åˆ—æ–¹å¼ï¼ˆå•è¡Œï¼‰</h3><ul>
<li><p>center</p>
</li>
<li><p>flex-start</p>
</li>
<li><p>flex-end</p>
</li>
</ul>
</li>
<li><h3 id="align-contentï¼šå¤šè¡Œï¼ˆå­é¡¹å‡ºç°æ¢è¡Œï¼‰"><a href="#align-contentï¼šå¤šè¡Œï¼ˆå­é¡¹å‡ºç°æ¢è¡Œï¼‰" class="headerlink" title="align-contentï¼šå¤šè¡Œï¼ˆå­é¡¹å‡ºç°æ¢è¡Œï¼‰"></a>align-contentï¼šå¤šè¡Œï¼ˆå­é¡¹å‡ºç°æ¢è¡Œï¼‰</h3><ul>
<li><p>center</p>
</li>
<li><p>flex-start</p>
</li>
<li><p>flex-end</p>
</li>
<li><p>space-around  å¹³å‡åˆ†é…å‰©ä½™ç©ºé—´</p>
</li>
<li><p>space-between   ä¸¤è¾¹è´´è¾¹ å†å‰©ä½™åˆ†é…å‰©ä½™ç©ºé—´</p>
</li>
</ul>
</li>
<li><h3 id="flex-flowï¼šç®€å†™"><a href="#flex-flowï¼šç®€å†™" class="headerlink" title="flex-flowï¼šç®€å†™"></a>flex-flowï¼šç®€å†™</h3><ul>
<li>flex-flowï¼šrow wrap</li>
</ul>
</li>
</ul>
<h2 id="å­é¡¹å±æ€§"><a href="#å­é¡¹å±æ€§" class="headerlink" title="å­é¡¹å±æ€§"></a>å­é¡¹å±æ€§</h2><p>flexï¼š<num>   å­å…ƒç´ å çš„ä»½æ•°</p>
<p>align-selfï¼šæ§åˆ¶å­å…ƒç´ è‡ªå·±åœ¨<strong>ä¾§è½´</strong>ä¸Šçš„æ’åˆ—æ–¹å¼</p>
<p>orderï¼š<num>  æ§åˆ¶ç›’å­çš„ä½ç½® é»˜è®¤éƒ½æ˜¯0 è¶Šå°è¶Šé å‰</p>
<h2 id="flexè®¡ç®—"><a href="#flexè®¡ç®—" class="headerlink" title="flexè®¡ç®—"></a>flexè®¡ç®—</h2><p>TODO</p>
]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>CSS Accumulation</title>
    <url>/FE/CSS/Accumulation/</url>
    <content><![CDATA[<h2 id="é”šç‚¹é“¾æ¥å¹³æ»‘æ»šåŠ¨"><a href="#é”šç‚¹é“¾æ¥å¹³æ»‘æ»šåŠ¨" class="headerlink" title="é”šç‚¹é“¾æ¥å¹³æ»‘æ»šåŠ¨"></a>é”šç‚¹é“¾æ¥å¹³æ»‘æ»šåŠ¨</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  $(<span class="string">&#x27;a&#x27;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//æ ¹æ®aæ ‡ç­¾çš„hrefè½¬æ¢ä¸ºidé€‰æ‹©å™¨ï¼Œè·å–idå…ƒç´ æ‰€å¤„çš„ä½ç½®ï¼Œå¹¶é«˜åº¦å‡50pxï¼ˆè¿™é‡Œæ ¹æ®éœ€è¦è‡ªç”±è®¾ç½®ï¼‰</span></span><br><span class="line">    $(<span class="string">&#x27;html,body&#x27;</span>).animate(</span><br><span class="line">      &#123; <span class="attr">scrollTop</span>: $($(<span class="built_in">this</span>).attr(<span class="string">&#x27;href&#x27;</span>)).offset().top - <span class="number">50</span> &#125;,</span><br><span class="line">      <span class="number">1000</span></span><br><span class="line">    )</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="é¡¶éƒ¨å¯¼èˆªæ å¸é™„"><a href="#é¡¶éƒ¨å¯¼èˆªæ å¸é™„" class="headerlink" title="é¡¶éƒ¨å¯¼èˆªæ å¸é™„"></a>é¡¶éƒ¨å¯¼èˆªæ å¸é™„</h2><p>å¯ä»¥ç”¨positionï¼šsticky</p>
<p>å¿…é¡»ç»™ä¸€ä¸ªtopå€¼ ç¡®å®šæœ€ç»ˆå¸é™„çš„ä½ç½®</p>
<p>å¯ä»¥é…åˆèƒŒæ™¯é¢œè‰² æˆ– z-indexç½®é¡¶ æ¥è¾¾åˆ°æ•ˆæœ</p>
<h2 id="ç¾åŒ–å¯¼èˆªæ æ ·å¼"><a href="#ç¾åŒ–å¯¼èˆªæ æ ·å¼" class="headerlink" title="ç¾åŒ–å¯¼èˆªæ æ ·å¼"></a>ç¾åŒ–å¯¼èˆªæ æ ·å¼</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-track</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#f6f6f6</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#aaa</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#747474</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-corner</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#f6f6f6</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="æ”¶è—å¤¹å’Œæ ‡é¢˜-favicon-ico-åˆ¶ä½œ"><a href="#æ”¶è—å¤¹å’Œæ ‡é¢˜-favicon-ico-åˆ¶ä½œ" class="headerlink" title="æ”¶è—å¤¹å’Œæ ‡é¢˜ favicon.ico åˆ¶ä½œ"></a>æ”¶è—å¤¹å’Œæ ‡é¢˜ favicon.ico åˆ¶ä½œ</h2><p><a href=https://tool.lu/favicon>ico åœ¨çº¿åˆ¶ä½œ</a></p>
<p>åœ¨ html ä¸­æ’å…¥è¯­å¥</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;img/favicon.ico&quot;</span> <span class="attr">type</span>=<span class="string">&quot;imagex-icon&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;shortcut icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;img/favicon.ico&quot;</span><span class="attr">type</span>=<span class="string">&quot;image/x-icon&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="é“¾æ¥ï¼ˆæ–‡æœ¬å¤åˆ¶ï¼‰"><a href="#é“¾æ¥ï¼ˆæ–‡æœ¬å¤åˆ¶ï¼‰" class="headerlink" title="é“¾æ¥ï¼ˆæ–‡æœ¬å¤åˆ¶ï¼‰"></a>é“¾æ¥ï¼ˆæ–‡æœ¬å¤åˆ¶ï¼‰</h2><p>å¦‚æœæ˜¯è¾“å…¥æ¡†ï¼Œå¯ä»¥é€šè¿‡ select() æ–¹æ³•ï¼Œé€‰ä¸­è¾“å…¥æ¡†çš„æ–‡æœ¬ï¼Œç„¶åè°ƒç”¨copy å‘½ä»¤ï¼Œå°†æ–‡æœ¬å¤åˆ¶åˆ°å‰ªåˆ‡æ¿</p>
<p>ä½†æ˜¯ select() æ–¹æ³•åªå¯¹ <code>&lt;input&gt;</code> å’Œ <code>&lt;textarea&gt;</code> æœ‰æ•ˆ</p>
<p>æ‰€ä»¥é‡‡ç”¨é‡‡ç”¨å…¶ä»–å…ƒç´ æ—¶ï¼Œå¯ä»¥å€ŸåŠ©è¿™ä¸¤ä¸ªå…ƒç´ ï¼Œç„¶åå°†å…¶â€œéšè—â€ï¼Œéšè—çš„æ„æ€æ˜¯ä¸å¯ä»¥å¯¹æµè§ˆå™¨ä¸å¯è§ï¼Œ</p>
<p>å¦‚è®¾ç½®ä¸º<code>visibilityï¼šhidden</code>æˆ–<code>display:none</code>ç­‰éƒ½ä¼šå¤±æ•ˆï¼Œå¯ä»¥ä½¿ç”¨å®šä½å°†å…¶â€œéšè—â€</p>
<p>åŸç†ï¼š</p>
<p><code>[input].select()</code></p>
<p><code>document.execCommand(&quot;copy&quot;)</code></p>
<h2 id="æ— é™æ»šåŠ¨çš„åˆ—è¡¨"><a href="#æ— é™æ»šåŠ¨çš„åˆ—è¡¨" class="headerlink" title="æ— é™æ»šåŠ¨çš„åˆ—è¡¨"></a>æ— é™æ»šåŠ¨çš„åˆ—è¡¨</h2><p>åŸºæœ¬æ€è·¯</p>
<p>éœ€è¦ä¸¤ä¸ªä¸€æ¨¡ä¸€æ ·çš„å®¹å™¨ ç„¶åç”¨ animation åŠ¨ç”» åœ¨ç¬¬ä¸€ä¸ªå®¹å™¨ç»“æŸæ—¶ ç¬¬äºŒä¸ªå®¹å™¨å¼€å§‹æ—¶ çš„ ç¬é—´</p>
<p>é‡å åˆ° åŠ¨ç”»ç»“æŸ é—ªåŠ¨çš„ç¬é—´ å³å¯</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> picmove &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">1126px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.menu_box_con</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: picmove <span class="number">18s</span> linear infinite forwards;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>Node Express &amp;&amp; Koa</title>
    <url>/FE/Node/express-koa/</url>
    <content><![CDATA[<h2 id="Express"><a href="#Express" class="headerlink" title="Express"></a>Express</h2><p>é€šè¿‡ express æˆ‘ä»¬å¯ä»¥è½»æ¾çš„æ„å»ºä¸€ä¸ª web æœåŠ¡å™¨ ä¾‹å¦‚ä»¥ä¸‹ä»£ç å°±åœ¨ 3000 ç«¯å£åˆ›å»ºäº†ä¸€ä¸ª web æœåŠ¡å™¨</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;start&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>åœ¨æˆ‘çš„ç†è§£ä¸­ express å°±æ˜¯ä¸€ä¸ªå¯¹ä¸€ç³»åˆ—ä¸­é—´ä»¶è°ƒç”¨çš„å‡½æ•°</p>
<p>æ¯”å¦‚å¸¸è§çš„å¤„ç† get å’Œ post è¯·æ±‚çš„æ–¹æ³•éƒ½æ˜¯ä¸­é—´ä»¶çš„è°ƒç”¨</p>
<p>å½“æˆ‘ä»¬ require express çš„æ—¶å€™ æœ¬è´¨ä¸Šæ˜¯å¯¼å…¥äº†ä¸€ä¸ªå‡½æ•°</p>
<p>å¯ä»¥æŸ¥çœ‹æºç  ä»¥ä¸‹æ˜¯å…¥å£æ–‡ä»¶ express.js çš„æˆªå–ä»£ç </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">exports</span> = <span class="built_in">module</span>.exports = createApplication;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Create an express application.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;Function&#125;</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@api <span class="variable">public</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createApplication</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> app = <span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    app.handle(req, res, next);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  mixin(app, EventEmitter.prototype, <span class="literal">false</span>);</span><br><span class="line">  mixin(app, proto, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// expose the prototype that will get set on requests</span></span><br><span class="line">  app.request = <span class="built_in">Object</span>.create(req, &#123;</span><br><span class="line">    app: &#123; <span class="attr">configurable</span>: <span class="literal">true</span>, <span class="attr">enumerable</span>: <span class="literal">true</span>, <span class="attr">writable</span>: <span class="literal">true</span>, <span class="attr">value</span>: app &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// expose the prototype that will get set on responses</span></span><br><span class="line">  app.response = <span class="built_in">Object</span>.create(res, &#123;</span><br><span class="line">    app: &#123; <span class="attr">configurable</span>: <span class="literal">true</span>, <span class="attr">enumerable</span>: <span class="literal">true</span>, <span class="attr">writable</span>: <span class="literal">true</span>, <span class="attr">value</span>: app &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  app.init();</span><br><span class="line">  <span class="keyword">return</span> app;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>express.js å¯¼å‡ºäº†ä¸€ä¸ªå‡½æ•° createApplication ä¹Ÿå°±æ˜¯æˆ‘ä»¬ require å¯¼å…¥çš„å‡½æ•°</p>
<p>åœ¨è¿™ä¸ªå‡½æ•°ä¸­åˆå§‹åŒ–äº†ä¸€ä¸ª app çš„å‡½æ•° æ‹¥æœ‰ req / res / next ç­‰å‚æ•° å¹¶é€šè¿‡ minin è¿™ä¸ªå‡½æ•°æ··å…¥äº†å¾ˆå¤šå±æ€§åˆ° app ä¸­</p>
<p>å…·ä½“çš„ API å¯æŸ¥é˜… <a href="http://expressjs.com/en/4x/api.html">http://expressjs.com/en/4x/api.html</a></p>
<h3 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" class="headerlink" title="ä¸­é—´ä»¶"></a>ä¸­é—´ä»¶</h3><p>ä¼ é€’ç»™ express çš„ä¸€ä¸ªå›è°ƒå‡½æ•° ä¸­é—´ä»¶ä½äºè¯·æ±‚å’Œå“åº”ä¹‹é—´ æ‰€ä»¥å®ƒå¯ä»¥</p>
<p>â€¢ æ‰§è¡Œä»»ä½•ä»£ç </p>
<p>â€¢ æ›´æ”¹è¯·æ±‚å’Œå“åº”å¯¹è±¡</p>
<p>â€¢ ç»“æŸè¯·æ±‚å“åº”å‘¨æœŸ res.end</p>
<p>â€¢ è°ƒç”¨ä¸‹ä¸€ä¸ªä¸­é—´ä»¶</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ app.use çš„æ–¹æ³•åœ¨å…¨å±€æ³¨å†Œä¸­é—´ä»¶ è¿™æ ·æ‰€æœ‰çš„è·¯ç”±éƒ½ä¼šåŒ¹é…åˆ°è¿™ä¸ªä¸­é—´ä»¶</p>
<p>ä¹Ÿå¯ä»¥åœ¨å…·ä½“çš„è·¯ç”±ä¸­ä½¿ç”¨ä¸­é—´ä»¶ ä¾‹å¦‚å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> middlewareA = (<span class="function">(<span class="params">req,res,next</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">do</span> something...</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.use(middlewareA)</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/&#x27;</span>, middlewareA ,<span class="function">(<span class="params">req,res,next</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">do</span> something...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="æ‰˜ç®¡é™æ€æ–‡ä»¶"><a href="#æ‰˜ç®¡é™æ€æ–‡ä»¶" class="headerlink" title="æ‰˜ç®¡é™æ€æ–‡ä»¶"></a>æ‰˜ç®¡é™æ€æ–‡ä»¶</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡/static æ¥è®¿é—®publicæ–‡ä»¶å¤¹</span></span><br><span class="line">app.use(<span class="string">&quot;/static&quot;</span>, express.static(path.join(__dirname, <span class="string">&quot;public&quot;</span>)));</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8080</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;é™æ€èµ„æºæœåŠ¡å™¨éƒ¨ç½²æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="get"><a href="#get" class="headerlink" title="get"></a>get</h3><p>get è¯·æ±‚çš„å‚æ•°éƒ½åœ¨ url ä¸­ æˆ‘ä»¬å¯ä»¥é€šè¿‡ query å’Œ params è¿™ä¸¤ç§å½¢å¼æ¥è·å–</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&quot;/query&quot;</span>, <span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  res.json(req.query);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&quot;/param/:id&quot;</span>, <span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  res.json(req.params);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;start&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="post"><a href="#post" class="headerlink" title="post"></a>post</h3><p>post è¯·æ±‚çš„å‚æ•°åœ¨ body ä½†æ˜¯å¦‚æœæˆ‘ä»¬ç›´æ¥æ‰“å° body æ˜¯çœ‹ä¸åˆ°ä»»ä½•ç»“æœçš„</p>
<p>è¿™æ˜¯éœ€è¦å¼•å…¥ body-parser è¿™ä¸ªåº“</p>
<p>è¿™ä¸ªåº“å’Œä¸åŒç‰ˆæœ¬çš„ express é›†æˆæƒ…å†µå¦‚ä¸‹</p>
<ul>
<li><p>3.x å†…ç½®</p>
</li>
<li><p>4.x åˆ†ç¦»</p>
</li>
<li><p>4.16 å†…ç½®å‡½æ•°</p>
</li>
</ul>
<p>æ‰€ä»¥å¦‚æœæ˜¯ 4.x 4.16 ä»¥å‰çš„ç‰ˆæœ¬ æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å®‰è£…è¿™ä¸ªç¬¬ä¸‰æ–¹åº“</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è€ç‰ˆæœ¬å†™æ³• ä¸æ¨è</span></span><br><span class="line"><span class="comment">// var bodyParser = require(&quot;body-parser&quot;);</span></span><br><span class="line"><span class="comment">// app.use(bodyParser.urlencoded(&#123; extended: false &#125;));</span></span><br><span class="line"><span class="comment">// app.use(bodyParser.json());</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.16ä»¥åçš„å†™æ³• æ¨è</span></span><br><span class="line"><span class="comment">// extended false è¡¨ç¤ºä½¿ç”¨nodeçš„å†…ç½®æ¨¡å—querystringæ¥è§£æ</span></span><br><span class="line"><span class="comment">// true åˆ™è¡¨ç¤ºä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å—qsæ¥è§£æ</span></span><br><span class="line">app.use(express.urlencoded(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;));</span><br><span class="line">app.use(express.json());</span><br><span class="line"></span><br><span class="line">app.post(<span class="string">&quot;/login&quot;</span>, <span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(req.body);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;start&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h3><p>å¦‚æœä½¿ç”¨åŸç”Ÿçš„æ–¹æ³•å®ç°æ–‡ä»¶ä¸Šä¼  åå°å¤„ç†èµ·æ¥ä¼šéå¸¸éº»çƒ¦ å› ä¸ºäºŒè¿›åˆ¶æµä¸­ä¸ä»…æœ‰æ–‡ä»¶çš„ä¿¡æ¯ è¿˜æœ‰ header çš„ä¸€äº›ç›¸å…³ä¿¡æ¯ æˆ‘ä»¬å¯ä»¥æ‰“å°ä¸€äº›ç›¸å…³çš„æ•°æ®æ¥çœ‹ä¸€ä¸‹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"></span><br><span class="line">app.post(<span class="string">&quot;/upload&quot;</span>, <span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(req.headers);</span><br><span class="line">  <span class="keyword">let</span> data = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  req.on(<span class="string">&quot;data&quot;</span>, <span class="function">(<span class="params">buffer</span>) =&gt;</span> &#123;</span><br><span class="line">    data += buffer;</span><br><span class="line">  &#125;);</span><br><span class="line">  req.on(<span class="string">&quot;end&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data.toString());</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8080</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;start~~~&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬è®¿é—® localhost:8080/upload å¹¶ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶ å°±å¯ä»¥çœ‹åˆ°æ‰“å°å°è¾“å‡ºäº†ä¸€æ®µä¹±ç çš„äºŒè¿›åˆ¶æµå’Œè¯·æ±‚å¤´çš„ headers</p>
<p>headers ä¿¡æ¯å¦‚ä¸‹</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;user-agent&quot;</span>: <span class="string">&quot;PostmanRuntime/7.13.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;accept&quot;</span>: <span class="string">&quot;*/*&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;cache-control&quot;</span>: <span class="string">&quot;no-cache&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;postman-token&quot;</span>: <span class="string">&quot;e48f538d-2988-4e39-8d50-80fdede0ed02&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;host&quot;</span>: <span class="string">&quot;localhost:8080&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;accept-encoding&quot;</span>: <span class="string">&quot;gzip, deflate&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;content-type&quot;</span>: <span class="string">&quot;multipart/form-data; boundary=--------------------------372446874075094600561084&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;content-length&quot;</span>: <span class="string">&quot;376074&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;connection&quot;</span>: <span class="string">&quot;keep-alive&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä»”ç»†å¯¹æ¯” ä½ å°±ä¼šå‘ç°äºŒè¿›åˆ¶æµä¸­åŒ…å«äº† header ä¸­çš„ content-type ä¸­çš„ boundary è¿˜æœ‰æ–‡ä»¶çš„ mime ç±»å‹ç­‰ å¦‚æœä¸åŠ å¤„ç†çš„ç›´æ¥ä½¿ç”¨ fs æ¨¡å—å°†è¿™ä¸ªäºŒè¿›åˆ¶æµå†™å…¥åˆ°æ–‡ä»¶ä¸­ é‚£ä¹ˆæœ€ç»ˆæ–‡ä»¶è‚¯å®šæ— æ³•è¢«æ­£ç¡®è§£æ</p>
<p>å¦‚æœå¼•å…¥ multer æ¨¡å— é‚£ä¹ˆæ–‡ä»¶ä¸Šä¼ åŠŸèƒ½å°±ä¼šå˜å¾—å¾ˆç®€å•äº†</p>
<p>ä¾‹å¦‚ æˆ‘ä»¬éœ€è¦ç”¨æˆ·ä¸Šä¼ å¤´åƒ ä»£ç å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> multer = <span class="built_in">require</span>(<span class="string">&quot;multer&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> storage = multer.diskStorage(&#123;</span><br><span class="line">  destination: <span class="function"><span class="keyword">function</span> (<span class="params">req, file, cb</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//  ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºerrçš„ç›¸å…³ä¿¡æ¯ nodeçš„å›è°ƒå‡½æ•°éƒ½æ˜¯é”™è¯¯ä¼˜å…ˆçš„å›è°ƒ</span></span><br><span class="line">    <span class="comment">//  ç¬¬äºŒä¸ªå‚æ•°ä¸ºæ–‡ä»¶ä¸Šä¼ çš„ç›®çš„åœ°</span></span><br><span class="line">    cb(<span class="literal">null</span>, <span class="string">&quot;uploads&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  filename: <span class="function"><span class="keyword">function</span> (<span class="params">req, file, cb</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// åŒæ ·çš„ ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºé”™è¯¯ä¿¡æ¯ ç¬¬äºŒä¸ªå‚æ•°ä¸ºæ–‡ä»¶å</span></span><br><span class="line">    cb(</span><br><span class="line">      <span class="literal">null</span>,</span><br><span class="line">      file.fieldname + <span class="string">&quot;-&quot;</span> + <span class="built_in">Date</span>.now() + path.extname(file.originalname)</span><br><span class="line">    );</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> upload = multer(&#123; <span class="attr">storage</span>: storage &#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"></span><br><span class="line">app.post(<span class="string">&quot;/upload&quot;</span>, upload.single(<span class="string">&quot;avatar&quot;</span>), <span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(req.file);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8080</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;start~~~&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°æ–¹æ³•æ¼”ç¤ºçš„æ˜¯å•æ–‡ä»¶ä¸Šä¼  req.file ä¸­å­˜å‚¨äº†æ–‡ä»¶çš„ç›¸å…³ä¿¡æ¯ å¦‚ä¸‹</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;fieldname&quot;</span>: <span class="string">&quot;avatar&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;originalname&quot;</span>: <span class="string">&quot;CHOU16.jpg&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;encoding&quot;</span>: <span class="string">&quot;7bit&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;mimetype&quot;</span>: <span class="string">&quot;image/jpeg&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;destination&quot;</span>: <span class="string">&quot;uploads&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;filename&quot;</span>: <span class="string">&quot;avatar-1616384964609.jpg&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;path&quot;</span>: <span class="string">&quot;uploads\\avatar-1616384964609.jpg&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;size&quot;</span>: <span class="number">375864</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœéœ€è¦æ”¯æŒå¤šæ–‡ä»¶ä¸Šä¼  ä¾‹å¦‚è¿˜éœ€è¦ä¸Šä¼ ç”¨æˆ·èƒŒæ™¯å›¾ ä»£ç å¯æ”¹å†™æˆå¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.post(</span><br><span class="line">  <span class="string">&quot;/fields&quot;</span>,</span><br><span class="line">  upload.fields([</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&quot;avatar&quot;</span>, <span class="attr">macCount</span>: <span class="number">1</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&quot;bg&quot;</span>, <span class="attr">maxCount</span>: <span class="number">2</span> &#125;,</span><br><span class="line">  ]),</span><br><span class="line">  (req, res, next) =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(req.files);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//   avatar: [</span></span><br><span class="line"><span class="comment">//     &#123;</span></span><br><span class="line"><span class="comment">//       fieldname: &#x27;avatar&#x27;,</span></span><br><span class="line"><span class="comment">//       originalname: &#x27;CHOU1.jpg&#x27;,</span></span><br><span class="line"><span class="comment">//       encoding: &#x27;7bit&#x27;,</span></span><br><span class="line"><span class="comment">//       mimetype: &#x27;image/jpeg&#x27;,</span></span><br><span class="line"><span class="comment">//       destination: &#x27;uploads&#x27;,</span></span><br><span class="line"><span class="comment">//       filename: &#x27;CHOU1.jpg&#x27;,</span></span><br><span class="line"><span class="comment">//       path: &#x27;uploads/CHOU1.jpg&#x27;,</span></span><br><span class="line"><span class="comment">//       size: 646567</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//   ],</span></span><br><span class="line"><span class="comment">//   bg: [</span></span><br><span class="line"><span class="comment">//     &#123;</span></span><br><span class="line"><span class="comment">//       fieldname: &#x27;bg&#x27;,</span></span><br><span class="line"><span class="comment">//       originalname: &#x27;CHOU2.jpg&#x27;,</span></span><br><span class="line"><span class="comment">//       encoding: &#x27;7bit&#x27;,</span></span><br><span class="line"><span class="comment">//       mimetype: &#x27;image/jpeg&#x27;,</span></span><br><span class="line"><span class="comment">//       destination: &#x27;uploads&#x27;,</span></span><br><span class="line"><span class="comment">//       filename: &#x27;CHOU2.jpg&#x27;,</span></span><br><span class="line"><span class="comment">//       path: &#x27;uploads/CHOU2.jpg&#x27;,</span></span><br><span class="line"><span class="comment">//       size: 398519</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//   ]</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ˜¯éœ€è¦å¤šå¼ èƒŒæ™¯å›¾ä¸Šä¼  åŒä¸€ä¸ª field åˆ™å¯ä»¥ç”¨ array çš„å†™æ³• ç¬¬äºŒä¸ªå‚æ•°ä¸ºæœ€å¤§å¯ä¸Šä¼ çš„æ•°é‡</p>
<p>å¦‚æœè¶…è¿‡äº†æœ€å¤§æ•°é‡ multer ä¼šè¿”å› MulterError: Unexpected field</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.post(<span class="string">&quot;/array&quot;</span>, upload.array(<span class="string">&quot;bg&quot;</span>, <span class="number">3</span>), <span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(req.files);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// [</span></span><br><span class="line"><span class="comment">//   &#123;</span></span><br><span class="line"><span class="comment">//     fieldname: &#x27;bg&#x27;,</span></span><br><span class="line"><span class="comment">//     originalname: &#x27;CHOU1.jpg&#x27;,</span></span><br><span class="line"><span class="comment">//     encoding: &#x27;7bit&#x27;,</span></span><br><span class="line"><span class="comment">//     mimetype: &#x27;image/jpeg&#x27;,</span></span><br><span class="line"><span class="comment">//     destination: &#x27;uploads&#x27;,</span></span><br><span class="line"><span class="comment">//     filename: &#x27;CHOU1.jpg&#x27;,</span></span><br><span class="line"><span class="comment">//     path: &#x27;uploads/CHOU1.jpg&#x27;,</span></span><br><span class="line"><span class="comment">//     size: 646567</span></span><br><span class="line"><span class="comment">//   &#125;,</span></span><br><span class="line"><span class="comment">//   &#123;</span></span><br><span class="line"><span class="comment">//     fieldname: &#x27;bg&#x27;,</span></span><br><span class="line"><span class="comment">//     originalname: &#x27;CHOU2.jpg&#x27;,</span></span><br><span class="line"><span class="comment">//     encoding: &#x27;7bit&#x27;,</span></span><br><span class="line"><span class="comment">//     mimetype: &#x27;image/jpeg&#x27;,</span></span><br><span class="line"><span class="comment">//     destination: &#x27;uploads&#x27;,</span></span><br><span class="line"><span class="comment">//     filename: &#x27;CHOU2.jpg&#x27;,</span></span><br><span class="line"><span class="comment">//     path: &#x27;uploads/CHOU2.jpg&#x27;,</span></span><br><span class="line"><span class="comment">//     size: 398519</span></span><br><span class="line"><span class="comment">//   &#125;</span></span><br><span class="line"><span class="comment">// ]</span></span><br></pre></td></tr></table></figure>

<h3 id="router"><a href="#router" class="headerlink" title="router"></a>router</h3><p>å¦‚æœå°†æ‰€æœ‰çš„è¯·æ±‚å¤„ç†éƒ½æ”¾åœ¨ index.js ä¸­å¤„ç† é‚£ä¹ˆ index.js çš„ä»£ç å°±ä¼šå˜çš„å¾ˆè‡ƒè‚¿ è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è·¯ç”±æ¥æ‹†åˆ†æˆ‘ä»¬çš„ä»£ç </p>
<p>ä¾‹å¦‚é¡¹ç›®ä¸­æœ‰ä¸€ä¸ªç”¨æˆ·æ¨¡å— å®ç°å¢åˆ æ”¹æŸ¥çš„åŠŸèƒ½</p>
<p>æˆ‘ä»¬å°±å¯ä»¥æ–°å»ºä¸€ä¸ª user.js æ–‡ä»¶</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = express.Router();</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">&quot;/add&quot;</span>, <span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  res.end(<span class="string">&quot;added&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.post(<span class="string">&quot;/delete&quot;</span>, <span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  res.end(<span class="string">&quot;deleted&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.post(<span class="string">&quot;/update&quot;</span>, <span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  res.end(<span class="string">&quot;updated&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.post(<span class="string">&quot;/select&quot;</span>, <span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  res.end(<span class="string">&quot;selected&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = router;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ index.js ä¸­å¯¼å…¥è¿™ä¸ªè·¯ç”±</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> userRouter = <span class="built_in">require</span>(<span class="string">&quot;./user&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"></span><br><span class="line">app.use(<span class="string">&quot;/user&quot;</span>, userRouter);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;start&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="DEMO"><a href="#DEMO" class="headerlink" title="DEMO"></a>DEMO</h3><p>express ä¸­çš„ä¸­é—´ä»¶éƒ½æ˜¯åŒæ­¥ä»£ç  å³ä¸€ä¸ªä¸­é—´ä»¶æ‰§è¡Œå®Œæ¯•æ‰ä¼šå»æ‰§è¡Œå¦ä¸€ä¸ªä¸­é—´ä»¶ä¸­çš„ä»£ç </p>
<p>ä¾‹å¦‚æˆ‘ä»¬æœ‰å¦‚ä¸‹åŠŸèƒ½è¦å®ç° åœ¨ ABC ä¸‰ä¸ªä¸­é—´ä»¶ä¸­ åˆ†åˆ«è¿½åŠ ç»™ message è¿½åŠ å†…å®¹ ç„¶ååœ¨ A ä¸­é—´ä»¶ä¸­è¾“å‡ºç»“æœ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = express();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> middlewareA = <span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  req.message = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  req.message += <span class="string">&quot;A&quot;</span>;</span><br><span class="line">  next();</span><br><span class="line">  res.end(req.message);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> middlewareB = <span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  req.message += <span class="string">&quot;B&quot;</span>;</span><br><span class="line">  next();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> middlewareC = <span class="keyword">async</span> (req, res, next) =&gt; &#123;</span><br><span class="line">  req.message += <span class="string">&quot;C&quot;</span>;</span><br><span class="line">  next();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">app.use(middlewareA);</span><br><span class="line">app.use(middlewareB);</span><br><span class="line">app.use(middlewareC);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">8000</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>next å‡½æ•°ä¼šåœ¨ä¸­é—´ä»¶æ ˆä¸­æ‰¾åˆ°ä¸‹ä¸€ä¸ªä¸­é—´ä»¶å¹¶æ‰§è¡Œ æ‰€ä»¥ middlewareA ä¸­çš„ res.end ä¼šåœ¨æ‰€æœ‰ä¸­é—´ä»¶éƒ½æ‰§è¡Œå®Œæ¯•åæ‰æ‰§è¡Œ è¾“å…¥ ABC</p>
<p>é‚£ä¹ˆ å¦‚æœæˆ‘ä»¬åœ¨ç¬¬ä¸‰ä¸ªä¸­é—´ä»¶ä¸­ç”¨å®šæ—¶å™¨æ¥æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ æœ€ç»ˆçš„ç»“æœä¼šæ€ä¹ˆæ ·å‘¢</p>
<p>å°† middlewareC æ”¹é€ æˆå¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> middlewareC = <span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    req.message += <span class="string">&quot;C&quot;</span>;</span><br><span class="line">  &#125;, <span class="number">0</span>);</span><br><span class="line">  next();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡è®¿é—® 8000 ç«¯å£ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™æ¬¡æœ€ç»ˆçš„è¾“å‡ºå˜æˆäº† AB ç”±æ­¤å¯è§</p>
<p><strong>ä¸­é—´ä»¶ä¸­çš„ä»£ç éƒ½æ˜¯åŒæ­¥è°ƒç”¨çš„</strong></p>
<p>è€Œè¿™ ä¹Ÿæ˜¯ express é¢å¯¹å¼‚æ­¥åœºæ™¯ä¸‹çš„ä¸€ç§æ— åŠ› è€Œ koa åˆ™ä¸ä¸€æ ·</p>
<h2 id="Koa"><a href="#Koa" class="headerlink" title="Koa"></a>Koa</h2><p>koa æ”¯æŒ async å’Œ await çš„ç”¨æ³• è¿™å°±æ„å‘³ç€åœ¨ koa ä¸­å¯ä»¥æŠ›å» express ä¸­å›è°ƒå‡½æ•°çš„å†™æ³• ç”¨ä¸€ç§æ›´ä¼˜é›…çš„æ–¹å¼æ¥è§£å†³å¼‚æ­¥åœºæ™¯</p>
<h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><p>ä¸ express ä¸åŒçš„æ˜¯ koa å¯¼å‡ºçš„ä¸æ˜¯å‡½æ•° è€Œæ˜¯ä¸€ä¸ªåä¸º Application çš„å¯¹è±¡</p>
<p>æ‰€ä»¥åœ¨ä½¿ç”¨ä¸Šæˆ‘ä»¬åªéœ€è¦ new ä¸€ä¸ªå®ä¾‹å³å¯ å…¶ä»–ç”¨æ³•å’Œ Express åŸºæœ¬ç›¸ä¼¼</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&quot;koa&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa();</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8080</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;Koa&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h3><p>è¿™é‡Œæˆ‘ä»¬å€ŸåŠ©ç¬¬ä¸‰æ–¹æ¨¡å— koa-router å› ä¸º koa æœ¬èº«å¾ˆçº¯å‡€ åŸºæœ¬æ‰€æœ‰åŠŸèƒ½éƒ½è¦é€šè¿‡ç¬¬ä¸‰æ–¹æ’ä»¶æ¥å®ç°</p>
<p>æ–°å»ºä¸€ä¸ª user.js çš„è·¯ç”±æ¨¡å— Koa å°† express ä¸­çš„ request å’Œ response éƒ½åˆæˆåˆ°äº†ä¸Šä¸‹æ–‡å¯¹è±¡ context ä¸­ ç®€å†™ä¸º ctx</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Router = <span class="built_in">require</span>(<span class="string">&quot;koa-router&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> userRouter = <span class="keyword">new</span> Router(&#123; <span class="attr">prefix</span>: <span class="string">&quot;/user&quot;</span> &#125;);</span><br><span class="line"></span><br><span class="line">userRouter.get(<span class="string">&quot;/home&quot;</span>, <span class="function">(<span class="params">ctx, next</span>) =&gt;</span> &#123;</span><br><span class="line">  ctx.body = <span class="string">&quot;welcome~~&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">userRouter.post(<span class="string">&quot;/login&quot;</span>, <span class="function">(<span class="params">ctx, next</span>) =&gt;</span> &#123;</span><br><span class="line">  ctx.body = <span class="string">&quot;login&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = userRouter;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ index ä¸­å¼•å…¥ user.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&quot;koa&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> userRouter = <span class="built_in">require</span>(<span class="string">&quot;./router&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa();</span><br><span class="line"></span><br><span class="line">app.use(userRouter.routes());</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8080</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;Koa&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="å¤„ç†è¯·æ±‚"><a href="#å¤„ç†è¯·æ±‚" class="headerlink" title="å¤„ç†è¯·æ±‚"></a>å¤„ç†è¯·æ±‚</h3><p>koa ä¸­éœ€è¦å¼•å…¥ koa-bodyparser æ¥è§£æ json å’Œ urlencoded</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&quot;koa&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> Router = <span class="built_in">require</span>(<span class="string">&quot;koa-router&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">&quot;koa-bodyparser&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa();</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> Router();</span><br><span class="line"></span><br><span class="line">app.use(bodyParser());</span><br><span class="line">app.use(router.routes());</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£æquery</span></span><br><span class="line">router.get(<span class="string">&quot;/query&quot;</span>, <span class="function">(<span class="params">ctx, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(ctx.request.query);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£æparams</span></span><br><span class="line">router.get(<span class="string">&quot;/params/:id&quot;</span>, <span class="function">(<span class="params">ctx, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(ctx.request.params);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£æurlencoded</span></span><br><span class="line">router.post(<span class="string">&quot;/urlencoded&quot;</span>, <span class="function">(<span class="params">ctx, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(ctx.request.body);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£æjson</span></span><br><span class="line">router.post(<span class="string">&quot;/json&quot;</span>, <span class="function">(<span class="params">ctx, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(ctx.request.body);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8080</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;start&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ koa-bodyparser ä¸­é—´ä»¶éœ€è¦æœ€å…ˆè¢«ä½¿ç”¨</p>
<h3 id="å¼‚æ­¥å¤„ç†"><a href="#å¼‚æ­¥å¤„ç†" class="headerlink" title="å¼‚æ­¥å¤„ç†"></a>å¼‚æ­¥å¤„ç†</h3><p>é‡æ–°å›åˆ° express ä¸­çš„ demo å¦‚æœæƒ³åœ¨ koa ä¸­å¤„ç†å¼‚æ­¥æ“ä½œå°±å˜çš„éå¸¸ç®€å•äº†</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&quot;koa&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">&quot;axios&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> middlewareA = <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">  ctx.msg = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  ctx.msg += <span class="string">&quot;A&quot;</span>;</span><br><span class="line">  <span class="keyword">await</span> next();</span><br><span class="line">  ctx.body = ctx.msg;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> middlewareB = <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">  ctx.msg += <span class="string">&quot;B&quot;</span>;</span><br><span class="line">  <span class="keyword">await</span> next();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> middlewareC = <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">await</span> axios.get(<span class="string">&quot;https://koa.bootcss.com/&quot;</span>);</span><br><span class="line">  ctx.msg += res.data;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">app.use(middlewareA);</span><br><span class="line">app.use(middlewareB);</span><br><span class="line">app.use(middlewareC);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8080</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;Koa&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="æ´‹è‘±æ¨¡å‹"><a href="#æ´‹è‘±æ¨¡å‹" class="headerlink" title="æ´‹è‘±æ¨¡å‹"></a>æ´‹è‘±æ¨¡å‹</h3><p>æ´‹è‘±æ¨¡å‹å…¶å®ä¸æ˜¯ä»€ä¹ˆé«˜å¤§å°šçš„æ¦‚å¿µ é€šè¿‡ä¸‹å›¾æˆ‘ä»¬ä¸éš¾å‘ç°</p>
<p>æ‰€æœ‰ä¸­é—´ä»¶éƒ½ä¼šè¢« request è®¿é—®ä¸¤æ¬¡ å°±åƒå‰¥æ´‹è‘±ä¸€æ · è¿™å°±æ˜¯æ´‹è‘±æ¨¡å‹</p>
<img src="https://gitee.com/LuckyChou/blog-images/raw/master/node/middleware.png" />

<h2 id="express-å¯¹æ¯”-koa"><a href="#express-å¯¹æ¯”-koa" class="headerlink" title="express å¯¹æ¯” koa"></a>express å¯¹æ¯” koa</h2><ul>
<li><p>express æ˜¯å®Œæ•´å’Œå¼ºå¤§çš„ï¼Œå…¶ä¸­å¸®åŠ©æˆ‘ä»¬å†…ç½®äº†éå¸¸å¤šå¥½ç”¨çš„åŠŸèƒ½;</p>
</li>
<li><p>koa æ˜¯ç®€æ´å’Œè‡ªç”±çš„ï¼Œå®ƒåªåŒ…å«æœ€æ ¸å¿ƒçš„åŠŸèƒ½ï¼Œå¹¶ä¸ä¼šå¯¹æˆ‘ä»¬ä½¿ç”¨å…¶ä»–ä¸­é—´ä»¶è¿›è¡Œä»»ä½•çš„é™åˆ¶ã€‚ ç”šè‡³æ˜¯åœ¨ app ä¸­è¿æœ€åŸºæœ¬çš„ getã€post éƒ½æ²¡æœ‰ç»™æˆ‘ä»¬æä¾›;æˆ‘ä»¬éœ€è¦é€šè¿‡è‡ªå·±æˆ–è€…è·¯ç”±æ¥åˆ¤æ–­è¯·æ±‚æ–¹å¼æˆ–è€…å…¶ä»–åŠŸèƒ½</p>
</li>
<li><p>koa ä¸­é—´ä»¶æ”¯æŒ async await</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Node</category>
      </categories>
      <tags>
        <tag>Node</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„-é¡ºåºè¡¨</title>
    <url>/Data-Structure/%E9%A1%BA%E5%BA%8F%E8%A1%A8/</url>
    <content><![CDATA[<h2 id="åŠŸèƒ½"><a href="#åŠŸèƒ½" class="headerlink" title="åŠŸèƒ½"></a>åŠŸèƒ½</h2><ul>
<li><p>åˆ›å»ºé¡ºåºè¡¨</p>
</li>
<li><p>åˆå§‹åŒ–</p>
</li>
<li><p>æ·»åŠ å…ƒç´ </p>
</li>
<li><p>åˆ é™¤å…ƒç´ </p>
</li>
<li><p>æŒ‰ä½æŸ¥æ‰¾</p>
</li>
<li><p>æŒ‰å€¼æŸ¥æ‰¾</p>
</li>
<li><p>é”€æ¯é¡ºåºè¡¨</p>
</li>
</ul>
<a id="more"></a>

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MaxSize 10<span class="comment">//å®šä¹‰æœ€å¤§çš„é•¿åº¦</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ElemType;<span class="comment">//</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    ElemType data[MaxSize];<span class="comment">//åˆå§‹åŒ–ä¸€ä¸ªé™æ€æ•°ç»„æ¥å­˜æ”¾å…ƒç´ </span></span><br><span class="line">    <span class="keyword">int</span> length;<span class="comment">//è®°å½•é¡ºåºè¡¨çš„é•¿åº¦</span></span><br><span class="line">&#125; SqList;<span class="comment">//å°†é¡ºåºè¡¨ç»“æ„é‡å‘½åä¸ºSqList</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InitList</span><span class="params">(SqList &amp;L)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; MaxSize; ++i) &#123;</span><br><span class="line">        L.data[i] = <span class="number">0</span>;<span class="comment">//å°†æ‰€æœ‰å…ƒç´ èµ‹å€¼ä¸º0</span></span><br><span class="line">    &#125;</span><br><span class="line">    L.length = <span class="number">0</span>;<span class="comment">//å°†é¡ºåºè¡¨çš„åˆå§‹é•¿åº¦è®¾ç½®ä¸º0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¢åŠ å…ƒç´  åœ¨ä½åºçš„içš„åœ°æ–¹æ’å…¥å…ƒç´ e</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ListInsert</span><span class="params">(SqList &amp;L, <span class="keyword">int</span> i, ElemType e)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//æ•°æ®åˆç†æ€§åˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">1</span> || i &gt; L.length + <span class="number">1</span> || L.length &gt; MaxSize)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = L.length; j &gt; i - <span class="number">1</span>; j--) &#123;</span><br><span class="line">        L.data[j] = L.data[j - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    L.data[i - <span class="number">1</span>] = e;<span class="comment">//å°†ä½åºä¸ºiå¤„æ”¾å…¥e</span></span><br><span class="line">    L.length++;<span class="comment">//é¡ºåºè¡¨é•¿åº¦åŠ 1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ é™¤å…ƒç´  åˆ é™¤ä½åºä¸ºiçš„å…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ListDelete</span><span class="params">(SqList &amp;L, <span class="keyword">int</span> i, ElemType &amp;e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &gt; L.length + <span class="number">1</span> || i &lt; <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    e = L.data[i - <span class="number">1</span>];<span class="comment">//è¿”å›è¢«åˆ é™¤çš„å…ƒç´ </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; L.length; j++) &#123;</span><br><span class="line">        L.data[j - <span class="number">1</span>] = L.data[j];</span><br><span class="line">    &#125;</span><br><span class="line">    L.length--;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æŒ‰ä½æŸ¥æ‰¾</span></span><br><span class="line"><span class="function">ElemType <span class="title">GetElem</span><span class="params">(SqList &amp;L, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> L.data[i - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŒ‰å€¼æŸ¥æ‰¾</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">LocateElem</span><span class="params">(SqList &amp;L, ElemType e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (L.data[i] == e)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é”€æ¯é¡ºåºè¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DestroyList</span><span class="params">(SqList &amp;L)</span> </span>&#123;</span><br><span class="line">    L.length = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L.length; ++i) &#123;</span><br><span class="line">        L.data[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰“å°é¡ºåºè¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintList</span><span class="params">(SqList &amp;L)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L.length; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i % <span class="number">5</span> == <span class="number">0</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%5d&quot;</span>, L.data[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    SqList L;</span><br><span class="line">    initList(L);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        ListInsert(L, i, i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æµ‹è¯•......</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Date Structure</category>
      </categories>
      <tags>
        <tag>Date Structure</tag>
      </tags>
  </entry>
  <entry>
    <title>Node æ¨¡å—åŒ–</title>
    <url>/FE/Node/modularization/</url>
    <content><![CDATA[<p>nodeæ¨¡å—åŒ–é‡‡ç”¨commonjsçš„æ–¹å¼ å³ require / module.export çš„å½¢å¼</p>
<h2 id="module-export-export-ï¼Ÿ"><a href="#module-export-export-ï¼Ÿ" class="headerlink" title="module.export === export ï¼Ÿ"></a>module.export === export ï¼Ÿ</h2><p>æˆ‘ä»¬ç›´æ¥è¾“å‡º module.exports === exports</p>
<p>ä¼šå‘ç°ä¸¤è€…æ˜¯ç›¸ç­‰çš„ æ‰€ä»¥exportså®é™…ä¸Šæ˜¯module.exportsçš„å¼•ç”¨</p>
<p>è€Œrequireå¼•ç”¨çš„æ°¸è¿œæ˜¯module.exports</p>
<p>ä¹Ÿå°±æ˜¯è¯´å¯¹äºexportsåªèƒ½ä½¿ç”¨exports.xxx = xxx çš„å½¢å¼èµ‹å€¼</p>
<p>å› ä¸ºä¸€æ—¦ä¿®æ”¹äº†exportsçš„æŒ‡å‘ é‚£ä¹ˆå®ƒæœ€ç»ˆå°†ä¸ä¼šè¢«requireå¼•ç”¨</p>
<p>è€Œmodule.exportsæ—¢å¯ä»¥ä½¿ç”¨module.exports.xxx = xxx</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨module.exports = xxx</p>
<a id="more"></a>

<h2 id="å¾ªç¯å¼•ç”¨"><a href="#å¾ªç¯å¼•ç”¨" class="headerlink" title="å¾ªç¯å¼•ç”¨"></a>å¾ªç¯å¼•ç”¨</h2><p>TODO</p>
<h2 id="æ¨¡å—å¯¼å…¥"><a href="#æ¨¡å—å¯¼å…¥" class="headerlink" title="æ¨¡å—å¯¼å…¥"></a>æ¨¡å—å¯¼å…¥</h2><h3 id="æœ‰åç¼€å"><a href="#æœ‰åç¼€å" class="headerlink" title="æœ‰åç¼€å"></a>æœ‰åç¼€å</h3><h3 id="æ— åç¼€å"><a href="#æ— åç¼€å" class="headerlink" title="æ— åç¼€å"></a>æ— åç¼€å</h3><p>æŒ‰å¦‚ä¸‹å¾ªåºæŸ¥æ‰¾</p>
<ul>
<li><p>æŠŠxå½“ä½œæ–‡ä»¶</p>
<ul>
<li><p>x</p>
</li>
<li><p>x.js</p>
</li>
<li><p>x.json</p>
</li>
<li><p>x.node</p>
</li>
</ul>
</li>
<li><p>æŠŠxå½“ä½œæ–‡ä»¶å¤¹</p>
<ul>
<li><p>x/index.js</p>
</li>
<li><p>x/index.json</p>
</li>
<li><p>x/index.node</p>
</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Node</category>
      </categories>
      <tags>
        <tag>Node</tag>
      </tags>
  </entry>
  <entry>
    <title>åº”çŸ¥åº”ä¼š CSS</title>
    <url>/FE/Interview/CSS/</url>
    <content><![CDATA[<h2 id="1-display-none-ä¸-visibility-hidden-çš„åŒºåˆ«"><a href="#1-display-none-ä¸-visibility-hidden-çš„åŒºåˆ«" class="headerlink" title="1.display: none;ä¸ visibility: hidden;çš„åŒºåˆ«"></a>1.display: none;ä¸ visibility: hidden;çš„åŒºåˆ«</h2><ul>
<li><p>è”ç³»ï¼šå®ƒä»¬éƒ½èƒ½è®©å…ƒç´ ä¸å¯è§</p>
</li>
<li><p>åŒºåˆ«ï¼š</p>
<ul>
<li><p>display:none;ä¼šè®©å…ƒç´ å®Œå…¨ä»æ¸²æŸ“æ ‘ä¸­æ¶ˆå¤±ï¼Œæ¸²æŸ“çš„æ—¶å€™ä¸å æ®ä»»ä½•ç©ºé—´ï¼›</p>
</li>
<li><p>visibility: hidden;ä¸ä¼šè®©å…ƒç´ ä»æ¸²æŸ“æ ‘æ¶ˆå¤±ï¼Œæ¸²æŸ“å¸ˆå…ƒç´ ç»§ç»­å æ®ç©ºé—´ï¼Œåªæ˜¯å†…å®¹ä¸å¯è§</p>
</li>
<li><p>display: none;æ˜¯éç»§æ‰¿å±æ€§ï¼Œå­å­™èŠ‚ç‚¹æ¶ˆå¤±ç”±äºå…ƒç´ ä»æ¸²æŸ“æ ‘æ¶ˆå¤±é€ æˆï¼Œé€šè¿‡ä¿®æ”¹å­å­™èŠ‚ç‚¹å±æ€§æ— æ³•æ˜¾ç¤ºï¼›</p>
</li>
<li><p>visibility: hidden;æ˜¯ç»§æ‰¿å±æ€§ï¼Œå­å­™èŠ‚ç‚¹æ¶ˆå¤±ç”±äºç»§æ‰¿äº† hiddenï¼Œé€šè¿‡è®¾ç½® visibility: visible;å¯ä»¥è®©å­å­™èŠ‚ç‚¹æ˜¾å¼</p>
</li>
<li><p>ä¿®æ”¹å¸¸è§„æµä¸­å…ƒç´ çš„ display é€šå¸¸ä¼šé€ æˆæ–‡æ¡£é‡æ’ã€‚ä¿®æ”¹ visibility å±æ€§åªä¼šé€ æˆæœ¬å…ƒç´ çš„é‡ç»˜ã€‚</p>
</li>
<li><p>è¯»å±å™¨ä¸ä¼šè¯»å– display: none;å…ƒç´ å†…å®¹ï¼›ä¼šè¯»å– visibility: hidden;å…ƒç´ å†…å®¹</p>
</li>
</ul>
</li>
</ul>
<a id="more"></a>

<h2 id="2-BFC"><a href="#2-BFC" class="headerlink" title="2.BFC"></a>2.BFC</h2><p>å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼ˆBlock Formatting Contextï¼ŒBFCï¼‰æ˜¯ Web é¡µé¢çš„å¯è§†åŒ– CSS æ¸²æŸ“çš„ä¸€éƒ¨åˆ†ï¼Œ</p>
<p>æ˜¯å¸ƒå±€è¿‡ç¨‹ä¸­ç”Ÿæˆå—çº§ç›’å­çš„åŒºåŸŸï¼Œä¹Ÿæ˜¯æµ®åŠ¨å…ƒç´ ä¸å…¶ä»–å…ƒç´ çš„äº¤äº’é™å®šåŒºåŸŸã€‚</p>
<p>é€šä¿—æ¥è®²</p>
<ul>
<li><p>BFC æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¸ƒå±€ç¯å¢ƒï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå®¹å™¨ï¼Œåœ¨è¿™ä¸ªå®¹å™¨ä¸­æŒ‰ç…§ä¸€å®šè§„åˆ™è¿›è¡Œç‰©å“æ‘†æ”¾ï¼Œå¹¶ä¸”ä¸ä¼šå½±å“å…¶å®ƒç¯å¢ƒä¸­çš„ç‰©å“ã€‚</p>
</li>
<li><p>å¦‚æœä¸€ä¸ªå…ƒç´ ç¬¦åˆè§¦å‘ BFC çš„æ¡ä»¶ï¼Œåˆ™ BFC ä¸­çš„å…ƒç´ å¸ƒå±€ä¸å—å¤–éƒ¨å½±å“ã€‚</p>
</li>
</ul>
<p>åˆ›å»º BFC</p>
<p>ï¼ˆ1ï¼‰æ ¹å…ƒç´ æˆ–åŒ…å«æ ¹å…ƒç´ çš„å…ƒç´ </p>
<p>ï¼ˆ2ï¼‰æµ®åŠ¨å…ƒç´  float ï¼ left|right æˆ– inheritï¼ˆâ‰ noneï¼‰</p>
<p>ï¼ˆ3ï¼‰ç»å¯¹å®šä½å…ƒç´  position ï¼ absolute æˆ– fixed</p>
<p>ï¼ˆ4ï¼‰display ï¼ inline-block|flex|inline-flex|table-cell æˆ– table-caption</p>
<p>ï¼ˆ5ï¼‰overflow ï¼ hidden|auto æˆ– scroll(â‰ visible)</p>
<p>BFC æŒ‡çš„æ˜¯å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œä¸€ä¸ªå…ƒç´ å½¢æˆäº† BFC ä¹‹åï¼Œé‚£ä¹ˆå®ƒå†…éƒ¨å…ƒç´ äº§ç”Ÿçš„å¸ƒå±€ä¸ä¼šå½±å“åˆ°å¤–éƒ¨å…ƒç´ ï¼Œ</p>
<p>å¤–éƒ¨å…ƒç´ çš„å¸ƒå±€ä¹Ÿä¸ä¼šå½±å“åˆ° BFC ä¸­çš„å†…éƒ¨å…ƒç´ ã€‚ä¸€ä¸ª BFC å°±åƒæ˜¯ä¸€ä¸ªéš”ç¦»åŒºåŸŸï¼Œå’Œå…¶ä»–åŒºåŸŸäº’ä¸å½±å“ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´æ ¹å…ƒç´ æ˜¯ä¸€ä¸ª BFC åŒºåŸŸï¼Œæµ®åŠ¨å’Œç»å¯¹å®šä½çš„å…ƒç´ ä¹Ÿä¼šå½¢æˆ BFCï¼Œdisplay å±æ€§çš„å€¼ä¸º inline-blockã€flex</p>
<p>è¿™äº›å±æ€§æ—¶ä¹Ÿä¼šåˆ›å»º BFCã€‚è¿˜æœ‰å°±æ˜¯å…ƒç´ çš„ overflow çš„å€¼ä¸ä¸º visible æ—¶éƒ½ä¼šåˆ›å»º BFCã€‚</p>
<h3 id="3-BFC-å¸ƒå±€ä¸æ™®é€šæ–‡æ¡£æµå¸ƒå±€çš„åŒºåˆ«"><a href="#3-BFC-å¸ƒå±€ä¸æ™®é€šæ–‡æ¡£æµå¸ƒå±€çš„åŒºåˆ«" class="headerlink" title="3.BFC å¸ƒå±€ä¸æ™®é€šæ–‡æ¡£æµå¸ƒå±€çš„åŒºåˆ«"></a>3.BFC å¸ƒå±€ä¸æ™®é€šæ–‡æ¡£æµå¸ƒå±€çš„åŒºåˆ«</h3><p>æ™®é€šæ–‡æ¡£æµå¸ƒå±€</p>
<ul>
<li><p>æµ®åŠ¨çš„å…ƒç´ æ˜¯ä¸ä¼šè¢«çˆ¶å…ƒç´ è®¡ç®—é«˜åº¦</p>
</li>
<li><p>ç›¸é‚»ä¸¤ä¸ªå…ƒç´ çš„ margin ä¼šé‡å </p>
</li>
<li><p>margin ä¼šä¼ é€’ç»™çˆ¶å…ƒç´ </p>
</li>
<li><p>éæµ®åŠ¨å…ƒç´ ä¼šè¦†ç›–æµ®åŠ¨å…ƒç´ çš„ä½ç½®</p>
</li>
</ul>
<h3 id="4-æ¸…é™¤æµ®åŠ¨"><a href="#4-æ¸…é™¤æµ®åŠ¨" class="headerlink" title="4.æ¸…é™¤æµ®åŠ¨"></a>4.æ¸…é™¤æµ®åŠ¨</h3><p>æ¯”è¾ƒå¥½çš„æ–¹æ³•æœ‰</p>
<ul>
<li>ç»™çˆ¶çº§å…ƒç´ æ·»åŠ  class</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.clearFix</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>; <span class="comment">/*è®¾ç½®å†…å®¹ä¸ºç©º*/</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>; <span class="comment">/*é«˜åº¦ä¸º0*/</span></span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">0</span>; <span class="comment">/*è¡Œé«˜ä¸º0*/</span></span><br><span class="line">  <span class="attribute">display</span>: block; <span class="comment">/*å°†æ–‡æœ¬è½¬ä¸ºå—çº§å…ƒç´ */</span></span><br><span class="line">  <span class="attribute">visibility</span>: hidden; <span class="comment">/*å°†å…ƒç´ éšè—*/</span></span><br><span class="line">  <span class="attribute">clear</span>: both; <span class="comment">/*æ¸…é™¤æµ®åŠ¨*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearFix</span> &#123;</span><br><span class="line">  <span class="attribute">zoom</span>: <span class="number">1</span>; <span class="comment">/*ä¸ºäº†å…¼å®¹IE*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>çˆ¶çº§å…ƒç´ è®¾ç½® overflow:hidden;è§¦å‘ BFC</p>
</li>
<li><p>çˆ¶å…ƒç´ å†…ç»“å°¾å¤„æ·»åŠ  div æ ‡ç­¾å¹¶è®¾ç½® class ä¸º clear:both</p>
</li>
</ul>
<h3 id="5-CSS-æƒé‡"><a href="#5-CSS-æƒé‡" class="headerlink" title="5.CSS æƒé‡"></a>5.CSS æƒé‡</h3><p>!important &gt; å†…è”å¼ &gt; id &gt; class &gt; tag</p>
<h3 id="6-display-inline-block"><a href="#6-display-inline-block" class="headerlink" title="6.display:inline-block"></a>6.display:inline-block</h3><p>å¤šä¸ªå…ƒç´ è®¾ç½®ä¸º inline-block æ˜¾ç¤ºåœ¨ä¸€è¡Œæ—¶ å…ƒç´ ä¹‹é—´ä¼šæœ‰é—´éš™</p>
<p>è§£å†³</p>
<ul>
<li><p>å»æ‰æ‰€æœ‰çš„æ¢è¡Œå’Œç©ºæ ¼</p>
</li>
<li><p>ä½¿ç”¨ margin ä¸ºè´Ÿå€¼</p>
</li>
</ul>
<h2 id="7-postcss-çš„ä½¿ç”¨"><a href="#7-postcss-çš„ä½¿ç”¨" class="headerlink" title="7.postcss çš„ä½¿ç”¨"></a>7.postcss çš„ä½¿ç”¨</h2><ul>
<li><p>PostCSS æä¾›äº†ä¸€ä¸ªè§£æå™¨ï¼Œå®ƒèƒ½å¤Ÿå°† CSS è§£ææˆæŠ½è±¡è¯­æ³•æ ‘</p>
</li>
<li><p>é€šè¿‡åœ¨ PostCSS è¿™ä¸ªå¹³å°ä¸Šï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¼€å‘ä¸€äº›æ’ä»¶ï¼Œæ¥å¤„ç†æˆ‘ä»¬çš„ CSSï¼Œæ¯”å¦‚çƒ­é—¨çš„ï¼šautoprefixer</p>
</li>
</ul>
<h2 id="8-base64-çš„ä½¿ç”¨"><a href="#8-base64-çš„ä½¿ç”¨" class="headerlink" title="8.base64 çš„ä½¿ç”¨"></a>8.base64 çš„ä½¿ç”¨</h2><ul>
<li><p>ç”¨äºå‡å°‘ HTTP è¯·æ±‚</p>
</li>
<li><p>é€‚ç”¨äºå°å›¾ç‰‡</p>
</li>
<li><p>base64 çš„ä½“ç§¯çº¦ä¸ºåŸå›¾çš„ 4/3</p>
</li>
</ul>
<h2 id="9-å¤–è¾¹è·é‡å "><a href="#9-å¤–è¾¹è·é‡å " class="headerlink" title="9.å¤–è¾¹è·é‡å "></a>9.å¤–è¾¹è·é‡å </h2><ul>
<li><p>ä¸¤ä¸ªç›¸é‚»çš„å¤–è¾¹è·éƒ½æ˜¯æ­£æ•°æ—¶ï¼ŒæŠ˜å ç»“æœæ˜¯å®ƒä»¬ä¸¤è€…ä¹‹é—´è¾ƒå¤§çš„å€¼ã€‚</p>
</li>
<li><p>ä¸¤ä¸ªç›¸é‚»çš„å¤–è¾¹è·éƒ½æ˜¯è´Ÿæ•°æ—¶ï¼ŒæŠ˜å ç»“æœæ˜¯ä¸¤è€…ç»å¯¹å€¼çš„è¾ƒå¤§å€¼ã€‚</p>
</li>
<li><p>ä¸¤ä¸ªå¤–è¾¹è·ä¸€æ­£ä¸€è´Ÿæ—¶ï¼ŒæŠ˜å ç»“æœæ˜¯ä¸¤è€…çš„ç›¸åŠ çš„å’Œã€‚</p>
</li>
</ul>
<h2 id="10-IFB"><a href="#10-IFB" class="headerlink" title="10.IFB"></a>10.IFB</h2><p>IFC æŒ‡çš„æ˜¯è¡Œçº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œå®ƒæœ‰è¿™æ ·çš„ä¸€äº›å¸ƒå±€è§„åˆ™ï¼š</p>
<p>ï¼ˆ1ï¼‰è¡Œçº§ä¸Šä¸‹æ–‡å†…éƒ¨çš„ç›’å­ä¼šåœ¨æ°´å¹³æ–¹å‘ï¼Œä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ”¾ç½®ã€‚</p>
<p>ï¼ˆ2ï¼‰å½“ä¸€è¡Œä¸å¤Ÿçš„æ—¶å€™ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°ä¸‹ä¸€è¡Œã€‚</p>
<p>ï¼ˆ3ï¼‰è¡Œçº§ä¸Šä¸‹æ–‡çš„é«˜åº¦ç”±å†…éƒ¨æœ€é«˜çš„å†…è”ç›’å­çš„é«˜åº¦å†³å®šã€‚</p>
<h2 id="11-åª’ä½“æŸ¥è¯¢"><a href="#11-åª’ä½“æŸ¥è¯¢" class="headerlink" title="11.åª’ä½“æŸ¥è¯¢"></a>11.åª’ä½“æŸ¥è¯¢</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">width:</span> <span class="number">600px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">body</span> &#123;</span><br><span class="line">        <span class="attribute">color</span>: red;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="12-å¦‚ä½•å®ç°å•è¡Œï¼å¤šè¡Œæ–‡æœ¬æº¢å‡ºçš„çœç•¥ï¼ˆâ€¦ï¼‰"><a href="#12-å¦‚ä½•å®ç°å•è¡Œï¼å¤šè¡Œæ–‡æœ¬æº¢å‡ºçš„çœç•¥ï¼ˆâ€¦ï¼‰" class="headerlink" title="12.å¦‚ä½•å®ç°å•è¡Œï¼å¤šè¡Œæ–‡æœ¬æº¢å‡ºçš„çœç•¥ï¼ˆâ€¦ï¼‰"></a>12.å¦‚ä½•å®ç°å•è¡Œï¼å¤šè¡Œæ–‡æœ¬æº¢å‡ºçš„çœç•¥ï¼ˆâ€¦ï¼‰</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*å•è¡Œæ–‡æœ¬æº¢å‡º*/</span></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="13-CSS-ä¸­å“ªäº›å±æ€§å¯ä»¥ç»§æ‰¿"><a href="#13-CSS-ä¸­å“ªäº›å±æ€§å¯ä»¥ç»§æ‰¿" class="headerlink" title="13.CSS ä¸­å“ªäº›å±æ€§å¯ä»¥ç»§æ‰¿"></a>13.CSS ä¸­å“ªäº›å±æ€§å¯ä»¥ç»§æ‰¿</h2><p>æ¯ä¸ª CSS å±æ€§å®šä¹‰çš„æ¦‚è¿°éƒ½æŒ‡å‡ºäº†è¿™ä¸ªå±æ€§æ˜¯é»˜è®¤ç»§æ‰¿çš„ï¼Œè¿˜æ˜¯é»˜è®¤ä¸ç»§æ‰¿çš„ã€‚è¿™å†³å®šäº†å½“ä½ æ²¡æœ‰ä¸ºå…ƒç´ çš„å±æ€§æŒ‡å®šå€¼æ—¶è¯¥å¦‚ä½•è®¡ç®—å€¼ã€‚</p>
<p>å½“å…ƒç´ çš„ä¸€ä¸ªç»§æ‰¿å±æ€§æ²¡æœ‰æŒ‡å®šå€¼æ—¶ï¼Œåˆ™å–çˆ¶å…ƒç´ çš„åŒå±æ€§çš„è®¡ç®—å€¼ã€‚åªæœ‰æ–‡æ¡£æ ¹å…ƒç´ å–è¯¥å±æ€§çš„æ¦‚è¿°ä¸­ç»™å®šçš„åˆå§‹å€¼ï¼ˆè¿™é‡Œçš„æ„æ€åº” è¯¥æ˜¯åœ¨è¯¥å±æ€§æœ¬èº«çš„å®šä¹‰ä¸­çš„é»˜è®¤å€¼ï¼‰ã€‚</p>
<p>å½“å…ƒç´ çš„ä¸€ä¸ªéç»§æ‰¿å±æ€§ï¼ˆåœ¨ Mozilla code é‡Œæœ‰æ—¶ç§°ä¹‹ä¸º reset propertyï¼‰æ²¡æœ‰æŒ‡å®šå€¼æ—¶ï¼Œåˆ™å–å±æ€§çš„åˆå§‹å€¼ initial v alueï¼ˆè¯¥å€¼åœ¨è¯¥å±æ€§çš„æ¦‚è¿°é‡Œè¢«æŒ‡å®šï¼‰ã€‚</p>
<p>æœ‰ç»§æ‰¿æ€§çš„å±æ€§ï¼š</p>
<p>ï¼ˆ1ï¼‰å­—ä½“ç³»åˆ—å±æ€§ fontã€font-familyã€font-weightã€font-sizeã€font-styleã€font-variantã€font-stretchã€font-size-adjust</p>
<p>ï¼ˆ2ï¼‰æ–‡æœ¬ç³»åˆ—å±æ€§ text-indentã€text-alignã€text-shadowã€line-heightã€word-spacingã€letter-spacingã€ text-transformã€directionã€color</p>
<p>ï¼ˆ3ï¼‰è¡¨æ ¼å¸ƒå±€å±æ€§ caption-side border-collapse empty-cells</p>
<p>ï¼ˆ4ï¼‰åˆ—è¡¨å±æ€§ list-style-typeã€list-style-imageã€list-style-positionã€list-style</p>
<p>ï¼ˆ5ï¼‰å…‰æ ‡å±æ€§ cursor</p>
<p>ï¼ˆ6ï¼‰å…ƒç´ å¯è§æ€§ visibility</p>
<p>ï¼ˆ7ï¼‰è¿˜æœ‰ä¸€äº›ä¸å¸¸ç”¨çš„ï¼›speakï¼Œpageï¼Œè®¾ç½®åµŒå¥—å¼•ç”¨çš„å¼•å·ç±»å‹ quotes ç­‰å±æ€§</p>
<p>æ³¨æ„ï¼šå½“ä¸€ä¸ªå±æ€§ä¸æ˜¯ç»§æ‰¿å±æ€§æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ inherit å…³é”®å­—æŒ‡å®šä¸€ä¸ªå±æ€§åº”ä»çˆ¶å…ƒç´ ç»§æ‰¿å®ƒçš„å€¼ï¼Œinherit å…³é”®å­—ç”¨äºæ˜¾å¼åœ° æŒ‡å®šç»§æ‰¿æ€§ï¼Œå¯ç”¨äºä»»ä½•ç»§æ‰¿æ€§/éç»§æ‰¿æ€§å±æ€§ã€‚</p>
<p>æ¯ä¸€ä¸ªå±æ€§åœ¨å®šä¹‰ä¸­éƒ½ç»™å‡ºäº†è¿™ä¸ªå±æ€§æ˜¯å¦å…·æœ‰ç»§æ‰¿æ€§ï¼Œä¸€ä¸ªå…·æœ‰ç»§æ‰¿æ€§çš„å±æ€§ä¼šåœ¨æ²¡æœ‰æŒ‡å®šå€¼çš„æ—¶å€™ï¼Œä¼šä½¿ç”¨çˆ¶å…ƒç´ çš„åŒå±æ€§çš„å€¼ æ¥ä½œä¸ºè‡ªå·±çš„å€¼ã€‚</p>
<p>ä¸€èˆ¬å…·æœ‰ç»§æ‰¿æ€§çš„å±æ€§æœ‰ï¼Œå­—ä½“ç›¸å…³çš„å±æ€§ï¼Œfont-size å’Œ font-weight ç­‰ã€‚æ–‡æœ¬ç›¸å…³çš„å±æ€§ï¼Œcolor å’Œ text-align ç­‰ã€‚</p>
<p>è¡¨æ ¼çš„ä¸€äº›å¸ƒå±€å±æ€§ã€åˆ—è¡¨å±æ€§å¦‚ list-style ç­‰ã€‚è¿˜æœ‰å…‰æ ‡å±æ€§ cursorã€å…ƒç´ å¯è§æ€§ visibilityã€‚</p>
<p>ä¸€ä¸ªå±æ€§ä¸æ˜¯ç»§æ‰¿å±æ€§çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å°†å®ƒçš„å€¼è®¾ç½®ä¸º inherit æ¥ä½¿å®ƒä»çˆ¶å…ƒç´ é‚£è·å–åŒåçš„å±æ€§å€¼æ¥ç»§æ‰¿ã€‚</p>
<h2 id="14-before-å’Œ-after-ä¸­åŒå†’å·å’Œå•å†’å·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿè§£é‡Šä¸€ä¸‹è¿™-2-ä¸ªä¼ªå…ƒç´ çš„ä½œç”¨"><a href="#14-before-å’Œ-after-ä¸­åŒå†’å·å’Œå•å†’å·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿè§£é‡Šä¸€ä¸‹è¿™-2-ä¸ªä¼ªå…ƒç´ çš„ä½œç”¨" class="headerlink" title="14.::before å’Œ:after ä¸­åŒå†’å·å’Œå•å†’å·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿè§£é‡Šä¸€ä¸‹è¿™ 2 ä¸ªä¼ªå…ƒç´ çš„ä½œç”¨"></a>14.::before å’Œ:after ä¸­åŒå†’å·å’Œå•å†’å·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿè§£é‡Šä¸€ä¸‹è¿™ 2 ä¸ªä¼ªå…ƒç´ çš„ä½œç”¨</h2><p>å•å†’å·ï¼ˆ:ï¼‰ç”¨äº CSS3 ä¼ªç±»ï¼ŒåŒå†’å·ï¼ˆ::ï¼‰ç”¨äº CSS3 ä¼ªå…ƒç´ ã€‚ï¼ˆä¼ªå…ƒç´ ç”±åŒå†’å·å’Œä¼ªå…ƒç´ åç§°ç»„æˆï¼‰</p>
<p>åŒå†’å·æ˜¯åœ¨å½“å‰è§„èŒƒä¸­å¼•å…¥çš„ï¼Œç”¨äºåŒºåˆ†ä¼ªç±»å’Œä¼ªå…ƒç´ ã€‚ä¸è¿‡æµè§ˆå™¨éœ€è¦åŒæ—¶æ”¯æŒæ—§çš„å·²ç»å­˜åœ¨çš„ä¼ªå…ƒç´ å†™æ³•ï¼Œ</p>
<p>æ¯”å¦‚:first-lineã€:first-letterã€:beforeã€:after ç­‰ï¼Œè€Œæ–°çš„åœ¨ CSS3 ä¸­å¼•å…¥çš„ä¼ªå…ƒç´ åˆ™ä¸å…è®¸å†æ”¯æŒæ—§çš„å•å†’å·çš„å†™æ³•ã€‚</p>
<p>æƒ³è®©æ’å…¥çš„å†…å®¹å‡ºç°åœ¨å…¶å®ƒå†…å®¹å‰ï¼Œä½¿ç”¨::beforeï¼Œå¦è€…ï¼Œä½¿ç”¨::afterï¼›</p>
<p>åœ¨ä»£ç é¡ºåºä¸Šï¼Œ::after ç”Ÿæˆçš„å†…å®¹ä¹Ÿæ¯”::before ç”Ÿæˆçš„å†…å®¹é åã€‚å¦‚æœæŒ‰å †æ ˆè§†è§’ï¼Œ::after ç”Ÿæˆçš„å†…å®¹ä¼šåœ¨::before ç”Ÿæˆçš„å†…å®¹ä¹‹ä¸Šã€‚</p>
<p>å›ç­”ï¼š</p>
<p>åœ¨ css3 ä¸­ä½¿ç”¨å•å†’å·æ¥è¡¨ç¤ºä¼ªç±»ï¼Œç”¨åŒå†’å·æ¥è¡¨ç¤ºä¼ªå…ƒç´ ã€‚ä½†æ˜¯ä¸ºäº†å…¼å®¹å·²æœ‰çš„ä¼ªå…ƒç´ çš„å†™æ³•ï¼Œåœ¨ä¸€äº›æµè§ˆå™¨ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨å•å†’å·æ¥è¡¨ç¤ºä¼ªå…ƒç´ ã€‚</p>
<p>ä¼ªç±»ä¸€èˆ¬åŒ¹é…çš„æ˜¯å…ƒç´ çš„ä¸€äº›ç‰¹æ®ŠçŠ¶æ€ï¼Œå¦‚ hoverã€link ç­‰ï¼Œè€Œä¼ªå…ƒç´ ä¸€èˆ¬åŒ¹é…çš„ç‰¹æ®Šçš„ä½ç½®ï¼Œæ¯”å¦‚ afterã€before ç­‰ã€‚</p>
]]></content>
      <categories>
        <category>Interview</category>
      </categories>
      <tags>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•æ”¶å½•</title>
    <url>/FE/Interview/Interview/</url>
    <content><![CDATA[<h2 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h2><p>åŸå‹ prototype</p>
<p>ç»™å…¶ä»–å¯¹è±¡æä¾›å…±äº«å±æ€§çš„æ–¹æ³•</p>
<p>æ„é€ å‡½æ•°çš„ prototype æŒ‡å‘åŸå‹å¯¹è±¡ åŸå‹å¯¹è±¡çš„ constructor æŒ‡å‘æ„é€ å‡½æ•°</p>
<p>å®ä¾‹å¯¹è±¡çš„<code>__proto__</code>æŒ‡å‘åŸå‹å¯¹è±¡</p>
<p>åŸå‹å¯¹è±¡çš„<code>__proto__</code>æŒ‡å‘ Object çš„åŸå‹å¯¹è±¡</p>
<p>Object çš„åŸå‹å¯¹è±¡çš„<code>__proto__</code>æŒ‡å‘ null</p>
<p>Object çš„ prototype æŒ‡å‘ Object çš„åŸå‹å¯¹è±¡</p>
<p>Object çš„åŸå‹å¯¹è±¡çš„ constructor æŒ‡å‘ Object</p>
<p>è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ å°±ä¼šæ²¿ç€åŸå‹é“¾ä¸€å±‚ä¸€å±‚å¾€ä¸Šæ‰¾</p>
<p>è‹¥åˆ° Object.prototype è¿˜æœªæ‰¾åˆ° å°±è¿”å› undefined</p>
<img src="https://gitee.com/LuckyChou/blog-images/raw/master/js/prototypeChain.png" />

<a id="more"></a>

<h2 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h2><p>M Model æ•°æ®å±‚</p>
<p>V View è§†å›¾å±‚</p>
<p>VM View-Model ä¸šåŠ¡é€»è¾‘å±‚</p>
<h2 id="ä»è¾“å…¥-url-åˆ°é¡µé¢ç»å†äº†ä»€ä¹ˆ"><a href="#ä»è¾“å…¥-url-åˆ°é¡µé¢ç»å†äº†ä»€ä¹ˆ" class="headerlink" title="ä»è¾“å…¥ url åˆ°é¡µé¢ç»å†äº†ä»€ä¹ˆ"></a>ä»è¾“å…¥ url åˆ°é¡µé¢ç»å†äº†ä»€ä¹ˆ</h2><ul>
<li><p>DNS è§£æ å°†åŸŸåè§£ææˆ IP åœ°å€</p>
</li>
<li><p>TCP è¿æ¥ ä¸‰æ¬¡æ¡æ‰‹</p>
</li>
<li><p>å‘é€ HTTP è¯·æ±‚</p>
</li>
<li><p>æœåŠ¡å™¨å“åº” HTTP è¯·æ±‚å¹¶è¿”å›å“åº”æŠ¥æ–‡</p>
</li>
<li><p>æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢</p>
</li>
<li><p>æ–­å¼€è¿æ¥ TCP å››æ¬¡æŒ¥æ‰‹</p>
</li>
</ul>
<p>ä¸‰æ¬¡æ¡æ‰‹</p>
<p>æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨æˆ‘è¦å‘é€è¯·æ±‚äº† è¯·ä½ å‡†å¤‡å¥½</p>
<p>æœåŠ¡å™¨å“åº”æµè§ˆå™¨ æˆ‘å‡†å¤‡å¥½äº† ä½ å‘é€è¯·æ±‚å§</p>
<p>æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨æˆ‘é©¬ä¸Šå°±å‘é€äº† å‡†å¤‡æ¥å—å§</p>
<p>å››æ¬¡æŒ¥æ‰‹</p>
<p>æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ æˆ‘è¯·æ±‚æŠ¥æ–‡å‘é€å®Œæ¯•äº† ä½ å…³é—­å§</p>
<p>æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨ æˆ‘è¯·æ±‚æŠ¥æ–‡æ¥å—å®Œæ¯•äº† æˆ‘è¦å…³é—­äº†</p>
<p>æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨ æˆ‘å“åº”æŠ¥æ–‡å‘é€å®Œæ¯•äº† ä½ å…³é—­å§</p>
<p>æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ æˆ‘å“åº”æŠ¥æ–‡æ¥å—å®Œæ¯•äº† æˆ‘è¦å…³é—­äº†</p>
<h2 id="webpack-loader-å’Œ-plugin-çš„åŒºåˆ«"><a href="#webpack-loader-å’Œ-plugin-çš„åŒºåˆ«" class="headerlink" title="webpack loader å’Œ plugin çš„åŒºåˆ«"></a>webpack loader å’Œ plugin çš„åŒºåˆ«</h2><ul>
<li><p>Loader åªè´Ÿè´£å•çº¯çš„æ–‡ä»¶è½¬æ¢</p>
</li>
<li><p>Plugin ä¸°å¯Œäº† webpack çš„åŠŸèƒ½ æ¯”å¦‚å‹ç¼©ä»£ç </p>
</li>
</ul>
<h2 id="style-loader-å’Œ-css-loader-çš„åŠ è½½é¡ºåº"><a href="#style-loader-å’Œ-css-loader-çš„åŠ è½½é¡ºåº" class="headerlink" title="style-loader å’Œ css-loader çš„åŠ è½½é¡ºåº"></a>style-loader å’Œ css-loader çš„åŠ è½½é¡ºåº</h2><p>loader çš„åŠ è½½é¡ºåºæ˜¯ä»å³å¾€å·¦</p>
<p>è¿™é‡Œçš„ç¼–è¯‘é¡ºåºæ˜¯å…ˆç”¨ css-loader å°† css ä»£ç ç¼–è¯‘</p>
<p>å†äº¤ç»™ style-loader æ’å…¥åˆ°ç½‘é¡µé‡Œé¢å»</p>
<p>æ‰€ä»¥ css-loader åœ¨å³ï¼Œstyle-loader åœ¨å·¦</p>
<h2 id="Promise-çš„æ–¹æ³•"><a href="#Promise-çš„æ–¹æ³•" class="headerlink" title="Promise çš„æ–¹æ³•"></a>Promise çš„æ–¹æ³•</h2><ul>
<li><p>Promise.all å…¨éƒ¨éƒ½æˆåŠŸæ—¶</p>
</li>
<li><p>Promise.allSettled å…¨éƒ¨éƒ½ç»“æŸæ—¶</p>
</li>
<li><p>Promise.any æœ‰ä¸€ä¸ªè¿”å› fulfilled</p>
</li>
<li><p>Promise.race è¿”å›ç¬¬ä¸€ä¸ª fulfilled æˆ– rejected</p>
</li>
<li><p>Promise.reject</p>
</li>
<li><p>Promise.resolve</p>
</li>
</ul>
<h2 id="http-å¼ºç¼“å­˜-åå•†ç¼“å­˜"><a href="#http-å¼ºç¼“å­˜-åå•†ç¼“å­˜" class="headerlink" title="http å¼ºç¼“å­˜ åå•†ç¼“å­˜"></a>http å¼ºç¼“å­˜ åå•†ç¼“å­˜</h2><ul>
<li><p>å¼ºç¼“å­˜ Expires Cache-control</p>
</li>
<li><p>åå•†ç¼“å­˜ ETag last-modifed</p>
</li>
</ul>
<h3 id="Expires-vs-Cache-Control"><a href="#Expires-vs-Cache-Control" class="headerlink" title="Expires vs Cache-Control"></a>Expires vs Cache-Control</h3><p><strong>Expires</strong></p>
<p>Response header é‡Œçš„è¿‡æœŸæ—¶é—´ æµè§ˆå™¨å†æ¬¡åŠ è½½æ—¶ å¦‚æœåœ¨è¿™ä¸ªæ—¶é—´å†… å°±å‘½ä¸­å¼ºç¼“å­˜</p>
<p><strong>Cache-Control</strong></p>
<p>å½“è®¾ç½® max-age = 300 è¡¨ç¤º åœ¨æ¥ä¸‹æ¥çš„äº”åˆ†é’Ÿå†…å†æ¬¡è¯·æ±‚ å°±ä¼šå‘½ä¸­å¼ºç¼“å­˜</p>
<p>Expires æ˜¯ Http1.0 çš„äº§ç‰© Cache-Control æ˜¯ 1.1 çš„äº§ç‰©</p>
<p>ä¸¤è€…åŒæ—¶å­˜åœ¨çš„è¯ åè€…ä¼˜å…ˆçº§æ›´é«˜</p>
<p>Expires æ˜¯è¿‡æ—¶çš„äº§ç‰© åªæ˜¯ä¸ºäº†å…¼å®¹</p>
<p>å¯¹æ¯” Expires Cache-Control çš„æ—¶é—´æ®µ æ§åˆ¶èµ·æ¥æ›´åŠ å®¹æ˜“</p>
<h3 id="ETag-Last-Modified"><a href="#ETag-Last-Modified" class="headerlink" title="ETag Last-Modified"></a>ETag Last-Modified</h3><p><strong>ETag</strong></p>
<p>ä¸Šä¸€æ¬¡åŠ è½½èµ„æºæ—¶ response header çš„ä¸€ä¸ªå”¯ä¸€æ ‡è¯† ä¸€æ—¦èµ„æºæœ‰å˜åŒ– ETag å°±ä¼šé‡æ–°ç”Ÿæˆ</p>
<p>æµè§ˆå™¨ä¸‹ä¸€æ¬¡å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ ä¼šå°†ä¸Šä¸€æ¬¡ response header çš„ Etag æ”¾å…¥ request header çš„ If-None-Match ä¸­</p>
<p>æœåŠ¡å™¨ä¼šè¿›è¡Œå¯¹æ¯” å¦‚æœç›¸ç­‰ å°±å‘½ä¸­åå•†ç¼“å­˜</p>
<p><strong>Last-Modified</strong></p>
<p>æ˜¯è¯¥èµ„æºæ–‡ä»¶æœ€åä¸€æ¬¡ä¿®æ”¹çš„æ—¶é—´ ä¼šåœ¨ä¸Šä¸€æ¬¡ response header ä¸­è¿”å›</p>
<p>æµè§ˆå™¨ä¼šåœ¨ä¸‹ä¸€æ¬¡ request header ä¸­ æ”¾åœ¨ If- Modified-Since ä¸­å¸¦ä¸Š</p>
<p>æœåŠ¡å™¨ä¼šè¿›è¡Œå¯¹æ¯” å¦‚æœç›¸ç­‰ å°±å‘½ä¸­åå•†ç¼“å­˜</p>
<p>Etag æ¯”åè€…ä¼˜å…ˆçº§æ›´é«˜</p>
<p>ä½†æ˜¯æ€§èƒ½æ¯”ä¸ä¸Šåè€… å› ä¸ºæ¯æ¬¡å˜æ›´ Etag éƒ½è¦é‡æ–°ç”Ÿæˆ ä½†æ˜¯åè€…åªæ˜¯è®°å½•ä¸€ä¸ªæ—¶é—´</p>
<p>ç²¾åº¦ä¸Š Etag ä¹Ÿæ¯”åè€…æ›´å¥½</p>
<h2 id="New-å†…éƒ¨å®ç°äº†ä»€ä¹ˆ"><a href="#New-å†…éƒ¨å®ç°äº†ä»€ä¹ˆ" class="headerlink" title="New å†…éƒ¨å®ç°äº†ä»€ä¹ˆ"></a>New å†…éƒ¨å®ç°äº†ä»€ä¹ˆ</h2><p>åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡</p>
<p>æ„é€ å‡½æ•°å†…éƒ¨çš„ this æŒ‡å‘è¿™ä¸ªå¯¹è±¡</p>
<p>å°†è¿™ä¸ªå¯¹è±¡çš„ prototype æŒ‡å‘æ„é€ å‡½æ•°çš„ prototype è¿™æ ·è¿™ä¸ªå¯¹è±¡å°±æ‹¥æœ‰æ„é€ å‡½æ•°ä¸­çš„æ–¹æ³•</p>
<p>æ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„ä»£ç </p>
<h2 id="äº‹ä»¶å§”æ‰˜"><a href="#äº‹ä»¶å§”æ‰˜" class="headerlink" title="äº‹ä»¶å§”æ‰˜"></a>äº‹ä»¶å§”æ‰˜</h2><p>äº‹ä»¶çš„ä¸‰ä¸ªé˜¶æ®µ</p>
<p>æ•è· -&gt; ç›®æ ‡ -&gt; å†’æ³¡</p>
<p>äº‹ä»¶å§”æ‰˜å°±æ˜¯åˆ©ç”¨å†’æ³¡ å°†å­å…ƒç´ çš„äº‹ä»¶é€šè¿‡äº‹ä»¶å†’æ³¡åœ¨çˆ¶å…ƒç´ è§¦å‘äº‹ä»¶</p>
<p>å¯ä»¥é€šè¿‡ addEventListener çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ¥å†³å®šæ˜¯æ•è·è¿˜æ˜¯å†’æ³¡</p>
<p>true äº‹ä»¶æ•è·</p>
<p>false ï¼ˆé»˜è®¤ï¼‰äº‹ä»¶å†’æ³¡</p>
<p>é˜»æ­¢å†’æ³¡</p>
<p>stopPropagation</p>
<p>IE cancleBubble</p>
<h2 id="Vue-ç”Ÿå‘½å‘¨æœŸ"><a href="#Vue-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Vue ç”Ÿå‘½å‘¨æœŸ"></a>Vue ç”Ÿå‘½å‘¨æœŸ</h2><ul>
<li><p>beforeCreate</p>
</li>
<li><p>created æœ€æ—©è¿™é‡Œæœ‰ $data å¯ä»¥åœ¨è¿™é‡Œå‘é€ç½‘ç»œè¯·æ±‚</p>
</li>
<li><p>beforeMount</p>
</li>
<li><p>mounted æœ€æ—©è¿™é‡Œæœ‰ $el å¯ä»¥åœ¨è¿™é‡Œæ“ä½œ dom</p>
</li>
<li><p>beforeUpdate</p>
</li>
<li><p>updated</p>
</li>
<li><p>beforeDestroy</p>
</li>
<li><p>destroyed</p>
</li>
</ul>
<p>keep-alive ä¸“å±</p>
<ul>
<li><p>activated</p>
</li>
<li><p>deactivated</p>
</li>
</ul>
<h2 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h2><p>å†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å‡½æ•°çš„å˜é‡</p>
<p>å¯ä»¥å»¶é•¿å¤–éƒ¨å‡½æ•°å˜é‡çš„ä½œç”¨åŸŸ</p>
<h2 id="å•å‘æ•°æ®æµå’ŒåŒå‘æ•°æ®æµåœ¨ç¼–ç ä¸­çš„ä½“ç°"><a href="#å•å‘æ•°æ®æµå’ŒåŒå‘æ•°æ®æµåœ¨ç¼–ç ä¸­çš„ä½“ç°" class="headerlink" title="å•å‘æ•°æ®æµå’ŒåŒå‘æ•°æ®æµåœ¨ç¼–ç ä¸­çš„ä½“ç°"></a>å•å‘æ•°æ®æµå’ŒåŒå‘æ•°æ®æµåœ¨ç¼–ç ä¸­çš„ä½“ç°</h2><h3 id="å•å‘æ•°æ®æµ"><a href="#å•å‘æ•°æ®æµ" class="headerlink" title="å•å‘æ•°æ®æµ"></a>å•å‘æ•°æ®æµ</h3><p>ä»ç»„ä»¶è§’åº¦æ¥çœ‹ æ•°æ®ä»ç»„ä»¶æ ‘ç”±ä¸Šå¾€ä¸‹æµåŠ¨ å³åªä»çˆ¶ç»„ä»¶æµå‘å­ç»„ä»¶</p>
<p>è¿™æ ·çš„å¥½å¤„æ˜¯é˜²æ­¢å­ç»„ä»¶æ„å¤–çš„ä¿®æ”¹äº†çˆ¶ç»„ä»¶çš„çŠ¶æ€</p>
<p>å¯¹äº Vuex è¿™äº›çŠ¶æ€ç®¡ç†å·¥å…·æ¥è¯´</p>
<p>æ•°æ®æµçš„æµå‘ä¹Ÿæ˜¯å•å‘çš„</p>
<p>å³ç»„ä»¶å‘é€ dispatch/commit -&gt; store -&gt; view</p>
<p>æ€»çš„æ¥è¯´ å•å‘æ•°æ®æµçš„å¥½å¤„æ˜¯ä½¿çŠ¶æ€å˜å¾—å¯è®°å½• å¯è¿½è¸ª</p>
<h3 id="åŒå‘æ•°æ®ç»‘å®š"><a href="#åŒå‘æ•°æ®ç»‘å®š" class="headerlink" title="åŒå‘æ•°æ®ç»‘å®š"></a>åŒå‘æ•°æ®ç»‘å®š</h3><p>æŒ‡ view çš„æ”¹å˜ä¼šæ”¹å˜ modal</p>
<p>Modal çš„æ”¹å˜ä¼šæ”¹å˜ view</p>
<p>è¿™æ ·çš„å¥½å¤„æ˜¯çœäº‹æ–¹ä¾¿ çœå»äº†å¾ˆå¤šä¸šåŠ¡ä»£ç </p>
<p>ä½†æ˜¯ä¸€ä½†å‡ºé”™ ç´Šä¹±çš„æ•°æ®æµä¼šå˜å¾—éš¾ä»¥è¿½è¸ªå’Œå®šä½</p>
<h2 id="Vue-å®ç°æ•°æ®åŒå‘ç»‘å®šçš„åŸç†"><a href="#Vue-å®ç°æ•°æ®åŒå‘ç»‘å®šçš„åŸç†" class="headerlink" title="Vue å®ç°æ•°æ®åŒå‘ç»‘å®šçš„åŸç†"></a>Vue å®ç°æ•°æ®åŒå‘ç»‘å®šçš„åŸç†</h2><h3 id="Object-defineProperty"><a href="#Object-defineProperty" class="headerlink" title="Object.defineProperty"></a>Object.defineProperty</h3><p>Object.key å¯ä»¥è·å–å¯¹è±¡çš„æ‰€æœ‰å±æ€§</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Object</span>.defineProperty(obj, attr, &#123;</span><br><span class="line">  value ä¸èƒ½å’Œ set / get ä¸€èµ·ä½¿ç”¨</span><br><span class="line">  writable ä¿®æ”¹ é»˜è®¤ <span class="literal">false</span></span><br><span class="line">  enumerable æšä¸¾ é»˜è®¤ <span class="literal">false</span></span><br><span class="line">  onfigurable åˆ é™¤ é»˜è®¤ fslse</span><br><span class="line">  set</span><br><span class="line">  get</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Proxy</span>(obj, handler);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hander = &#123;</span><br><span class="line">  <span class="function"><span class="title">set</span>(<span class="params">obj, prop, value</span>)</span> &#123;</span><br><span class="line">    obj[prop] = value;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;prop&#125;</span>å±æ€§çš„setæ–¹æ³•æ‰§è¡Œäº†`</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">get</span>(<span class="params">obj, prop</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;prop&#125;</span>å±æ€§çš„getæ–¹æ³•æ‰§è¡Œäº†`</span>);</span><br><span class="line">    <span class="keyword">return</span> obj[prop];</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="å®ç°ç»§æ‰¿çš„å‡ ç§æ–¹å¼"><a href="#å®ç°ç»§æ‰¿çš„å‡ ç§æ–¹å¼" class="headerlink" title="å®ç°ç»§æ‰¿çš„å‡ ç§æ–¹å¼"></a>å®ç°ç»§æ‰¿çš„å‡ ç§æ–¹å¼</h2><details yellow><summary> <p>ç»§æ‰¿</p> </summary>
              <div class='content'>
              <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªçˆ¶ç±»</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Father</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å±æ€§</span></span><br><span class="line">  <span class="built_in">this</span>.name = name || <span class="string">&#x27;-&gt;father&#x27;</span>;</span><br><span class="line">  <span class="comment">// å®ä¾‹æ–¹æ³•</span></span><br><span class="line">  <span class="built_in">this</span>.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åŸå‹æ–¹æ³•</span></span><br><span class="line">Father.prototype.age = <span class="number">18</span>;</span><br><span class="line">Father.prototype.sayAge = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.age);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;----------åŸå‹é“¾ç»§æ‰¿----------&#x27;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name || <span class="string">&#x27;-&gt;son&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">Son.prototype = <span class="keyword">new</span> Father();</span><br><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> Son(<span class="string">&#x27;son&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s.name); <span class="comment">// son</span></span><br><span class="line">s.sayAge(); <span class="comment">// 18</span></span><br><span class="line">s.sayName(); <span class="comment">// son</span></span><br><span class="line"><span class="built_in">console</span>.log(s.age); <span class="comment">// 18</span></span><br><span class="line"><span class="built_in">console</span>.log(s <span class="keyword">instanceof</span> Father); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(s <span class="keyword">instanceof</span> Son); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;----------æ„é€ å‡½æ•°ç»§æ‰¿----------&#x27;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  Father.call(<span class="built_in">this</span>);</span><br><span class="line">  <span class="built_in">this</span>.name = name || <span class="string">&#x27;-&gt;son&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> Son(<span class="string">&#x27;son&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s.name); <span class="comment">// son</span></span><br><span class="line"><span class="comment">//s.sayAge(); // æŠ›å‡ºé”™è¯¯</span></span><br><span class="line">s.sayName(); <span class="comment">// son</span></span><br><span class="line"><span class="built_in">console</span>.log(s.age); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(s <span class="keyword">instanceof</span> Father); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(s <span class="keyword">instanceof</span> Son); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;----------å®ä¾‹ç»§æ‰¿----------&#x27;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> f = <span class="keyword">new</span> Father();</span><br><span class="line">  f.name = name || <span class="string">&#x27;-&gt;son&#x27;</span>;</span><br><span class="line">  <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> Son(<span class="string">&#x27;son&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s.name); <span class="comment">// son</span></span><br><span class="line">s.sayAge(); <span class="comment">// 18</span></span><br><span class="line">s.sayName(); <span class="comment">// son</span></span><br><span class="line"><span class="built_in">console</span>.log(s.age); <span class="comment">// 18</span></span><br><span class="line"><span class="built_in">console</span>.log(s <span class="keyword">instanceof</span> Father); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(s <span class="keyword">instanceof</span> Son); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;----------ç»„åˆç»§æ‰¿----------&#x27;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  Father.call(<span class="built_in">this</span>);</span><br><span class="line">  <span class="built_in">this</span>.name = name || <span class="string">&#x27;-&gt;son&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">Son.prototype = <span class="keyword">new</span> Father();</span><br><span class="line"><span class="comment">// ä¿®å¤æ„é€ å‡½æ•°æŒ‡å‘</span></span><br><span class="line">Son.prototype.constructor = Son;</span><br><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> Son(<span class="string">&#x27;son&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s.name); <span class="comment">// son</span></span><br><span class="line">s.sayAge(); <span class="comment">// 18</span></span><br><span class="line">s.sayName(); <span class="comment">// son</span></span><br><span class="line"><span class="built_in">console</span>.log(s.age); <span class="comment">// 18</span></span><br><span class="line"><span class="built_in">console</span>.log(s <span class="keyword">instanceof</span> Father); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(s <span class="keyword">instanceof</span> Son); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;----------å¯„ç”Ÿç»„åˆç»§æ‰¿----------&#x27;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Son</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  Father.call(<span class="built_in">this</span>);</span><br><span class="line">  <span class="built_in">this</span>.name = name || <span class="string">&#x27;-&gt;son&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å®ä¾‹æ–¹æ³•çš„ç±»</span></span><br><span class="line">  <span class="keyword">var</span> None = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">  None.prototype = Father.prototype;</span><br><span class="line">  <span class="comment">// å°†å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹</span></span><br><span class="line">  Son.prototype = <span class="keyword">new</span> None();</span><br><span class="line">  <span class="comment">// ä¿®å¤æ„é€ å‡½æ•°æŒ‡å‘</span></span><br><span class="line">  Son.prototype.constructor = Son;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> Son(<span class="string">&#x27;son&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s.name); <span class="comment">// son</span></span><br><span class="line">s.sayAge(); <span class="comment">// 18</span></span><br><span class="line">s.sayName(); <span class="comment">// son</span></span><br><span class="line"><span class="built_in">console</span>.log(s.age); <span class="comment">// 18</span></span><br><span class="line"><span class="built_in">console</span>.log(s <span class="keyword">instanceof</span> Father); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(s <span class="keyword">instanceof</span> Son); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h2 id="nextTick"><a href="#nextTick" class="headerlink" title="$nextTick"></a>$nextTick</h2><h2 id="React-ç”Ÿå‘½å‘¨æœŸ"><a href="#React-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="React ç”Ÿå‘½å‘¨æœŸ"></a>React ç”Ÿå‘½å‘¨æœŸ</h2><h3 id="æŒ‚è½½"><a href="#æŒ‚è½½" class="headerlink" title="æŒ‚è½½"></a>æŒ‚è½½</h3><ul>
<li><p>constructor()</p>
</li>
<li><p>static getDerivedStateFromProps()</p>
</li>
<li><p>render()</p>
</li>
<li><p>componentDidMount()</p>
</li>
</ul>
<h3 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h3><ul>
<li><p>static getDerivedStateFromProps()</p>
</li>
<li><p>shouldComponentUpdate()</p>
</li>
<li><p>render()</p>
</li>
<li><p>getSnapshotBeforeUpdate()</p>
</li>
<li><p>componentDidUpdate()</p>
</li>
</ul>
<h2 id="å¸è½½"><a href="#å¸è½½" class="headerlink" title="å¸è½½"></a>å¸è½½</h2><ul>
<li>componentWillUnmount()</li>
</ul>
<h2 id="Hook-ä¸­æ€ä¹ˆæ¨¡æ‹Ÿç±»ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#Hook-ä¸­æ€ä¹ˆæ¨¡æ‹Ÿç±»ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Hook ä¸­æ€ä¹ˆæ¨¡æ‹Ÿç±»ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"></a>Hook ä¸­æ€ä¹ˆæ¨¡æ‹Ÿç±»ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</h2><ul>
<li><p>ç¬¬ä¸€ä¸ªå‚æ•° å‡½æ•°å½¢å¼ å¯å®ç°ç­‰åŒäº componentDidMount shouldComponentUpdate componentWillUnmount</p>
</li>
<li><p>å¹¶ä¸”å¯ä»¥è¿”å›ä¸€ä¸ªå‡½æ•° ç”¨æ¥æ¶ˆé™¤å‰¯ä½œç”¨ ç±»ä¼¼ componentWillUnmount å¯ä»¥åšä¸€äº›äº‹ä»¶çš„è§£ç»‘ å®šæ—¶å™¨çš„å…³é—­ç­‰</p>
</li>
<li><p>ç¬¬äºŒä¸ªå‚æ•° æ•°ç»„ çŠ¶æ€ä¾èµ–é¡¹ å®ç°æ€§èƒ½ä¼˜åŒ– å¦‚æœä¼ [] åˆ™ç­‰åŒäºä¸å¼€å¯ shouldComponentUpdate</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Interview</category>
      </categories>
      <tags>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title>åº”çŸ¥åº”ä¼š å®‰å…¨</title>
    <url>/FE/Interview/Security/</url>
    <content><![CDATA[<p><strong>XSSï¼ˆCross Site Scriptingï¼Œè·¨ç«™è„šæœ¬æ”»å‡»ï¼‰</strong></p>
<ul>
<li><p>è¿™æ˜¯å‰ç«¯æœ€å¸¸è§çš„æ”»å‡»æ–¹å¼ï¼Œå¾ˆå¤šå¤§å‹ç½‘ç«™ï¼ˆå¦‚ Facebookï¼‰éƒ½è¢« XSS æ”»å‡»è¿‡ã€‚</p>
</li>
<li><p>ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘åœ¨ä¸€ä¸ªåšå®¢ç½‘ç«™æ­£å¸¸å‘è¡¨ä¸€ç¯‡æ–‡ç« ï¼Œè¾“å…¥æ±‰å­—ã€è‹±æ–‡å’Œå›¾ç‰‡ï¼Œå®Œå…¨æ²¡æœ‰é—®é¢˜ã€‚</p>
<p>ä½†æ˜¯å¦‚æœæˆ‘å†™çš„æ˜¯æ¶æ„çš„ JS è„šæœ¬ï¼Œä¾‹å¦‚è·å–åˆ°<code>document.cookie</code>ç„¶åä¼ è¾“åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œ</p>
<p>é‚£æˆ‘è¿™ç¯‡åšå®¢çš„æ¯ä¸€æ¬¡æµè§ˆéƒ½ä¼šæ‰§è¡Œè¿™ä¸ªè„šæœ¬ï¼Œéƒ½ä¼šæŠŠè®¿å®¢ cookie ä¸­çš„ä¿¡æ¯å·å·ä¼ é€’åˆ°æˆ‘çš„æœåŠ¡å™¨ä¸Šæ¥ã€‚</p>
</li>
</ul>
<blockquote>
<p>å…¶å®åŸç†ä¸Šå°±æ˜¯é»‘å®¢é€šè¿‡æŸç§æ–¹å¼ï¼ˆå‘å¸ƒæ–‡ç« ã€å‘å¸ƒè¯„è®ºç­‰ï¼‰å°†ä¸€æ®µç‰¹å®šçš„ JS ä»£ç éšè”½åœ°è¾“å…¥è¿›å»ã€‚<br>ç„¶ååˆ«äººå†çœ‹è¿™ç¯‡æ–‡ç« æˆ–è€…è¯„è®ºæ—¶ï¼Œä¹‹å‰æ³¨å…¥çš„è¿™æ®µ JS ä»£ç å°±æ‰§è¡Œäº†ã€‚<br><strong>JS ä»£ç ä¸€æ—¦æ‰§è¡Œï¼Œé‚£å¯å°±ä¸å—æ§åˆ¶äº†ï¼Œå› ä¸ºå®ƒè·Ÿç½‘é¡µåŸæœ‰çš„ JS æœ‰åŒæ ·çš„æƒé™</strong>ï¼Œ<br>ä¾‹å¦‚å¯ä»¥è·å– server ç«¯æ•°æ®ã€å¯ä»¥è·å– cookie ç­‰ã€‚äºæ˜¯ï¼Œæ”»å‡»å°±è¿™æ ·å‘ç”Ÿäº†ã€‚</p>
</blockquote>
<a id="more"></a>

<p><strong>XSS çš„å±å®³</strong></p>
<p>XSS çš„å±å®³ç›¸å½“å¤§ï¼Œå¦‚æœé¡µé¢å¯ä»¥éšæ„æ‰§è¡Œåˆ«äººä¸å®‰å…¨çš„ JS ä»£ç ï¼Œè½»åˆ™ä¼šè®©é¡µé¢é”™ä¹±ã€åŠŸèƒ½ç¼ºå¤±ï¼Œé‡åˆ™ä¼šé€ æˆç”¨æˆ·çš„ä¿¡æ¯æ³„éœ²ã€‚</p>
<p>æ¯”å¦‚æ—©äº›å¹´ç¤¾äº¤ç½‘ç«™ç»å¸¸çˆ†å‡º XSS è •è™«ï¼Œé€šè¿‡å‘å¸ƒçš„æ–‡ç« å†…æ’å…¥ JSï¼Œ</p>
<p>ç”¨æˆ·è®¿é—®äº†æ„ŸæŸ“ä¸å®‰å…¨ JS æ³¨å…¥çš„æ–‡ç« ï¼Œä¼šè‡ªåŠ¨é‡æ–°å‘å¸ƒæ–°çš„æ–‡ç« ï¼Œ</p>
<p>è¿™æ ·çš„æ–‡ç« ä¼šé€šè¿‡æ¨èç³»ç»Ÿè¿›å…¥åˆ°æ¯ä¸ªç”¨æˆ·çš„æ–‡ç« åˆ—è¡¨é¢å‰ï¼Œå¾ˆå¿«å°±ä¼šé€ æˆå¤§è§„æ¨¡çš„æ„ŸæŸ“ã€‚</p>
<p>è¿˜æœ‰åˆ©ç”¨è·å– cookie çš„æ–¹å¼ï¼Œå°† cookie ä¼ å…¥å…¥ä¾µè€…çš„æœåŠ¡å™¨ä¸Šï¼Œå…¥ä¾µè€…å°±å¯ä»¥æ¨¡æ‹Ÿ cookie ç™»å½•ç½‘ç«™ï¼Œå¯¹ç”¨æˆ·çš„ä¿¡æ¯è¿›è¡Œç¯¡æ”¹ã€‚</p>
<p><strong>XSS çš„é¢„é˜²</strong></p>
<p>é‚£ä¹ˆå¦‚ä½•é¢„é˜² XSS æ”»å‡»å‘¢ï¼Ÿâ€”â€” æœ€æ ¹æœ¬çš„æ–¹å¼ï¼Œå°±æ˜¯å¯¹ç”¨æˆ·è¾“å…¥çš„å†…å®¹è¿›è¡ŒéªŒè¯å’Œæ›¿æ¢ï¼Œéœ€è¦æ›¿æ¢çš„å­—ç¬¦æœ‰ï¼š</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">&amp; æ›¿æ¢ä¸ºï¼š&amp;amp;</span><br><span class="line">&lt; æ›¿æ¢ä¸ºï¼š&amp;lt;</span><br><span class="line">&gt; æ›¿æ¢ä¸ºï¼š&amp;gt;</span><br><span class="line">â€ æ›¿æ¢ä¸ºï¼š&amp;quot;</span><br><span class="line">â€˜ æ›¿æ¢ä¸ºï¼š&amp;#x27;</span><br><span class="line">/ æ›¿æ¢ä¸ºï¼š&amp;#x2f;</span><br></pre></td></tr></table></figure>

<p>æ›¿æ¢äº†è¿™äº›å­—ç¬¦ä¹‹åï¼Œé»‘å®¢è¾“å…¥çš„æ”»å‡»ä»£ç å°±ä¼šå¤±æ•ˆï¼ŒXSS æ”»å‡»å°†ä¸ä¼šè½»æ˜“å‘ç”Ÿã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡å¯¹ cookie è¿›è¡Œè¾ƒå¼ºçš„æ§åˆ¶ï¼Œæ¯”å¦‚å¯¹æ•æ„Ÿçš„ cookie å¢åŠ <code>http-only</code>é™åˆ¶ï¼Œè®© JS è·å–ä¸åˆ° cookie çš„å†…å®¹ã€‚</p>
<p><strong>CSRFï¼ˆCross-site request forgeryï¼Œè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰</strong></p>
<blockquote>
<p>CSRF æ˜¯å€Ÿç”¨äº†å½“å‰æ“ä½œè€…çš„æƒé™æ¥å·å·åœ°å®ŒæˆæŸä¸ªæ“ä½œï¼Œè€Œä¸æ˜¯æ‹¿åˆ°ç”¨æˆ·çš„ä¿¡æ¯ã€‚</p>
</blockquote>
<ul>
<li><p>ä¾‹å¦‚ï¼Œä¸€ä¸ªæ”¯ä»˜ç±»ç½‘ç«™ï¼Œç»™ä»–äººè½¬è´¦çš„æ¥å£æ˜¯<code>http://buy.com/pay?touid=999&amp;money=100</code>ï¼Œ</p>
<p>è€Œè¿™ä¸ªæ¥å£åœ¨ä½¿ç”¨æ—¶æ²¡æœ‰ä»»ä½•å¯†ç æˆ–è€… token çš„éªŒè¯ï¼Œåªè¦æ‰“å¼€è®¿é—®å°±ç›´æ¥ç»™ä»–äººè½¬è´¦ã€‚ä¸€ä¸ªç”¨æˆ·å·²ç»ç™»å½•äº†<code>http://buy.com</code>ï¼Œ</p>
<p>åœ¨é€‰æ‹©å•†å“æ—¶ï¼Œçªç„¶æ”¶åˆ°ä¸€å°é‚®ä»¶ï¼Œè€Œè¿™å°é‚®ä»¶æ­£æ–‡æœ‰è¿™ä¹ˆä¸€è¡Œä»£ç <code>&lt;img src=&quot;http://buy.com/pay?touid=999&amp;money=100&quot;/&gt;</code>ï¼Œ</p>
<p>ä»–è®¿é—®äº†é‚®ä»¶ä¹‹åï¼Œå…¶å®å°±å·²ç»å®Œæˆäº†è´­ä¹°ã€‚</p>
</li>
<li><p>CSRF çš„å‘ç”Ÿå…¶å®æ˜¯å€ŸåŠ©äº†ä¸€ä¸ª cookie çš„ç‰¹æ€§ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œç™»å½•äº†<code>http://buy.com</code>ä¹‹åï¼Œcookie å°±ä¼šæœ‰ç™»å½•è¿‡çš„æ ‡è®°äº†ï¼Œ</p>
<p>æ­¤æ—¶è¯·æ±‚<code>http://buy.com/pay?touid=999&amp;money=100</code>æ˜¯ä¼šå¸¦ç€ cookie çš„ï¼Œ</p>
<p>å› æ­¤ server ç«¯å°±çŸ¥é“å·²ç»ç™»å½•äº†ã€‚è€Œå¦‚æœåœ¨<code>http://buy.com</code>å»è¯·æ±‚å…¶ä»–åŸŸåçš„ API ä¾‹å¦‚<code>http://abc.com/api</code>æ—¶ï¼Œ</p>
<p>æ˜¯ä¸ä¼šå¸¦ cookie çš„ï¼Œè¿™æ˜¯æµè§ˆå™¨çš„åŒæºç­–ç•¥çš„é™åˆ¶ã€‚</p>
<p>ä½†æ˜¯ â€”â€” <strong>æ­¤æ—¶åœ¨å…¶ä»–åŸŸåçš„é¡µé¢ä¸­ï¼Œè¯·æ±‚<code>http://buy.com/pay?touid=999&amp;money=100</code>ï¼Œä¼šå¸¦ç€<code>buy.com</code>çš„ cookie ï¼Œè¿™æ˜¯å‘ç”Ÿ CSRF æ”»å‡»çš„ç†è®ºåŸºç¡€ã€‚</strong></p>
</li>
</ul>
<blockquote>
<p>é¢„é˜² <code>CSRF</code> å°±æ˜¯åŠ å…¥å„ä¸ªå±‚çº§çš„æƒé™éªŒè¯ï¼Œä¾‹å¦‚ç°åœ¨çš„è´­ç‰©ç½‘ç«™ï¼Œ<br>  åªè¦æ¶‰åŠç°é‡‘äº¤æ˜“ï¼Œè‚¯å®šè¦è¾“å…¥å¯†ç æˆ–è€…æŒ‡çº¹æ‰è¡Œã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ•æ„Ÿçš„æ¥å£ä½¿ç”¨<code>POST</code>è¯·æ±‚è€Œä¸æ˜¯<code>GET</code>ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>Interview</category>
      </categories>
      <tags>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title>åº”çŸ¥åº”ä¼š HTML</title>
    <url>/FE/Interview/HTML/</url>
    <content><![CDATA[<h2 id="1-ç›’å­æ¨¡å‹"><a href="#1-ç›’å­æ¨¡å‹" class="headerlink" title="1.ç›’å­æ¨¡å‹"></a>1.ç›’å­æ¨¡å‹</h2><ul>
<li><p>Content box: è¿™ä¸ªåŒºåŸŸæ˜¯ç”¨æ¥æ˜¾ç¤ºå†…å®¹ï¼Œå¤§å°å¯ä»¥é€šè¿‡è®¾ç½® width å’Œ height</p>
</li>
<li><p>Padding box: åŒ…å›´åœ¨å†…å®¹åŒºåŸŸå¤–éƒ¨çš„ç©ºç™½åŒºåŸŸï¼› å¤§å°é€šè¿‡ padding ç›¸å…³å±æ€§è®¾ç½®</p>
</li>
<li><p>Border box: è¾¹æ¡†ç›’åŒ…è£¹å†…å®¹å’Œå†…è¾¹è·ã€‚å¤§å°é€šè¿‡ border ç›¸å…³å±æ€§è®¾ç½®</p>
</li>
<li><p>Margin box: è¿™æ˜¯æœ€å¤–é¢çš„åŒºåŸŸï¼Œæ˜¯ç›’å­å’Œå…¶ä»–å…ƒç´ ä¹‹é—´çš„ç©ºç™½åŒºåŸŸã€‚å¤§å°é€šè¿‡ margin ç›¸å…³å±æ€§è®¾ç½®</p>
</li>
</ul>
<h3 id="æ ‡å‡†ç›’æ¨¡å‹"><a href="#æ ‡å‡†ç›’æ¨¡å‹" class="headerlink" title="æ ‡å‡†ç›’æ¨¡å‹"></a>æ ‡å‡†ç›’æ¨¡å‹</h3><p>width å’Œ height ä¼šå•ç‹¬è®¡ç®— padding</p>
<h3 id="IE-ç›’æ¨¡å‹"><a href="#IE-ç›’æ¨¡å‹" class="headerlink" title="IE ç›’æ¨¡å‹"></a>IE ç›’æ¨¡å‹</h3><p>width å’Œ height åŒ…å«äº† padding è¿™çœ‹ä¸Šäº†å¾ˆæ–¹ä¾¿</p>
<p>ä½†æ˜¯æµè§ˆå™¨é»˜è®¤ä½¿ç”¨æ ‡å‡†ç›’æ¨¡å‹ å¯ä»¥ä½¿ç”¨ box-sizing: border-box æ¥åˆ‡æ¢è‡³ IE ç›’æ¨¡å‹</p>
<h2 id="2-SGML-HTML-XML-XHTML"><a href="#2-SGML-HTML-XML-XHTML" class="headerlink" title="2.SGML / HTML / XML / XHTML"></a>2.SGML / HTML / XML / XHTML</h2><ul>
<li><p>SGML æ˜¯æ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€ï¼Œæ˜¯ä¸€ç§å®šä¹‰ç”µå­æ–‡æ¡£ç»“æ„å’Œæè¿°å…¶å†…å®¹çš„å›½é™…æ ‡å‡†è¯­è¨€ï¼Œæ˜¯æ‰€æœ‰ç”µå­æ–‡æ¡£æ ‡è®°è¯­è¨€çš„èµ·æºã€‚</p>
</li>
<li><p>HTML æ˜¯è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼Œä¸»è¦æ˜¯ç”¨äºè§„å®šæ€ä¹ˆæ˜¾ç¤ºç½‘é¡µã€‚</p>
</li>
<li><p>XML æ˜¯å¯æ‰©å±•æ ‡è®°è¯­è¨€æ˜¯æœªæ¥ç½‘é¡µè¯­è¨€çš„å‘å±•æ–¹å‘ï¼ŒXML å’Œ HTML çš„æœ€å¤§åŒºåˆ«å°±åœ¨äº XML çš„æ ‡ç­¾æ˜¯å¯ä»¥è‡ªå·±åˆ›å»ºçš„ï¼Œæ•°é‡æ— é™å¤šï¼Œè€Œ HTML çš„æ ‡ç­¾éƒ½æ˜¯å›ºå®šçš„è€Œä¸”æ•°é‡æœ‰é™ã€‚</p>
</li>
<li><p>XHTML ä¹Ÿæ˜¯ç°åœ¨åŸºæœ¬ä¸Šæ‰€æœ‰ç½‘é¡µéƒ½åœ¨ç”¨çš„æ ‡è®°è¯­è¨€ï¼Œä»–å…¶å®å’Œ HTML æ²¡ä»€ä¹ˆæœ¬è´¨çš„åŒºåˆ«ï¼Œæ ‡ç­¾éƒ½ä¸€æ ·ï¼Œç”¨æ³•ä¹Ÿéƒ½ä¸€æ ·ï¼Œå°±æ˜¯æ¯” HTML æ›´ä¸¥æ ¼ï¼Œæ¯”å¦‚æ ‡ç­¾å¿…é¡»éƒ½ç”¨å°å†™ï¼Œæ ‡ç­¾éƒ½å¿…é¡»æœ‰é—­åˆæ ‡ç­¾ç­‰ã€‚</p>
</li>
</ul>
<a id="more"></a>

<h2 id="3-è¡Œå†…å…ƒç´ "><a href="#3-è¡Œå†…å…ƒç´ " class="headerlink" title="3.è¡Œå†…å…ƒç´ "></a>3.è¡Œå†…å…ƒç´ </h2><ul>
<li><p>b, big, i, small, tt</p>
</li>
<li><p>abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var</p>
</li>
<li><p>a, bdo, br, img, map, object, q, script, span, sub, sup</p>
</li>
<li><p>button, input, label, select, textarea</p>
</li>
</ul>
<h2 id="4-å—çº§å…ƒç´ "><a href="#4-å—çº§å…ƒç´ " class="headerlink" title="4.å—çº§å…ƒç´ "></a>4.å—çº§å…ƒç´ </h2><ul>
<li>div, ul, ol, li, dl, dt, dd, h1, h2, h3, h4, h5, h6, p</li>
</ul>
<h2 id="5-è¡Œå†…-å—çº§-åŒºåˆ«"><a href="#5-è¡Œå†…-å—çº§-åŒºåˆ«" class="headerlink" title="5.è¡Œå†… / å—çº§ åŒºåˆ«"></a>5.è¡Œå†… / å—çº§ åŒºåˆ«</h2><ul>
<li><p>æ ¼å¼ä¸Šï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¡Œå†…å…ƒç´ ä¸ä¼šä»¥æ–°è¡Œå¼€å§‹ï¼Œè€Œå—çº§å…ƒç´ ä¼šæ–°èµ·ä¸€è¡Œã€‚</p>
</li>
<li><p>å†…å®¹ä¸Šï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¡Œå†…å…ƒç´ åªèƒ½åŒ…å«æ–‡æœ¬å’Œå…¶ä»–è¡Œå†…å…ƒç´ ã€‚è€Œå—çº§å…ƒç´ å¯ä»¥åŒ…å«è¡Œå†…å…ƒç´ å’Œå…¶ä»–å—çº§å…ƒç´ ã€‚</p>
</li>
<li><p>è¡Œå†…å…ƒç´ ä¸å—çº§å…ƒç´ å±æ€§çš„ä¸åŒï¼Œä¸»è¦æ˜¯ç›’æ¨¡å‹å±æ€§ä¸Šï¼šè¡Œå†…å…ƒç´ è®¾ç½® width æ— æ•ˆï¼Œheight æ— æ•ˆï¼ˆå¯ä»¥è®¾ç½® line-heightï¼‰ï¼Œè®¾ç½® margin å’Œ padding çš„ä¸Šä¸‹ä¸ä¼šå¯¹å…¶ä»–å…ƒç´ äº§ç”Ÿå½±å“ã€‚</p>
</li>
</ul>
<h2 id="6-é¡µé¢å¯¼å…¥æ ·å¼æ—¶ï¼Œä½¿ç”¨-link-å’Œ-import-æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#6-é¡µé¢å¯¼å…¥æ ·å¼æ—¶ï¼Œä½¿ç”¨-link-å’Œ-import-æœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="6.é¡µé¢å¯¼å…¥æ ·å¼æ—¶ï¼Œä½¿ç”¨ link å’Œ @import æœ‰ä»€ä¹ˆåŒºåˆ«"></a>6.é¡µé¢å¯¼å…¥æ ·å¼æ—¶ï¼Œä½¿ç”¨ link å’Œ @import æœ‰ä»€ä¹ˆåŒºåˆ«</h2><ul>
<li><p>ä»å±å…³ç³»åŒºåˆ«ã€‚ @import æ˜¯ CSS æä¾›çš„è¯­æ³•è§„åˆ™ï¼Œåªæœ‰å¯¼å…¥æ ·å¼è¡¨çš„ä½œç”¨ï¼›link æ˜¯ HTML æä¾›çš„æ ‡ç­¾ï¼Œä¸ä»…å¯ä»¥åŠ è½½ CSS æ–‡ä»¶ï¼Œè¿˜å¯ä»¥å®šä¹‰ RSSã€rel è¿æ¥å±æ€§ã€å¼•å…¥ç½‘ç«™å›¾æ ‡ç­‰ã€‚</p>
</li>
<li><p>åŠ è½½é¡ºåºåŒºåˆ«ã€‚åŠ è½½é¡µé¢æ—¶ï¼Œlink æ ‡ç­¾å¼•å…¥çš„ CSS è¢«åŒæ—¶åŠ è½½ï¼›@import å¼•å…¥çš„ CSS å°†åœ¨é¡µé¢åŠ è½½å®Œæ¯•åè¢«åŠ è½½ã€‚</p>
</li>
<li><p>å…¼å®¹æ€§åŒºåˆ«ã€‚@import æ˜¯ CSS2.1 æ‰æœ‰çš„è¯­æ³•ï¼Œæ•…åªå¯åœ¨ IE5+ æ‰èƒ½è¯†åˆ«ï¼›link æ ‡ç­¾ä½œä¸º HTML å…ƒç´ ï¼Œä¸å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ã€‚</p>
</li>
<li><p>DOM å¯æ§æ€§åŒºåˆ«ã€‚å¯ä»¥é€šè¿‡ JS æ“ä½œ DOM ï¼Œæ’å…¥ link æ ‡ç­¾æ¥æ”¹å˜æ ·å¼ï¼›ç”±äº DOM æ–¹æ³•æ˜¯åŸºäºæ–‡æ¡£çš„ï¼Œæ— æ³•ä½¿ç”¨ @import çš„æ–¹å¼æ’å…¥æ ·å¼ã€‚</p>
</li>
</ul>
<h2 id="7-æµè§ˆå™¨æ¸²æŸ“åŸç†"><a href="#7-æµè§ˆå™¨æ¸²æŸ“åŸç†" class="headerlink" title="7.æµè§ˆå™¨æ¸²æŸ“åŸç†"></a>7.æµè§ˆå™¨æ¸²æŸ“åŸç†</h2><p>ï¼ˆ1ï¼‰é¦–å…ˆè§£ææ”¶åˆ°çš„æ–‡æ¡£ï¼Œæ ¹æ®æ–‡æ¡£å®šä¹‰æ„å»ºä¸€æ£µ DOM æ ‘ï¼ŒDOM æ ‘æ˜¯ç”± DOM å…ƒç´ åŠå±æ€§èŠ‚ç‚¹ç»„æˆçš„ã€‚</p>
<p>ï¼ˆ2ï¼‰ç„¶åå¯¹ CSS è¿›è¡Œè§£æï¼Œç”Ÿæˆ CSSOM è§„åˆ™æ ‘ã€‚</p>
<p>ï¼ˆ3ï¼‰æ ¹æ® DOM æ ‘å’Œ CSSOM è§„åˆ™æ ‘æ„å»ºæ¸²æŸ“æ ‘ã€‚æ¸²æŸ“æ ‘çš„èŠ‚ç‚¹è¢«ç§°ä¸ºæ¸²æŸ“å¯¹è±¡ï¼Œæ¸²æŸ“å¯¹è±¡æ˜¯ä¸€ä¸ªåŒ…å«æœ‰é¢œè‰²å’Œå¤§å°ç­‰å±æ€§çš„çŸ©å½¢ï¼Œæ¸²æŸ“å¯¹è±¡å’Œ DOM å…ƒç´ ç›¸å¯¹åº”ï¼Œä½†è¿™ç§å¯¹åº”å…³ç³»ä¸æ˜¯ä¸€å¯¹ä¸€çš„ï¼Œä¸å¯è§çš„ DOM å…ƒç´ ä¸ä¼šè¢«æ’å…¥æ¸²æŸ“æ ‘ã€‚è¿˜æœ‰ä¸€äº› DOM å…ƒç´ å¯¹åº”å‡ ä¸ªå¯è§å¯¹è±¡ï¼Œå®ƒä»¬ä¸€èˆ¬æ˜¯ä¸€äº›å…·æœ‰å¤æ‚ç»“æ„çš„å…ƒç´ ï¼Œæ— æ³•ç”¨ä¸€ä¸ªçŸ©å½¢æ¥æè¿°ã€‚</p>
<p>ï¼ˆ4ï¼‰å½“æ¸²æŸ“å¯¹è±¡è¢«åˆ›å»ºå¹¶æ·»åŠ åˆ°æ ‘ä¸­ï¼Œå®ƒä»¬å¹¶æ²¡æœ‰ä½ç½®å’Œå¤§å°ï¼Œæ‰€ä»¥å½“æµè§ˆå™¨ç”Ÿæˆæ¸²æŸ“æ ‘ä»¥åï¼Œå°±ä¼šæ ¹æ®æ¸²æŸ“æ ‘æ¥è¿›è¡Œå¸ƒå±€ï¼ˆä¹Ÿå¯ä»¥å«åšå›æµï¼‰ã€‚è¿™ä¸€é˜¶æ®µæµè§ˆå™¨è¦åšçš„äº‹æƒ…æ˜¯è¦å¼„æ¸…æ¥šå„ä¸ªèŠ‚ç‚¹åœ¨é¡µé¢ä¸­çš„ç¡®åˆ‡ä½ç½®å’Œå¤§å°ã€‚é€šå¸¸è¿™ä¸€è¡Œä¸ºä¹Ÿè¢«ç§°ä¸ºâ€œè‡ªåŠ¨é‡æ’â€ã€‚</p>
<p>ï¼ˆ5ï¼‰å¸ƒå±€é˜¶æ®µç»“æŸåæ˜¯ç»˜åˆ¶é˜¶æ®µï¼Œéå†æ¸²æŸ“æ ‘å¹¶è°ƒç”¨æ¸²æŸ“å¯¹è±¡çš„ paint æ–¹æ³•å°†å®ƒä»¬çš„å†…å®¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œç»˜åˆ¶ä½¿ç”¨ UI åŸºç¡€ç»„ä»¶ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯é€æ­¥å®Œæˆçš„ï¼Œä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œæ¸²æŸ“å¼•æ“å°†ä¼šå°½å¯èƒ½æ—©çš„å°†å†…å®¹å‘ˆç°åˆ°å±å¹•ä¸Šï¼Œå¹¶ä¸ä¼šç­‰åˆ°æ‰€æœ‰çš„ html éƒ½è§£æå®Œæˆä¹‹åå†å»æ„å»ºå’Œå¸ƒå±€ render æ ‘ã€‚å®ƒæ˜¯è§£æå®Œä¸€éƒ¨åˆ†å†…å®¹å°±æ˜¾ç¤ºä¸€éƒ¨åˆ†å†…å®¹ï¼ŒåŒæ—¶ï¼Œå¯èƒ½è¿˜åœ¨é€šè¿‡ç½‘ç»œä¸‹è½½å…¶ä½™å†…å®¹ã€‚</p>
<h2 id="8-æ¸²æŸ“è¿‡ç¨‹ä¸­é‡åˆ°-JS-æ–‡ä»¶æ€ä¹ˆå¤„ç†ï¼Ÿï¼ˆæµè§ˆå™¨è§£æè¿‡ç¨‹ï¼‰"><a href="#8-æ¸²æŸ“è¿‡ç¨‹ä¸­é‡åˆ°-JS-æ–‡ä»¶æ€ä¹ˆå¤„ç†ï¼Ÿï¼ˆæµè§ˆå™¨è§£æè¿‡ç¨‹ï¼‰" class="headerlink" title="8.æ¸²æŸ“è¿‡ç¨‹ä¸­é‡åˆ° JS æ–‡ä»¶æ€ä¹ˆå¤„ç†ï¼Ÿï¼ˆæµè§ˆå™¨è§£æè¿‡ç¨‹ï¼‰"></a>8.æ¸²æŸ“è¿‡ç¨‹ä¸­é‡åˆ° JS æ–‡ä»¶æ€ä¹ˆå¤„ç†ï¼Ÿï¼ˆæµè§ˆå™¨è§£æè¿‡ç¨‹ï¼‰</h2><p>JavaScript çš„åŠ è½½ã€è§£æä¸æ‰§è¡Œä¼šé˜»å¡æ–‡æ¡£çš„è§£æï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ„å»º DOM æ—¶ï¼ŒHTML è§£æå™¨è‹¥é‡åˆ°äº† JavaScriptï¼Œé‚£ä¹ˆå®ƒä¼šæš‚åœæ–‡æ¡£çš„è§£æï¼Œå°†æ§åˆ¶æƒç§»äº¤ç»™ JavaScript å¼•æ“ï¼Œç­‰ JavaScript å¼•æ“è¿è¡Œå®Œæ¯•ï¼Œæµè§ˆå™¨å†ä»ä¸­æ–­çš„åœ°æ–¹æ¢å¤ç»§ç»­è§£ææ–‡æ¡£ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ æƒ³é¦–å±æ¸²æŸ“çš„è¶Šå¿«ï¼Œå°±è¶Šä¸åº”è¯¥åœ¨é¦–å±å°±åŠ è½½ JS æ–‡ä»¶ï¼Œè¿™ä¹Ÿæ˜¯éƒ½å»ºè®®å°† script æ ‡ç­¾æ”¾åœ¨ body æ ‡ç­¾åº•éƒ¨çš„åŸå› ã€‚å½“ç„¶åœ¨å½“ä¸‹ï¼Œå¹¶ä¸æ˜¯è¯´ script æ ‡ç­¾å¿…é¡»æ”¾åœ¨åº•éƒ¨ï¼Œå› ä¸ºä½ å¯ä»¥ç»™ script æ ‡ç­¾æ·»åŠ  defer æˆ–è€… async å±æ€§ã€‚</p>
<h2 id="9-script-æ ‡ç­¾çš„-defer-å’Œ-async-å±æ€§"><a href="#9-script-æ ‡ç­¾çš„-defer-å’Œ-async-å±æ€§" class="headerlink" title="9.script æ ‡ç­¾çš„ defer å’Œ async å±æ€§"></a>9.script æ ‡ç­¾çš„ defer å’Œ async å±æ€§</h2><p>ï¼ˆ1ï¼‰è„šæœ¬æ²¡æœ‰ defer æˆ– asyncï¼Œæµè§ˆå™¨ä¼šç«‹å³åŠ è½½å¹¶æ‰§è¡ŒæŒ‡å®šçš„è„šæœ¬ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ç­‰å¾…åç»­è½½å…¥çš„æ–‡æ¡£å…ƒç´ ï¼Œè¯»åˆ°å°±åŠ è½½å¹¶æ‰§è¡Œã€‚</p>
<p>ï¼ˆ2ï¼‰defer å±æ€§è¡¨ç¤ºå»¶è¿Ÿæ‰§è¡Œå¼•å…¥çš„ JavaScriptï¼Œå³è¿™æ®µ JavaScript åŠ è½½æ—¶ HTML å¹¶æœªåœæ­¢è§£æï¼Œè¿™ä¸¤ä¸ªè¿‡ç¨‹æ˜¯å¹¶è¡Œçš„ã€‚å½“æ•´ä¸ª document è§£æå®Œæ¯•åå†æ‰§è¡Œè„šæœ¬æ–‡ä»¶ï¼Œåœ¨ DOMContentLoaded äº‹ä»¶è§¦å‘ä¹‹å‰å®Œæˆã€‚å¤šä¸ªè„šæœ¬æŒ‰é¡ºåºæ‰§è¡Œã€‚</p>
<p>ï¼ˆ3ï¼‰async å±æ€§è¡¨ç¤ºå¼‚æ­¥æ‰§è¡Œå¼•å…¥çš„ JavaScriptï¼Œä¸ defer çš„åŒºåˆ«åœ¨äºï¼Œå¦‚æœå·²ç»åŠ è½½å¥½ï¼Œå°±ä¼šå¼€å§‹æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒçš„æ‰§è¡Œä»ç„¶ä¼šé˜»å¡æ–‡æ¡£çš„è§£æï¼Œåªæ˜¯å®ƒçš„åŠ è½½è¿‡ç¨‹ä¸ä¼šé˜»å¡ã€‚å¤šä¸ªè„šæœ¬çš„æ‰§è¡Œé¡ºåºæ— æ³•ä¿è¯ã€‚</p>
<h2 id="10-ä»€ä¹ˆæ˜¯æ–‡æ¡£çš„é¢„è§£æï¼Ÿï¼ˆæµè§ˆå™¨è§£æè¿‡ç¨‹ï¼‰"><a href="#10-ä»€ä¹ˆæ˜¯æ–‡æ¡£çš„é¢„è§£æï¼Ÿï¼ˆæµè§ˆå™¨è§£æè¿‡ç¨‹ï¼‰" class="headerlink" title="10.ä»€ä¹ˆæ˜¯æ–‡æ¡£çš„é¢„è§£æï¼Ÿï¼ˆæµè§ˆå™¨è§£æè¿‡ç¨‹ï¼‰"></a>10.ä»€ä¹ˆæ˜¯æ–‡æ¡£çš„é¢„è§£æï¼Ÿï¼ˆæµè§ˆå™¨è§£æè¿‡ç¨‹ï¼‰</h2><p>Webkit å’Œ Firefox éƒ½åšäº†è¿™ä¸ªä¼˜åŒ–ï¼Œå½“æ‰§è¡Œ JavaScript è„šæœ¬æ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹è§£æå‰©ä¸‹çš„æ–‡æ¡£ï¼Œå¹¶åŠ è½½åé¢éœ€è¦é€šè¿‡ç½‘ç»œåŠ è½½çš„èµ„æºã€‚è¿™ç§æ–¹å¼å¯ä»¥ä½¿èµ„æºå¹¶è¡ŒåŠ è½½ä»è€Œä½¿æ•´ä½“é€Ÿåº¦æ›´å¿«ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé¢„è§£æå¹¶ä¸æ”¹å˜ DOM æ ‘ï¼Œå®ƒå°†è¿™ä¸ªå·¥ä½œç•™ç»™ä¸»è§£æè¿‡ç¨‹ï¼Œè‡ªå·±åªè§£æå¤–éƒ¨èµ„æºçš„å¼•ç”¨ï¼Œæ¯”å¦‚å¤–éƒ¨è„šæœ¬ã€æ ·å¼è¡¨åŠå›¾ç‰‡ã€‚</p>
<h2 id="11-CSS-å¦‚ä½•é˜»å¡æ–‡æ¡£è§£æï¼Ÿï¼ˆæµè§ˆå™¨è§£æè¿‡ç¨‹ï¼‰"><a href="#11-CSS-å¦‚ä½•é˜»å¡æ–‡æ¡£è§£æï¼Ÿï¼ˆæµè§ˆå™¨è§£æè¿‡ç¨‹ï¼‰" class="headerlink" title="11.CSS å¦‚ä½•é˜»å¡æ–‡æ¡£è§£æï¼Ÿï¼ˆæµè§ˆå™¨è§£æè¿‡ç¨‹ï¼‰"></a>11.CSS å¦‚ä½•é˜»å¡æ–‡æ¡£è§£æï¼Ÿï¼ˆæµè§ˆå™¨è§£æè¿‡ç¨‹ï¼‰</h2><p>å¦‚æœæœªå®Œæˆ CSS çš„ä¸‹è½½æˆ–è€… CSS æ ‘æ„å»ºï¼Œè€ƒè™‘åˆ° JS å¯èƒ½ä¼šè¯·æ±‚æ ·å¼ä¿¡æ¯ï¼Œæµè§ˆå™¨ä¼šåœ¨ CSS ä¸‹è½½å®Œå¹¶ä¸”æ„å»ºå®Œ CSS æ ‘åå¤„ç† JS</p>
<h2 id="12-ä»€ä¹ˆæ˜¯é‡ç»˜å’Œå›æµï¼Ÿï¼ˆæµè§ˆå™¨ç»˜åˆ¶è¿‡ç¨‹ï¼‰"><a href="#12-ä»€ä¹ˆæ˜¯é‡ç»˜å’Œå›æµï¼Ÿï¼ˆæµè§ˆå™¨ç»˜åˆ¶è¿‡ç¨‹ï¼‰" class="headerlink" title="12.ä»€ä¹ˆæ˜¯é‡ç»˜å’Œå›æµï¼Ÿï¼ˆæµè§ˆå™¨ç»˜åˆ¶è¿‡ç¨‹ï¼‰"></a>12.ä»€ä¹ˆæ˜¯é‡ç»˜å’Œå›æµï¼Ÿï¼ˆæµè§ˆå™¨ç»˜åˆ¶è¿‡ç¨‹ï¼‰</h2><ul>
<li><p>ä¸å½±å“å¸ƒå±€çš„åªå¼•å‘é‡ç»˜</p>
</li>
<li><p>å½±å“å¸ƒå±€çš„ä¼šå¼•å‘å›æµå¹¶é‡ç»˜</p>
</li>
</ul>
<h2 id="13-HTML-è¯­ä¹‰åŒ–çš„ç†è§£"><a href="#13-HTML-è¯­ä¹‰åŒ–çš„ç†è§£" class="headerlink" title="13.HTML è¯­ä¹‰åŒ–çš„ç†è§£"></a>13.HTML è¯­ä¹‰åŒ–çš„ç†è§£</h2><p>ï¼ˆ1ï¼‰ ç”¨æ­£ç¡®çš„æ ‡ç­¾åšæ­£ç¡®çš„äº‹æƒ…ã€‚</p>
<p>ï¼ˆ2ï¼‰ html è¯­ä¹‰åŒ–è®©é¡µé¢çš„å†…å®¹ç»“æ„åŒ–ï¼Œç»“æ„æ›´æ¸…æ™°ï¼Œä¾¿äºå¯¹æµè§ˆå™¨ã€æœç´¢å¼•æ“è§£æ;</p>
<p>ï¼ˆ3ï¼‰ å³ä½¿åœ¨æ²¡æœ‰æ ·å¼ CSS æƒ…å†µä¸‹ä¹Ÿä»¥ä¸€ç§æ–‡æ¡£æ ¼å¼æ˜¾ç¤ºï¼Œå¹¶ä¸”æ˜¯å®¹æ˜“é˜…è¯»çš„;</p>
<p>ï¼ˆ4ï¼‰ æœç´¢å¼•æ“çš„çˆ¬è™«ä¹Ÿä¾èµ–äº HTML æ ‡è®°æ¥ç¡®å®šä¸Šä¸‹æ–‡å’Œå„ä¸ªå…³é”®å­—çš„æƒé‡ï¼Œåˆ©äº SEO ;</p>
<p>ï¼ˆ5ï¼‰ ä½¿é˜…è¯»æºä»£ç çš„äººå¯¹ç½‘ç«™æ›´å®¹æ˜“å°†ç½‘ç«™åˆ†å—ï¼Œä¾¿äºé˜…è¯»ç»´æŠ¤ç†è§£ã€‚</p>
<h2 id="14-å‰ç«¯éœ€è¦æ³¨æ„å“ªäº›-SEO"><a href="#14-å‰ç«¯éœ€è¦æ³¨æ„å“ªäº›-SEO" class="headerlink" title="14.å‰ç«¯éœ€è¦æ³¨æ„å“ªäº› SEO"></a>14.å‰ç«¯éœ€è¦æ³¨æ„å“ªäº› SEO</h2><p>ï¼ˆ1ï¼‰åˆç†çš„ titleã€descriptionã€keywordsï¼šæœç´¢å¯¹ç€ä¸‰é¡¹çš„æƒé‡é€ä¸ªå‡å°ï¼Œtitle å€¼å¼ºè°ƒé‡ç‚¹å³å¯ï¼Œé‡è¦å…³é”®è¯å‡ºç°ä¸è¦è¶…è¿‡ 2 æ¬¡ï¼Œè€Œä¸”è¦é å‰ï¼Œä¸åŒé¡µé¢ title è¦æœ‰æ‰€ä¸åŒï¼›description æŠŠé¡µé¢å†…å®¹é«˜åº¦æ¦‚æ‹¬ï¼Œé•¿åº¦åˆé€‚ï¼Œä¸å¯è¿‡åˆ†å †ç Œå…³é”®è¯ï¼Œä¸åŒé¡µé¢ description æœ‰æ‰€ä¸åŒï¼›keywords åˆ—ä¸¾å‡ºé‡è¦å…³é”®è¯å³å¯ã€‚</p>
<p>ï¼ˆ2ï¼‰è¯­ä¹‰åŒ–çš„ HTML ä»£ç ï¼Œç¬¦åˆ W3C è§„èŒƒï¼šè¯­ä¹‰åŒ–ä»£ç è®©æœç´¢å¼•æ“å®¹æ˜“ç†è§£ç½‘é¡µã€‚</p>
<p>ï¼ˆ3ï¼‰é‡è¦å†…å®¹ HTML ä»£ç æ”¾åœ¨æœ€å‰ï¼šæœç´¢å¼•æ“æŠ“å– HTML é¡ºåºæ˜¯ä»ä¸Šåˆ°ä¸‹ï¼Œæœ‰çš„æœç´¢å¼•æ“å¯¹æŠ“å–é•¿åº¦æœ‰é™åˆ¶ï¼Œä¿è¯é‡è¦å†…å®¹è‚¯å®šè¢«æŠ“å–ã€‚</p>
<p>ï¼ˆ4ï¼‰é‡è¦å†…å®¹ä¸è¦ç”¨ js è¾“å‡ºï¼šçˆ¬è™«ä¸ä¼šæ‰§è¡Œ js è·å–å†…å®¹</p>
<p>ï¼ˆ5ï¼‰å°‘ç”¨ iframeï¼šæœç´¢å¼•æ“ä¸ä¼šæŠ“å– iframe ä¸­çš„å†…å®¹</p>
<p>ï¼ˆ6ï¼‰éè£…é¥°æ€§å›¾ç‰‡å¿…é¡»åŠ  alt</p>
<p>ï¼ˆ7ï¼‰æé«˜ç½‘ç«™é€Ÿåº¦ï¼šç½‘ç«™é€Ÿåº¦æ˜¯æœç´¢å¼•æ“æ’åºçš„ä¸€ä¸ªé‡è¦æŒ‡æ ‡</p>
<h2 id="15-cookiesï¼ŒsessionStorage-å’Œ-localStorage-çš„åŒºåˆ«"><a href="#15-cookiesï¼ŒsessionStorage-å’Œ-localStorage-çš„åŒºåˆ«" class="headerlink" title="15.cookiesï¼ŒsessionStorage å’Œ localStorage çš„åŒºåˆ«"></a>15.cookiesï¼ŒsessionStorage å’Œ localStorage çš„åŒºåˆ«</h2><p>SessionStorageï¼Œ LocalStorageï¼Œ Cookie è¿™ä¸‰è€…éƒ½å¯ä»¥è¢«ç”¨æ¥åœ¨æµè§ˆå™¨ç«¯å­˜å‚¨æ•°æ®ï¼Œè€Œä¸”éƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„é”®å€¼å¯¹ã€‚</p>
<p>åŒºåˆ«åœ¨äºå‰ä¸¤è€…å±äº HTML5 WebStorageï¼Œåˆ›å»ºå®ƒä»¬çš„ç›®çš„ä¾¿äºå®¢æˆ·ç«¯å­˜å‚¨æ•°æ®ã€‚è€Œ cookie æ˜¯ç½‘ç«™ä¸ºäº†æ ‡ç¤ºç”¨æˆ·èº«ä»½è€Œå‚¨å­˜åœ¨ç”¨æˆ·æœ¬åœ°ç»ˆç«¯ä¸Šçš„æ•°æ®ï¼ˆé€šå¸¸ç»è¿‡åŠ å¯†ï¼‰ã€‚cookie æ•°æ®å§‹ç»ˆåœ¨åŒæºï¼ˆåè®®ã€ä¸»æœºã€ç«¯å£ç›¸åŒï¼‰çš„ http è¯·æ±‚ä¸­æºå¸¦ï¼ˆå³ä½¿ä¸éœ€è¦ï¼‰ï¼Œä¼šåœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨é—´æ¥å›ä¼ é€’ã€‚</p>
<p>å­˜å‚¨å¤§å°ï¼š<br>cookie æ•°æ®å¤§å°ä¸èƒ½è¶…è¿‡ 4 k ã€‚</p>
<p>sessionStorage å’Œ localStorage è™½ç„¶ä¹Ÿæœ‰å­˜å‚¨å¤§å°çš„é™åˆ¶ï¼Œä½†æ¯” cookie å¤§å¾—å¤šï¼Œå¯ä»¥è¾¾åˆ° 5M æˆ–æ›´å¤§ã€‚</p>
<p>æœ‰æœŸæ—¶é—´ï¼š<br>localStorage å­˜å‚¨æŒä¹…æ•°æ®ï¼Œæµè§ˆå™¨å…³é—­åæ•°æ®ä¸ä¸¢å¤±é™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ã€‚</p>
<p>sessionStorage æ•°æ®åœ¨é¡µé¢ä¼šè¯ç»“æŸæ—¶ä¼šè¢«æ¸…é™¤ã€‚é¡µé¢ä¼šè¯åœ¨æµè§ˆå™¨æ‰“å¼€æœŸé—´ä¸€ç›´ä¿æŒï¼Œå¹¶ä¸”é‡æ–°åŠ è½½æˆ–æ¢å¤é¡µé¢ä»ä¼šä¿æŒåŸæ¥çš„é¡µé¢ä¼šè¯ã€‚åœ¨æ–°æ ‡ç­¾æˆ–çª—å£æ‰“å¼€ä¸€ä¸ªé¡µé¢æ—¶ä¼šåœ¨é¡¶çº§æµè§ˆä¸Šä¸‹æ–‡ä¸­åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ä¼šè¯ã€‚</p>
<p>cookie è®¾ç½®çš„ cookie è¿‡æœŸæ—¶é—´ä¹‹å‰ä¸€ç›´æœ‰æ•ˆï¼Œå³ä½¿çª—å£æˆ–æµè§ˆå™¨å…³é—­ã€‚</p>
<p>ä½œç”¨åŸŸï¼š<br>sessionStorage åªåœ¨åŒæºçš„åŒçª—å£ï¼ˆæˆ–æ ‡ç­¾é¡µï¼‰ä¸­å…±äº«æ•°æ®ï¼Œä¹Ÿå°±æ˜¯åªåœ¨å½“å‰ä¼šè¯ä¸­å…±äº«ã€‚</p>
<p>localStorage åœ¨æ‰€æœ‰åŒæºçª—å£ä¸­éƒ½æ˜¯å…±äº«çš„ã€‚</p>
<p>cookie åœ¨æ‰€æœ‰åŒæºçª—å£ä¸­éƒ½æ˜¯å…±äº«çš„ã€‚</p>
<p>å›ç­”ï¼š<br>æµè§ˆå™¨ç«¯å¸¸ç”¨çš„å­˜å‚¨æŠ€æœ¯æ˜¯ cookie ã€localStorage å’Œ sessionStorageã€‚</p>
<p>cookie å…¶å®æœ€å¼€å§‹æ˜¯æœåŠ¡å™¨ç«¯ç”¨äºè®°å½•ç”¨æˆ·çŠ¶æ€çš„ä¸€ç§æ–¹å¼ï¼Œç”±æœåŠ¡å™¨è®¾ç½®ï¼Œåœ¨å®¢æˆ·ç«¯å­˜å‚¨ï¼Œç„¶åæ¯æ¬¡å‘èµ·åŒæºè¯·æ±‚æ—¶ï¼Œå‘é€ç»™æœåŠ¡å™¨ç«¯ã€‚cookie æœ€å¤šèƒ½å­˜å‚¨ 4 k æ•°æ®ï¼Œå®ƒçš„ç”Ÿå­˜æ—¶é—´ç”± expires å±æ€§æŒ‡å®šï¼Œå¹¶ä¸” cookie åªèƒ½è¢«åŒæºçš„é¡µé¢è®¿é—®å…±äº«ã€‚</p>
<p>sessionStorage æ˜¯ html5 æä¾›çš„ä¸€ç§æµè§ˆå™¨æœ¬åœ°å­˜å‚¨çš„æ–¹æ³•ï¼Œå®ƒå€Ÿé‰´äº†æœåŠ¡å™¨ç«¯ session çš„æ¦‚å¿µï¼Œä»£è¡¨çš„æ˜¯ä¸€æ¬¡ä¼šè¯ä¸­æ‰€ä¿å­˜çš„æ•°æ®ã€‚å®ƒä¸€èˆ¬èƒ½å¤Ÿå­˜å‚¨ 5M æˆ–è€…æ›´å¤§çš„æ•°æ®ï¼Œå®ƒåœ¨å½“å‰çª—å£å…³é—­åå°±å¤±æ•ˆäº†ï¼Œå¹¶ä¸” sessionStorage åªèƒ½è¢«åŒä¸€ä¸ªçª—å£çš„åŒæºé¡µé¢æ‰€è®¿é—®å…±äº«ã€‚</p>
<p>localStorage ä¹Ÿæ˜¯ html5 æä¾›çš„ä¸€ç§æµè§ˆå™¨æœ¬åœ°å­˜å‚¨çš„æ–¹æ³•ï¼Œå®ƒä¸€èˆ¬ä¹Ÿèƒ½å¤Ÿå­˜å‚¨ 5M æˆ–è€…æ›´å¤§çš„æ•°æ®ã€‚å®ƒå’Œ sessionStorage ä¸åŒçš„æ˜¯ï¼Œé™¤éæ‰‹åŠ¨åˆ é™¤å®ƒï¼Œå¦åˆ™å®ƒä¸ä¼šå¤±æ•ˆï¼Œå¹¶ä¸” localStorage ä¹Ÿåªèƒ½è¢«åŒæºé¡µé¢æ‰€è®¿é—®å…±äº«ã€‚</p>
<p>ä¸Šé¢å‡ ç§æ–¹å¼éƒ½æ˜¯å­˜å‚¨å°‘é‡æ•°æ®çš„æ—¶å€™çš„å­˜å‚¨æ–¹å¼ï¼Œå½“æˆ‘ä»¬éœ€è¦åœ¨æœ¬åœ°å­˜å‚¨å¤§é‡æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æµè§ˆå™¨çš„ indexDB è¿™æ˜¯æµè§ˆå™¨æä¾›çš„ä¸€ç§æœ¬åœ°çš„æ•°æ®åº“å­˜å‚¨æœºåˆ¶ã€‚å®ƒä¸æ˜¯å…³ç³»å‹æ•°æ®åº“ï¼Œå®ƒå†…éƒ¨é‡‡ç”¨å¯¹è±¡ä»“åº“çš„å½¢å¼å­˜å‚¨æ•°æ®ï¼Œå®ƒæ›´æ¥è¿‘ NoSQL æ•°æ®åº“ã€‚</p>
]]></content>
      <categories>
        <category>Interview</category>
      </categories>
      <tags>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title>åº”çŸ¥åº”ä¼š JS</title>
    <url>/FE/Interview/JS/</url>
    <content><![CDATA[<h2 id="1-å¼‚æ­¥"><a href="#1-å¼‚æ­¥" class="headerlink" title="1.å¼‚æ­¥"></a>1.å¼‚æ­¥</h2><p>JSè¯­è¨€æ˜¯å•çº¿ç¨‹çš„</p>
<p>JS éœ€è¦å¼‚æ­¥çš„æ ¹æœ¬åŸå› æ˜¯ JS æ˜¯å•çº¿ç¨‹è¿è¡Œçš„ï¼Œå³åœ¨åŒä¸€æ—¶é—´åªèƒ½åšä¸€ä»¶äº‹ï¼Œä¸èƒ½â€œä¸€å¿ƒäºŒç”¨â€ã€‚</p>
<blockquote>
<p>ä¸€ä¸ª Ajax è¯·æ±‚ç”±äºç½‘ç»œæ¯”è¾ƒæ…¢ï¼Œè¯·æ±‚éœ€è¦ 5 ç§’é’Ÿã€‚<br>å¦‚æœæ˜¯åŒæ­¥ï¼Œè¿™ 5 ç§’é’Ÿé¡µé¢å°±å¡æ­»åœ¨è¿™é‡Œå•¥ä¹Ÿå¹²ä¸äº†äº†ã€‚<br>å¼‚æ­¥çš„è¯ï¼Œå°±å¥½å¾ˆå¤šäº†ï¼Œ5 ç§’ç­‰å¾…å°±ç­‰å¾…äº†ï¼Œå…¶ä»–äº‹æƒ…ä¸è€½è¯¯åšï¼Œè‡³äºé‚£ 5 ç§’é’Ÿç­‰å¾…æ˜¯ç½‘é€Ÿå¤ªæ…¢ï¼Œä¸æ˜¯å› ä¸º JS çš„åŸå› ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    a = <span class="literal">false</span>;</span><br><span class="line">&#125;, <span class="number">100</span>)</span><br><span class="line"><span class="function"><span class="title">while</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;whileæ‰§è¡Œäº†&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç çš„æ‰§è¡Œç»“æœä¸æ˜¯100msåaä¸ºfalse æ‰€ä»¥æ‰“æ–­whileå¾ªç¯</p>
<p>äº‹å®ä¸Š å½“ç¨‹åºè¿›å…¥whileå¾ªç¯å  å°±ä¸€ç›´æ˜¯æ­»å¾ªç¯äº†</p>
<p>å› ä¸ºJSæ˜¯å•çº¿ç¨‹è¯­è¨€  æ‰€ä»¥æ— æ³•æ‰§è¡Œåˆ°å®šæ—¶å™¨</p>
<a id="more"></a>

<h2 id="2-Set-amp-amp-Map"><a href="#2-Set-amp-amp-Map" class="headerlink" title="2.Set &amp;&amp; Map"></a>2.Set &amp;&amp; Map</h2><p>Setå’ŒMap å®ä¾‹éƒ½ä¸å…è®¸å…ƒç´ æœ‰é‡å¤</p>
<p>Setçš„keyå’Œvalueä¸€æ · ç±»ä¼¼äºæ•°ç»„</p>
<p>Mapçš„keyå’Œvalueå¯ä»¥è®¾ç½® ç±»ä¼¼äºå¯¹è±¡</p>
<p>Set å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•æœ‰</p>
<ul>
<li><p>sizeï¼šè·å–å…ƒç´ æ•°é‡ã€‚</p>
</li>
<li><p>add(value)ï¼šæ·»åŠ å…ƒç´ ï¼Œè¿”å› Set å®ä¾‹æœ¬èº«ã€‚</p>
</li>
<li><p>delete(value)ï¼šåˆ é™¤å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚</p>
</li>
<li><p>has(value)ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦æ˜¯ Set å®ä¾‹çš„å…ƒç´ ã€‚</p>
</li>
<li><p>clear()ï¼šæ¸…é™¤æ‰€æœ‰å…ƒç´ ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</p>
</li>
</ul>
<p>Set å®ä¾‹çš„éå†ï¼Œå¯ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•</p>
<ul>
<li><p>keys()ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚</p>
</li>
<li><p>values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚ä¸è¿‡ç”±äº Set ç»“æ„æ²¡æœ‰é”®åï¼Œåªæœ‰é”®å€¼ï¼ˆæˆ–è€…è¯´é”®åå’Œé”®å€¼æ˜¯åŒä¸€ä¸ªå€¼ï¼‰ï¼Œ</p>
<p>æ‰€ä»¥keys()å’Œvalues()è¿”å›ç»“æœä¸€è‡´ã€‚</p>
</li>
<li><p>entries()ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨ã€‚</p>
</li>
<li><p>forEach()ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜ã€‚</p>
</li>
</ul>
<p>Map å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li><p>sizeï¼šè·å–æˆå‘˜çš„æ•°é‡</p>
</li>
<li><p>setï¼šè®¾ç½®æˆå‘˜ key å’Œ value</p>
</li>
<li><p>getï¼šè·å–æˆå‘˜å±æ€§å€¼</p>
</li>
<li><p>hasï¼šåˆ¤æ–­æˆå‘˜æ˜¯å¦å­˜åœ¨</p>
</li>
<li><p>deleteï¼šåˆ é™¤æˆå‘˜</p>
</li>
<li><p>clearï¼šæ¸…ç©ºæ‰€æœ‰</p>
</li>
</ul>
<p>Map å®ä¾‹çš„éå†æ–¹æ³•æœ‰ï¼š</p>
<ul>
<li><p>keys()ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚</p>
</li>
<li><p>values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚</p>
</li>
<li><p>entries()ï¼šè¿”å›æ‰€æœ‰æˆå‘˜çš„éå†å™¨ã€‚</p>
</li>
<li><p>forEach()ï¼šéå† Map çš„æ‰€æœ‰æˆå‘˜ã€‚</p>
</li>
</ul>
<h2 id="3-XMLHttpRequest"><a href="#3-XMLHttpRequest" class="headerlink" title="3.XMLHttpRequest"></a>3.XMLHttpRequest</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">xhr.onreadystatechange = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.readyState == <span class="number">4</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (xhr.status == <span class="number">200</span>) &#123;</span><br><span class="line">            alert(xhr.responseText)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">xhr.open(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;/api&quot;</span>, <span class="literal">false</span>)</span><br><span class="line">xhr.send(<span class="literal">null</span>)</span><br></pre></td></tr></table></figure>

<p>xhr.readyStateçš„çŠ¶æ€ç è¯´æ˜ï¼š</p>
<ul>
<li><p>0 ä»£ç†è¢«åˆ›å»ºï¼Œä½†å°šæœªè°ƒç”¨ open() æ–¹æ³•ã€‚</p>
</li>
<li><p>1 open() æ–¹æ³•å·²ç»è¢«è°ƒç”¨ã€‚</p>
</li>
<li><p>2 send() æ–¹æ³•å·²ç»è¢«è°ƒç”¨ï¼Œå¹¶ä¸”å¤´éƒ¨å’ŒçŠ¶æ€å·²ç»å¯è·å¾—ã€‚</p>
</li>
<li><p>3 ä¸‹è½½ä¸­ï¼Œ responseText å±æ€§å·²ç»åŒ…å«éƒ¨åˆ†æ•°æ®ã€‚</p>
</li>
<li><p>4 ä¸‹è½½æ“ä½œå·²å®Œæˆ</p>
</li>
</ul>
<p>xhr.status å³ HTTP çŠ¶æ€ç ï¼Œæœ‰ 2xx 3xx 4xx 5xx è¿™å‡ ç§ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li><p>200 æ­£å¸¸</p>
</li>
<li><p>3xx</p>
<ul>
<li><p>301 æ°¸ä¹…é‡å®šå‘</p>
</li>
<li><p>302 ä¸´æ—¶é‡å®šå‘ã€‚ä¸´æ—¶çš„ï¼Œä¸æ˜¯æ°¸ä¹…çš„</p>
</li>
<li><p>304 èµ„æºæ‰¾åˆ°ä½†æ˜¯ä¸ç¬¦åˆè¯·æ±‚æ¡ä»¶ï¼Œä¸ä¼šè¿”å›ä»»ä½•ä¸»ä½“ã€‚</p>
<p>å¦‚å‘é€ GET è¯·æ±‚æ—¶ï¼Œhead ä¸­æœ‰If-Modified-Since: xxxï¼ˆè¦æ±‚è¿”å›æ›´æ–°æ—¶é—´æ˜¯xxxæ—¶é—´ä¹‹åçš„èµ„æºï¼‰ï¼Œ</p>
<p>å¦‚æœæ­¤æ—¶æœåŠ¡å™¨ ç«¯èµ„æºæœªæ›´æ–°ï¼Œåˆ™ä¼šè¿”å›304ï¼Œå³ä¸ç¬¦åˆè¦æ±‚</p>
</li>
</ul>
</li>
<li><p>404 æ‰¾ä¸åˆ°èµ„æº</p>
</li>
<li><p>5xx æœåŠ¡å™¨ç«¯å‡ºé”™äº†</p>
</li>
</ul>
<h2 id="4-Fetch"><a href="#4-Fetch" class="headerlink" title="4.Fetch"></a>4.Fetch</h2><p>æ›´ç®€æ´çš„ajax å¹¶ä¸”æ”¯æŒPromiseçš„å›è°ƒ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ‹¿åˆ°ä¸€ä¸ªæœ¬åœ°jsonæ–‡ä»¶çš„å†…å®¹</span></span><br><span class="line">fetch(<span class="string">&#x27;./demo.json&#x27;</span>)</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> res.json())</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<h2 id="5-é—­åŒ…"><a href="#5-é—­åŒ…" class="headerlink" title="5.é—­åŒ…"></a>5.é—­åŒ…</h2><p>å‡½æ•°Aä¸­æœ‰å‡½æ•°B</p>
<p>å‡½æ•°Bä¸­ä½¿ç”¨äº†å‡½æ•°Açš„å˜é‡</p>
<p>å‡½æ•°Bå°±è¢«ç§°ä¸ºé—­åŒ…</p>
<h2 id="setTimeout"><a href="#setTimeout" class="headerlink" title="setTimeout"></a>setTimeout</h2><p>æ‰¿æ¥ä»¥ä¸Šé—­åŒ…çš„é—®é¢˜</p>
<p>ç”¨å®šæ—¶å™¨çš„ç¬¬ä¸‰ä¸ªé—®é¢˜å¯ä»¥è§£å†³ä¸€ä¸ªè€ç”Ÿå¸¸è°ˆçš„é—®é¢˜</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(</span><br><span class="line">    (j) =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(j)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="number">100</span>,</span><br><span class="line">    i</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰“å° 0 - 9</span></span><br></pre></td></tr></table></figure>

<h2 id="6-æ·±æ‹·è´"><a href="#6-æ·±æ‹·è´" class="headerlink" title="6.æ·±æ‹·è´"></a>6.æ·±æ‹·è´</h2><p>JSON.parse(JSON.stringify(obj))</p>
<ul>
<li><p>ä¼šå¿½ç•¥undefined</p>
</li>
<li><p>ä¸èƒ½åºåˆ—åŒ–å‡½æ•°</p>
</li>
<li><p>ä¸èƒ½è§£å†³å¾ªç¯å¼•ç”¨çš„å¯¹è±¡</p>
</li>
</ul>
<p>Object.assign({}, obj)</p>
<ul>
<li>æµ…æ‹·è´ åªå®Œæˆäº†å±æ€§çš„æ·±æ‹·è´</li>
</ul>
<h2 id="7-é˜²æŠ–-amp-amp-èŠ‚æµ"><a href="#7-é˜²æŠ–-amp-amp-èŠ‚æµ" class="headerlink" title="7.é˜²æŠ– &amp;&amp; èŠ‚æµ"></a>7.é˜²æŠ– &amp;&amp; èŠ‚æµ</h2><h2 id="8-call-amp-amp-apply-amp-amp-bind"><a href="#8-call-amp-amp-apply-amp-amp-bind" class="headerlink" title="8.call &amp;&amp; apply &amp;&amp; bind"></a>8.call &amp;&amp; apply &amp;&amp; bind</h2><ul>
<li><p>bind è¿”å›ä¸€ä¸ªæ”¹å˜thisçš„å‡½æ•° å¼ºç»‘å®š  æ— æ³•å†ä¿®æ”¹å†…éƒ¨thisçš„æŒ‡å‘</p>
</li>
<li><p>apply ç«‹å³æ‰§è¡Œè¯¥å‡½æ•°  æ¥å—ä¸€ä¸ªå‚æ•°æ•°ç»„</p>
</li>
<li><p>call  ç«‹å³æ‰§è¡Œè¯¥å‡½æ•°  æ¥å—ä¸€ä¸ªå‚æ•°åˆ—è¡¨</p>
</li>
</ul>
<h2 id="10-äº‹ä»¶çš„ä¸‰ä¸ªé˜¶æ®µ"><a href="#10-äº‹ä»¶çš„ä¸‰ä¸ªé˜¶æ®µ" class="headerlink" title="10.äº‹ä»¶çš„ä¸‰ä¸ªé˜¶æ®µ"></a>10.äº‹ä»¶çš„ä¸‰ä¸ªé˜¶æ®µ</h2><p>æ•è· - ç›®æ ‡ - å†’æ³¡</p>
<p>å¯ä»¥ç”¨addEventListenerçš„ç¬¬ä¸‰ä¸ªå‚æ•°æ¥å†³å®šæ˜¯æ•è·è¿˜æ˜¯å†’æ³¡</p>
<p>é»˜è®¤æ˜¯false å†’æ³¡  æ”¹ä¸ºtrue åˆ™ä¸ºæ•è·</p>
<p>äº‹ä»¶ä»£ç†</p>
<p>æ€è·¯ï¼š </p>
<p>å¦‚æœæ˜¯åŠ¨æ€ç”Ÿæˆçš„å…ƒç´  å¯ä»¥è€ƒè™‘åœ¨çˆ¶å…ƒç´ ä¸Šç»‘å®šäº‹ä»¶ </p>
<p>åˆ©ç”¨äº‹ä»¶å†’æ³¡  åœ¨çˆ¶å…ƒç´ å¤„è§¦å‘äº‹ä»¶</p>
<h2 id="11-è·¨åŸŸ"><a href="#11-è·¨åŸŸ" class="headerlink" title="11.è·¨åŸŸ"></a>11.è·¨åŸŸ</h2><p>JSONP</p>
<ul>
<li><p>åˆ©ç”¨scriptæ ‡ç­¾ä¸å—è·¨åŸŸé™åˆ¶</p>
</li>
<li><p>ä»…é™äºgetè¯·æ±‚</p>
</li>
</ul>
<p>document.domain</p>
<ul>
<li><p>é€‚ç”¨äºäºŒçº§åŸŸåç›¸åŒçš„æƒ…å†µ</p>
<p>å¦‚  a.chou.com &amp;&amp; b.chou.com</p>
</li>
</ul>
<h2 id="12-Event-Loop"><a href="#12-Event-Loop" class="headerlink" title="12.Event Loop"></a>12.Event Loop</h2><p>æ‰§è¡Œé¡ºåºï¼š</p>
<p>åŒæ­¥ &gt; å¾®ä»»åŠ¡ &gt; å®ä»»åŠ¡</p>
<p>å¾®ä»»åŠ¡</p>
<ul>
<li><p>process.nextTick</p>
</li>
<li><p>Promise</p>
</li>
<li><p>Object.observe</p>
</li>
<li><p>MutationObserver</p>
</li>
</ul>
<p>å®ä»»åŠ¡</p>
<ul>
<li><p>script </p>
</li>
<li><p>setTimeout</p>
</li>
<li><p>setInterval</p>
</li>
<li><p>I/O</p>
</li>
<li><p>UI rendering</p>
</li>
</ul>
<p>æ‰€ä»¥é¡µé¢çš„scriptæ ‡ç­¾è¦å†™åœ¨é¡µé¢çš„æœ€ä¸‹é¢ é˜²æ­¢é¡µé¢é˜»å¡</p>
<h2 id="13-æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶"><a href="#13-æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶" class="headerlink" title="13.æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶"></a>13.æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶</h2><ul>
<li><p>å¤„ç†HTMLå¹¶æ„å»ºDOMæ ‘</p>
</li>
<li><p>å¤„ç†CSSå¹¶æ„å»ºCSSOMæ ‘</p>
</li>
<li><p>å°†DOMæ ‘å’ŒCSSOMæ ‘åˆå¹¶æˆä¸€æ£µæ¸²æŸ“æ ‘</p>
</li>
<li><p>æ ¹æ®æ¸²æŸ“æ ‘æ¥å¸ƒå±€ è®¡ç®—æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½®</p>
</li>
<li><p>è°ƒç”¨GPUç»˜åˆ¶ åˆæˆå›¾å±‚ æ˜¾ç¤ºåœ¨å±å¹•ä¸Š</p>
</li>
</ul>
<h2 id="14-é‡ç»˜-amp-amp-å›æµ"><a href="#14-é‡ç»˜-amp-amp-å›æµ" class="headerlink" title="14.é‡ç»˜ &amp;&amp; å›æµ"></a>14.é‡ç»˜ &amp;&amp; å›æµ</h2><p>é‡ç»˜ï¼šä¸æ”¹å˜å¤–è§‚ åªæ”¹å˜ä¾‹å¦‚èƒŒæ™¯è‰² é€æ˜åº¦ç­‰</p>
<p>å›æµï¼šå¸ƒå±€æˆ–å‡ ä½•å±æ€§éœ€è¦æ”¹å˜</p>
]]></content>
      <categories>
        <category>Interview</category>
      </categories>
      <tags>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€äº›äº›é¢˜ç›®</title>
    <url>/FE/Interview/Question/</url>
    <content><![CDATA[<h2 id="é€‰æ‹©é¢˜"><a href="#é€‰æ‹©é¢˜" class="headerlink" title="é€‰æ‹©é¢˜"></a>é€‰æ‹©é¢˜</h2><h3 id="case1"><a href="#case1" class="headerlink" title="case1"></a>case1</h3><p>ä»¥ä¸‹è¿™æ®µä»£ç çš„è¾“å‡ºä¸º</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> res = [</span><br><span class="line">  [<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">  [<span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">].reduce(</span><br><span class="line">  (acc, cur) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> acc.concat(cur);</span><br><span class="line">  &#125;,</span><br><span class="line">  [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(res);</span><br></pre></td></tr></table></figure>

<details yellow><summary> <p>æŸ¥çœ‹ç­”æ¡ˆ</p> </summary>
              <div class='content'>
              <figure class="highlight text"><table><tr><td class="code"><pre><span class="line">ç­”æ¡ˆ: [ 1, 2, 0, 1, 2, 3 ]</span><br><span class="line">è§£æ: [1,2]ä¸ºåˆå§‹å€¼ ä¸€å¼€å§‹çš„accå°±æ˜¯[1,2]</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<a id="more"></a>

<h3 id="case2"><a href="#case2" class="headerlink" title="case2"></a>case2</h3><p>ä»¥ä¸‹è¿™æ®µä»£ç çš„è¾“å‡ºä¸º</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAge</span>(<span class="params">age</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (age &gt; <span class="number">18</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> message = <span class="string">&#x27;U are old enough&#x27;</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> message = <span class="string">&#x27;U are too young&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> message;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getAge(<span class="number">21</span>);</span><br></pre></td></tr></table></figure>

<details yellow><summary> <p>æŸ¥çœ‹ç­”æ¡ˆ</p> </summary>
              <div class='content'>
              <figure class="highlight text"><table><tr><td class="code"><pre><span class="line">ç­”æ¡ˆ: ReferenceError</span><br><span class="line">è§£æ: constæœ‰å—çº§ä½œç”¨åŸŸ åœ¨returnè¯­å¥ä¸­ åœ¨å½“å‰ä½œç”¨åŸŸä¸‹æ‰¾ä¸åˆ°messageå˜é‡</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="case3"><a href="#case3" class="headerlink" title="case3"></a>case3</h3><p>ä»¥ä¸‹è¿™æ®µä»£ç çš„è¾“å‡ºä¸º</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> x = (y = <span class="number">10</span>);</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> x);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> y);</span><br></pre></td></tr></table></figure>

<details yellow><summary> <p>æŸ¥çœ‹ç­”æ¡ˆ</p> </summary>
              <div class='content'>
              <figure class="highlight text"><table><tr><td class="code"><pre><span class="line">ç­”æ¡ˆ:  undefined number</span><br><span class="line">è§£æ:  let x = (y = 10) ç›¸å½“äº y = 10 let x = y</span><br><span class="line">      è€Œyåˆ™å˜æˆäº†å…¨å±€å˜é‡ å¯ä»¥ç”¨window.yè·å–åˆ°</span><br><span class="line">      letæœ‰å—çº§ä½œç”¨åŸŸ åœ¨å¤–éƒ¨æ— æ³•è®¿é—®</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="case4"><a href="#case4" class="headerlink" title="case4"></a>case4</h3><p>ä»¥ä¸‹è¿™æ®µä»£ç çš„è¾“å‡ºä¸º</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  name: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.freeze(obj);</span><br><span class="line"></span><br><span class="line">obj.age = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br></pre></td></tr></table></figure>

<details yellow><summary> <p>æŸ¥çœ‹ç­”æ¡ˆ</p> </summary>
              <div class='content'>
              <figure class="highlight text"><table><tr><td class="code"><pre><span class="line">ç­”æ¡ˆ:  &#123; name: &#x27;chou&#x27;, age: 18 &#125;</span><br><span class="line">è§£æ:  Object.freeze(obj)ä½¿å¾—æˆ‘ä»¬æ— æ³•å¯¹objè¿›è¡Œä¿®æ”¹</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="case5"><a href="#case5" class="headerlink" title="case5"></a>case5</h3><p>ä»¥ä¸‹è¿™æ®µä»£ç çš„è¾“å‡ºä¸º</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getParams</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;chou&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> age = <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line">getParams<span class="string">`<span class="subst">$&#123;name&#125;</span> is <span class="subst">$&#123;age&#125;</span> years old`</span>;</span><br></pre></td></tr></table></figure>

<details yellow><summary> <p>æŸ¥çœ‹ç­”æ¡ˆ</p> </summary>
              <div class='content'>
              <figure class="highlight text"><table><tr><td class="code"><pre><span class="line">ç­”æ¡ˆ:  &#123; &#x27;0&#x27;: [ &#x27;&#x27;, &#x27; is &#x27;, &#x27; years old&#x27; ], &#x27;1&#x27;: &#x27;chou&#x27;, &#x27;2&#x27;: 18 &#125;</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="case6"><a href="#case6" class="headerlink" title="case6"></a>case6</h3><p>ä»¥ä¸‹è¿™æ®µä»£ç çš„è¾“å‡ºä¸º</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> colorConfig = &#123;</span><br><span class="line">  red: <span class="literal">true</span>,</span><br><span class="line">  yellow: <span class="literal">false</span>,</span><br><span class="line">  blue: <span class="literal">true</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> color = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(colorConfig.color[<span class="number">1</span>]);</span><br></pre></td></tr></table></figure>

<details yellow><summary> <p>æŸ¥çœ‹ç­”æ¡ˆ</p> </summary>
              <div class='content'>
              <figure class="highlight text"><table><tr><td class="code"><pre><span class="line">ç­”æ¡ˆ:  TypeError</span><br><span class="line">è§£æ:  colorConfig.color[1]ä¼šå…ˆæ‰§è¡ŒcolorConfig.color è¿”å›undefined</span><br><span class="line">      ç„¶åundefined[1] ä¼šè¿”å›Cannot read property &#x27;1&#x27; of undefined</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="case7"><a href="#case7" class="headerlink" title="case7"></a>case7</h3><p>ä»¥ä¸‹è¿™æ®µä»£ç çš„è¾“å‡ºä¸º</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">  [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> item === <span class="string">&#x27;number&#x27;</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">return</span> item * <span class="number">2</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<details yellow><summary> <p>æŸ¥çœ‹ç­”æ¡ˆ</p> </summary>
              <div class='content'>
              <figure class="highlight text"><table><tr><td class="code"><pre><span class="line">ç­”æ¡ˆ:  [ undefined, undefined, undefined ]</span><br><span class="line">è§£æ:  if (typeof item === &#x27;number&#x27;) return è¯­å¥ æ¡ä»¶æˆç«‹ ä½†æ˜¯æ²¡æœ‰è¿”å›å€¼ é»˜è®¤è¿”å›undefined</span><br><span class="line">      return item * 2 ä¸­ item éƒ½å·²ç»æ˜¯undefined</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="case8"><a href="#case8" class="headerlink" title="case8"></a>case8</h3><p>ä»¥ä¸‹è¿™æ®µä»£ç çš„è¾“å‡ºä¸º</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>].map(<span class="built_in">parseInt</span>);</span><br></pre></td></tr></table></figure>

<details yellow><summary> <p>æŸ¥çœ‹ç­”æ¡ˆ</p> </summary>
              <div class='content'>
              <figure class="highlight text"><table><tr><td class="code"><pre><span class="line">ç­”æ¡ˆ:  [ 1, NaN, NaN ]</span><br><span class="line">è§£æ:  è¯¥è¯­å¥åœ¨æ‰§è¡Œæ—¶å€™ ç­‰ä»·äº[&#x27;1&#x27;,&#x27;2&#x27;,&#x27;3&#x27;].map((value,index) =&gt; parseInt(value,index))</span><br><span class="line">parseInt(&#x27;1&#x27;,0) // åŸºæ•°ä¸º0æ—¶ å½“10è¿›åˆ¶æ¥å¤„ç† 1*10^0</span><br><span class="line">parseInt(&#x27;2&#x27;,1) // åŸºæ•°ä¸º1 åªæœ‰ä¸€ä¸ªçŠ¶æ€0 2ä¸åœ¨é‡Œé¢ æ¨å‡ºNaN</span><br><span class="line">parseInt(&#x27;3&#x27;,2) // åŸºæ•°ä¸º2 çŠ¶æ€æœ‰0 1 2 æ¨å‡º3ä¸åœ¨é‡Œé¢ NaN</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="case8-1"><a href="#case8-1" class="headerlink" title="case8"></a>case8</h3><p>ä»¥ä¸‹è¿™æ®µä»£ç çš„è¾“å‡ºä¸º</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="number">10</span>(<span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  b = <span class="number">20</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(b);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<details yellow><summary> <p>æŸ¥çœ‹ç­”æ¡ˆ</p> </summary>
              <div class='content'>
              <figure class="highlight text"><table><tr><td class="code"><pre><span class="line">ç­”æ¡ˆ:  [Function: b]</span><br><span class="line">è§£æ:  æ˜¾ç„¶ å¹²æ‰°æˆ‘ä»¬çš„åªæœ‰ç«‹å³æ‰§è¡Œå‡½æ•°å†…éƒ¨çš„b = 20 è¿™æ¡è¯­å¥åˆ°åº•æœ‰æ²¡æœ‰èµ‹å€¼æˆåŠŸ</span><br><span class="line">      ç­”æ¡ˆæ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°æ— æ³•è¢«èµ‹å€¼ å› ä¸ºJSå†…éƒ¨å°†ç«‹å³è°ƒç”¨å‡½æ•°å½“æˆäº†constå®šä¹‰çš„å¸¸é‡</span><br><span class="line">      æˆ‘ä»¬å¯ä»¥åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ æµ‹è¯•è¿™æ®µä»£ç </span><br><span class="line">      var b = 10</span><br><span class="line">      (function b () &#123;</span><br><span class="line">        &#x27;use strict&#x27;</span><br><span class="line">        b = 20</span><br><span class="line">        console.log(b)</span><br><span class="line">      &#125;)()</span><br><span class="line">      æˆ‘ä»¬å¯ä»¥çœ‹åˆ° æ§åˆ¶å°é©¬ä¸Šå°±ç»™æˆ‘ä»¬åé¦ˆäº†ä¸€ä¸ªTypeError: Assignment to constant variable.</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="case9"><a href="#case9" class="headerlink" title="case9"></a>case9</h3><p>ä»¥ä¸‹è¿™æ®µä»£ç çš„è¾“å‡ºä¸º</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="number">2</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="number">3</span>: <span class="number">4</span>,</span><br><span class="line">  length: <span class="number">2</span>,</span><br><span class="line">  splice: <span class="built_in">Array</span>.prototype.splice,</span><br><span class="line">  push: <span class="built_in">Array</span>.prototype.push,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.push(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br></pre></td></tr></table></figure>

<details yellow><summary> <p>æŸ¥çœ‹ç­”æ¡ˆ</p> </summary>
              <div class='content'>
              <figure class="highlight text"><table><tr><td class="code"><pre><span class="line">ç­”æ¡ˆ:  &#123;</span><br><span class="line">        &#x27;2&#x27;: 1,</span><br><span class="line">        &#x27;3&#x27;: 4,</span><br><span class="line">        length: 3,</span><br><span class="line">        splice: [Function: splice],</span><br><span class="line">        push: [Function: push]</span><br><span class="line">      &#125;</span><br><span class="line">è§£æ:  åªæœ‰ä¸€ä¸ªå¯¹è±¡æœ‰spliceå°±ä¼šå˜æˆä¼ªæ•°ç»„</span><br><span class="line">      è¿™ä¸€é¢˜çš„pushä¼šä½¿length+1 ç„¶ååœ¨ä¸‹æ ‡ä¸ºlengthçš„åœ°æ–¹æ’å…¥æ–°å€¼</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="case10"><a href="#case10" class="headerlink" title="case10"></a>case10</h3><p>ä»¥ä¸‹è¿™æ®µä»£ç çš„è¾“å‡ºä¸º</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  name: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> changeAge = <span class="function">(<span class="params">x = &#123; ...person &#125;</span>) =&gt;</span> (x.age += <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> changeAgeAndName = <span class="function">(<span class="params">x = &#123; ...person &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  x.age += <span class="number">1</span>;</span><br><span class="line">  x.name = <span class="string">&#x27;Sam&#x27;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">changeAge(person);</span><br><span class="line">changeAgeAndName();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br></pre></td></tr></table></figure>

<details yellow><summary> <p>æŸ¥çœ‹ç­”æ¡ˆ</p> </summary>
              <div class='content'>
              <figure class="highlight text"><table><tr><td class="code"><pre><span class="line">ç­”æ¡ˆ:  &#123; name: &#x27;chou&#x27;, age: 19 &#125;</span><br><span class="line">è§£æ:  ç¬¬ä¸€å¤„å‡½æ•°è°ƒç”¨æˆ‘ä»¬ä¼ å…¥äº†å‚æ•° è€Œå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ æ–¹æ³•ä½“ä¸­çš„æ“ä½œä¼šç›´æ¥å½±å“åˆ°è¿™ä¸ªå¯¹è±¡</span><br><span class="line">      è€Œç¬¬äºŒå¤„å‡½æ•°è°ƒç”¨æˆ‘ä»¬æ²¡æœ‰ä¼ å…¥å‚æ•°  ä½†æ˜¯å®ƒæœ‰é»˜è®¤å€¼ personå¯¹è±¡çš„ä¸€ä¸ªæ‹·è´ æ‰€ä»¥ä¸ä¼šå½±å“åˆ°æˆ‘ä»¬æœ€ç»ˆçš„</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h2 id="æ‰‹å†™é¢˜"><a href="#æ‰‹å†™é¢˜" class="headerlink" title="æ‰‹å†™é¢˜"></a>æ‰‹å†™é¢˜</h2><h3 id="Promise-å®ç°çº¢ç»¿ç¯äº¤æ›¿"><a href="#Promise-å®ç°çº¢ç»¿ç¯äº¤æ›¿" class="headerlink" title="Promise å®ç°çº¢ç»¿ç¯äº¤æ›¿"></a>Promise å®ç°çº¢ç»¿ç¯äº¤æ›¿</h3><blockquote>
<p>çº¢ç¯ä¸‰ç§’äº®ä¸€æ¬¡ï¼Œç»¿ç¯ä¸€ç§’äº®ä¸€æ¬¡ï¼Œé»„ç¯ 2 ç§’äº®ä¸€æ¬¡ï¼›å¦‚ä½•è®©ä¸‰ä¸ªç¯ä¸æ–­äº¤æ›¿é‡å¤äº®ç¯ï¼Ÿï¼ˆç”¨ Promise å®ç°ï¼‰</p>
</blockquote>
<details yellow><summary> <p>æŸ¥çœ‹ç­”æ¡ˆ</p> </summary>
              <div class='content'>
              <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">red</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;red&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">green</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;green&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">yellow</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;yellow&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">light</span>(<span class="params">timer, cb</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      resolve(cb());</span><br><span class="line">    &#125;, timer);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">step</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  light(<span class="number">3000</span>, red)</span><br><span class="line">    .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> light(<span class="number">2000</span>, green);</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> light(<span class="number">1000</span>, yellow);</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      step();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">step();</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="æœ€å¤§å…¬å…±å­ä¸²"><a href="#æœ€å¤§å…¬å…±å­ä¸²" class="headerlink" title="æœ€å¤§å…¬å…±å­ä¸²"></a>æœ€å¤§å…¬å…±å­ä¸²</h3><blockquote>
<p>input : [â€˜floorâ€™, â€˜flowerâ€™, â€˜flowâ€™] ===&gt; output: flo</p>
</blockquote>
<details yellow><summary> <p>æŸ¥çœ‹ç­”æ¡ˆ</p> </summary>
              <div class='content'>
              <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCommon</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> idx = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> str = arr[<span class="number">0</span>].slice(<span class="number">0</span>, idx);</span><br><span class="line">  <span class="keyword">while</span> (arr.every(<span class="function">(<span class="params">item</span>) =&gt;</span> item.includes(str))) &#123;</span><br><span class="line">    <span class="keyword">if</span> (str === arr[<span class="number">0</span>]) &#123;</span><br><span class="line">      <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line">    str = arr[<span class="number">0</span>].slice(<span class="number">0</span>, ++idx);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> str.slice(<span class="number">0</span>, str.length - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="åè½¬å­—ç¬¦ä¸²"><a href="#åè½¬å­—ç¬¦ä¸²" class="headerlink" title="åè½¬å­—ç¬¦ä¸²"></a>åè½¬å­—ç¬¦ä¸²</h3><blockquote>
<p>åè½¬å­—ç¬¦ä¸² å¤šä¸ªç©ºæ ¼æœ€ååªæ˜¾ç¤ºä¸€ä¸ª<br>input : hello lucky chou! ===&gt; chou! lucky hello</p>
</blockquote>
<details yellow><summary> <p>æŸ¥çœ‹ç­”æ¡ˆ</p> </summary>
              <div class='content'>
              <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reverse</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> res = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="keyword">const</span> arr = str</span><br><span class="line">    .trim()</span><br><span class="line">    .split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    .reduce(<span class="function">(<span class="params">prev, curr</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (curr.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        prev.push(curr);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> prev;</span><br><span class="line">    &#125;, [])</span><br><span class="line">    .reverse()</span><br><span class="line">    .forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      res += item + <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> res.trim();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="æ¨¡æ¿å­—ç¬¦ä¸²"><a href="#æ¨¡æ¿å­—ç¬¦ä¸²" class="headerlink" title="æ¨¡æ¿å­—ç¬¦ä¸²"></a>æ¨¡æ¿å­—ç¬¦ä¸²</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">temp(<span class="string">&#x27;hello i am $&#123;name&#125; i like $&#123;sport&#125;&#x27;</span>, &#123;</span><br><span class="line">  sport: <span class="string">&#x27;basketball&#x27;</span>,</span><br><span class="line">  name: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<details yellow><summary> <p>æŸ¥çœ‹ç­”æ¡ˆ</p> </summary>
              <div class='content'>
              <p>å¯¹æ­£åˆ™ä¸å¤ªç†Ÿæ‚‰ æš‚æ—¶æƒ³åˆ°äº†è¿™ç§è§£æ³•</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">temp</span>(<span class="params">str, obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (str.includes(key)) &#123;</span><br><span class="line">      str = str.replace(key, obj[key]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  str = str.replace(<span class="regexp">/\$&#123;/g</span>, <span class="string">&#x27;&#x27;</span>).replace(<span class="regexp">/\&#125;/g</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">  <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
              </div>
            </details>
]]></content>
      <categories>
        <category>Interview</category>
      </categories>
      <tags>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title>åº”çŸ¥åº”ä¼š Vue</title>
    <url>/FE/Interview/Vue/</url>
    <content><![CDATA[<h2 id="1-MVVMï¼ˆæ•°æ®é©±åŠ¨è§†å›¾çš„æ–¹å¼ï¼‰"><a href="#1-MVVMï¼ˆæ•°æ®é©±åŠ¨è§†å›¾çš„æ–¹å¼ï¼‰" class="headerlink" title="1.MVVMï¼ˆæ•°æ®é©±åŠ¨è§†å›¾çš„æ–¹å¼ï¼‰"></a>1.MVVMï¼ˆæ•°æ®é©±åŠ¨è§†å›¾çš„æ–¹å¼ï¼‰</h2><img src="http://images4.10qianwan.com/10qianwan/20190608/b_0_201906080345393289.jpg"  />

<ul>
<li><p>MVVM æ˜¯ Model-View-ViewModel çš„ç¼©å†™</p>
</li>
<li><p>Modelï¼šä»£è¡¨æ•°æ®æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥åœ¨ Model ä¸­å®šä¹‰æ•°æ®ä¿®æ”¹å’Œæ“ä½œçš„ä¸šåŠ¡é€»è¾‘ã€‚</p>
<p>æˆ‘ä»¬æŠŠ Model ç§°ä¸ºæ•°æ®å±‚ï¼Œå› ä¸ºå®ƒåªå…³å¿ƒæ•°æ®ï¼Œä¸å…³å¿ƒå…¶ä»–ä»»ä½•è¡Œä¸º</p>
</li>
<li><p>Viewï¼šç”¨æˆ·æ“ä½œç•Œé¢ã€‚å½“ ViewModel å¯¹ Model è¿›è¡Œæ›´æ–°çš„æ—¶å€™ï¼Œä¼šé€šè¿‡æ•°æ®ç»‘å®šæ›´æ–°åˆ° View</p>
</li>
<li><p>ViewModelï¼šä¸šåŠ¡é€»è¾‘å±‚ï¼ŒView éœ€è¦ä»€ä¹ˆæ•°æ®ï¼ŒViewModel è¦æä¾›è¿™ä¸ªæ•°æ®ï¼›</p>
<p>View æœ‰æŸäº›æ“ä½œï¼ŒViewModel å°±è¦å“åº”è¿™äº›æ“ä½œ</p>
</li>
</ul>
<p>MVVM æ¨¡å¼ç®€åŒ–äº†ç•Œé¢äºä¸šåŠ¡çš„ä¾èµ–ï¼Œè§£å†³äº†æ•°æ®é¢‘ç¹æ›´æ–°</p>
<p>MVVM åˆ©ç”¨æ•°æ®çš„åŒå‘ç»‘å®š</p>
<p>ä½¿å¾— Model å˜åŒ–æ—¶ ViewModel ä¼šè‡ªåŠ¨æ›´æ–°</p>
<p>è€Œ ViewModel å˜åŒ–æ—¶ï¼ŒView ä¹Ÿä¼šè‡ªåŠ¨å˜åŒ–</p>
<a id="more"></a>

<h2 id="2-Vue-ç”Ÿå‘½å‘¨æœŸ"><a href="#2-Vue-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="2.Vue ç”Ÿå‘½å‘¨æœŸ"></a>2.Vue ç”Ÿå‘½å‘¨æœŸ</h2><blockquote>
<p>æ€»å…±åˆ†ä¸º 8 ä¸ªé˜¶æ®µ åˆ›å»ºå‰/å è½½å…¥å‰/å æ›´æ–°å‰/å é”€æ¯å‰/å</p>
</blockquote>
<p>å„ä¸ªç”Ÿå‘½å‘¨æœŸçš„ä½œç”¨</p>
<table>
<thead>
<tr>
<th>ç”Ÿå‘½å‘¨æœŸ</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>beforeCreate</td>
<td>ç»„ä»¶å®ä¾‹è¢«åˆ›å»ºä¹‹åˆï¼Œç»„ä»¶çš„å±æ€§ç”Ÿæ•ˆä¹‹å‰</td>
</tr>
<tr>
<td>created</td>
<td>ç»„ä»¶å®ä¾‹å·²ç»å®Œå…¨åˆ›å»ºï¼Œå±æ€§ä¹Ÿç»‘å®šï¼Œä½†çœŸå® dom è¿˜æ²¡æœ‰ç”Ÿæˆï¼Œ$el è¿˜ä¸å¯ç”¨</td>
</tr>
<tr>
<td>beforeMount</td>
<td>åœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼šç›¸å…³çš„ render å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨</td>
</tr>
<tr>
<td>mounted</td>
<td>el è¢«æ–°åˆ›å»ºçš„ vm.$el æ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨è¯¥é’©å­</td>
</tr>
<tr>
<td>beforeUpdate</td>
<td>ç»„ä»¶æ•°æ®æ›´æ–°ä¹‹å‰è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM æ‰“è¡¥ä¸ä¹‹å‰</td>
</tr>
<tr>
<td>update</td>
<td>ç»„ä»¶æ•°æ®æ›´æ–°ä¹‹å</td>
</tr>
<tr>
<td>activited</td>
<td>keep-alive ä¸“å±ï¼Œç»„ä»¶è¢«æ¿€æ´»æ—¶è°ƒç”¨</td>
</tr>
<tr>
<td>deadctivated</td>
<td>keep-alive ä¸“å±ï¼Œç»„ä»¶è¢«é”€æ¯æ—¶è°ƒç”¨</td>
</tr>
<tr>
<td>beforeDestory</td>
<td>ç»„ä»¶é”€æ¯å‰è°ƒç”¨</td>
</tr>
<tr>
<td>destoryed</td>
<td>ç»„ä»¶é”€æ¯åè°ƒç”¨</td>
</tr>
</tbody></table>
<br>

<img src="http://poetries1.gitee.io/img-repo/2020/07/61.png">

<br>

<h2 id="3-Vue2-x-å®ç°æ•°æ®åŒå‘ç»‘å®šçš„åŸç†"><a href="#3-Vue2-x-å®ç°æ•°æ®åŒå‘ç»‘å®šçš„åŸç†" class="headerlink" title="3.Vue2.x å®ç°æ•°æ®åŒå‘ç»‘å®šçš„åŸç†"></a>3.Vue2.x å®ç°æ•°æ®åŒå‘ç»‘å®šçš„åŸç†</h2><p>Object.defineProperty æ•°æ®åŠ«æŒ + å‘å¸ƒè€…è®¢é˜…è€…æ¨¡å¼</p>
<h2 id="4-Vue-ç»„ä»¶é—´çš„å‚æ•°ä¼ é€’"><a href="#4-Vue-ç»„ä»¶é—´çš„å‚æ•°ä¼ é€’" class="headerlink" title="4.Vue ç»„ä»¶é—´çš„å‚æ•°ä¼ é€’"></a>4.Vue ç»„ä»¶é—´çš„å‚æ•°ä¼ é€’</h2><p>çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶ä¼ å€¼</p>
<ul>
<li><p>çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶ï¼šå­ç»„ä»¶é€šè¿‡ props æ–¹æ³•æ¥å—æ•°æ®</p>
</li>
<li><p>å­ç»„ä»¶ä¼ ç»™çˆ¶ç»„ä»¶ï¼šå­ç»„ä»¶é€šè¿‡$emit è‡ªå®šä¹‰äº‹ä»¶</p>
</li>
</ul>
<h2 id="5-Vue-çš„è·¯ç”±å®ç°ï¼šhash-æ¨¡å¼å’Œ-history-æ¨¡å¼"><a href="#5-Vue-çš„è·¯ç”±å®ç°ï¼šhash-æ¨¡å¼å’Œ-history-æ¨¡å¼" class="headerlink" title="5.Vue çš„è·¯ç”±å®ç°ï¼šhash æ¨¡å¼å’Œ history æ¨¡å¼"></a>5.Vue çš„è·¯ç”±å®ç°ï¼šhash æ¨¡å¼å’Œ history æ¨¡å¼</h2><ul>
<li><p>hash æ¨¡å¼ï¼š# ç”¨ window.location.hash è¯»å–</p>
</li>
<li><p>history æ¨¡å¼ï¼š pushState å’Œ replaceState æ˜¯ä¸€ä¸ªæ ˆæ“ä½œ</p>
</li>
</ul>
<h2 id="6-Vuex"><a href="#6-Vuex" class="headerlink" title="6.Vuex"></a>6.Vuex</h2><ul>
<li><p>åªç”¨æ¥è¯»å–çš„çŠ¶æ€é›†ä¸­æ”¾åœ¨ store ä¸­</p>
</li>
<li><p>æ”¹å˜çŠ¶æ€çš„æ–¹å¼æ˜¯æäº¤ mutationsï¼Œè¿™æ˜¯ä¸ªåŒæ­¥çš„äº‹ç‰©ï¼›å¼‚æ­¥é€»è¾‘åº”è¯¥å°è£…åœ¨ action ä¸­</p>
</li>
<li><p>stateï¼šVuex ä½¿ç”¨å•ä¸€çŠ¶æ€æ ‘,å³æ¯ä¸ªåº”ç”¨å°†ä»…ä»…åŒ…å«ä¸€ä¸ª store å®ä¾‹ï¼Œä½†å•ä¸€çŠ¶æ€æ ‘å’Œæ¨¡å—åŒ–å¹¶ä¸å†²çªã€‚</p>
<p>å­˜æ”¾çš„æ•°æ®çŠ¶æ€ï¼Œä¸å¯ä»¥ç›´æ¥ä¿®æ”¹é‡Œé¢çš„æ•°æ®ã€‚</p>
</li>
<li><p>mutationsï¼šmutations å®šä¹‰çš„æ–¹æ³•åŠ¨æ€ä¿®æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€æˆ–æ•°æ®</p>
</li>
<li><p>gettersï¼šç±»ä¼¼ vue çš„è®¡ç®—å±æ€§ï¼Œä¸»è¦ç”¨æ¥è¿‡æ»¤ä¸€äº›æ•°æ®ã€‚</p>
</li>
<li><p>actionï¼šactions å¯ä»¥ç†è§£ä¸ºé€šè¿‡å°† mutations é‡Œé¢å¤„é‡Œæ•°æ®çš„æ–¹æ³•å˜æˆå¯å¼‚æ­¥çš„å¤„ç†æ•°æ®çš„æ–¹æ³•ï¼Œç®€å•çš„è¯´å°±æ˜¯å¼‚æ­¥æ“ä½œæ•°æ®ã€‚</p>
<p>view å±‚é€šè¿‡ store.dispath æ¥åˆ†å‘ action</p>
</li>
</ul>
<h2 id="7-v-if-å’Œ-v-show-åŒºåˆ«"><a href="#7-v-if-å’Œ-v-show-åŒºåˆ«" class="headerlink" title="7.v-if å’Œ v-show åŒºåˆ«"></a>7.v-if å’Œ v-show åŒºåˆ«</h2><ul>
<li><p>v-if æŒ‰ç…§æ¡ä»¶æ˜¯å¦æ¸²æŸ“ ï¼ˆä¸ä¸€å®šæ¸²æŸ“ï¼‰</p>
</li>
<li><p>v-show æ˜¯ display çš„ block æˆ– none ï¼ˆä¸€å®šæ¸²æŸ“ï¼‰</p>
</li>
</ul>
<h2 id="8-routeå’Œ-router-çš„åŒºåˆ«"><a href="#8-routeå’Œ-router-çš„åŒºåˆ«" class="headerlink" title="8.$routeå’Œ$router çš„åŒºåˆ«"></a>8.$routeå’Œ$router çš„åŒºåˆ«</h2><ul>
<li><p>$router æ˜¯è·¯ç”±å®ä¾‹ åŒ…æ‹¬äº†è·¯ç”±çš„è·³è½¬æ–¹æ³•ï¼Œé’©å­å‡½æ•°ç­‰</p>
</li>
<li><p>$route æ˜¯è·¯ç”±ä¿¡æ¯å¯¹è±¡ï¼ŒåŒ…æ‹¬ pathã€params ç­‰</p>
</li>
</ul>
<h2 id="9-å¦‚ä½•è®©-CSS-åªåœ¨å½“å‰ç»„ä»¶èµ·ä½œç”¨"><a href="#9-å¦‚ä½•è®©-CSS-åªåœ¨å½“å‰ç»„ä»¶èµ·ä½œç”¨" class="headerlink" title="9.å¦‚ä½•è®© CSS åªåœ¨å½“å‰ç»„ä»¶èµ·ä½œç”¨"></a>9.å¦‚ä½•è®© CSS åªåœ¨å½“å‰ç»„ä»¶èµ·ä½œç”¨</h2><p>ç»„ä»¶å†…çš„ style æ ‡ç­¾æ·»åŠ  scoped å¦‚æœä¸æ·»åŠ  åˆ™é»˜è®¤ä¸ºå…¨å±€æ ·å¼</p>
<h2 id="10-scoped-æ ·å¼ç©¿é€"><a href="#10-scoped-æ ·å¼ç©¿é€" class="headerlink" title="10.scoped æ ·å¼ç©¿é€"></a>10.scoped æ ·å¼ç©¿é€</h2><blockquote>
<p>scoped è™½ç„¶é¿å…äº†ç»„ä»¶ä¹‹é—´çš„æ ·å¼æ±¡æŸ“ï¼Œä½†æ˜¯å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦ä¿®æ”¹ç»„ä»¶ä¸­çš„æŸä¸ªæ ·å¼ï¼Œä½†æ˜¯åˆä¸æƒ³å»é™¤ scoped å±æ€§</p>
</blockquote>
<p>å°¤å…¶æ˜¯åœ¨ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„ UI åº“ä¿®æ”¹å…¶æ ·å¼æ—¶</p>
<p>è§£å†³ï¼š</p>
<ul>
<li>ä½¿ç”¨/deep/</li>
</ul>
<h2 id="11-lt-keep-alive-gt-çš„ä½œç”¨"><a href="#11-lt-keep-alive-gt-çš„ä½œç”¨" class="headerlink" title="11.&lt;keep-alive&gt;çš„ä½œç”¨"></a>11.<code>&lt;keep-alive&gt;</code>çš„ä½œç”¨</h2><blockquote>
<p>keep-alive å¯ä»¥å®ç°ç»„ä»¶ç¼“å­˜ï¼Œå½“ç»„ä»¶åˆ‡æ¢æ—¶ä¸ä¼šå¯¹å½“å‰ç»„ä»¶è¿›è¡Œå¸è½½</p>
</blockquote>
<ul>
<li><code>&lt;keep-alive&gt;&lt;/keep-alive&gt;</code> åŒ…è£¹åŠ¨æ€ç»„ä»¶æ—¶ï¼Œä¼šç¼“å­˜ä¸æ´»åŠ¨çš„ç»„ä»¶å®ä¾‹,ä¸»è¦ç”¨äºä¿ç•™ç»„ä»¶çŠ¶æ€æˆ–é¿å…é‡æ–°æ¸²æŸ“</li>
</ul>
<blockquote>
<p>æ¯”å¦‚æœ‰ä¸€ä¸ªåˆ—è¡¨å’Œä¸€ä¸ªè¯¦æƒ…ï¼Œé‚£ä¹ˆç”¨æˆ·å°±ä¼šç»å¸¸æ‰§è¡Œæ‰“å¼€è¯¦æƒ…=&gt;è¿”å›åˆ—è¡¨=&gt;æ‰“å¼€è¯¦æƒ…â€¦è¿™æ ·çš„è¯åˆ—è¡¨å’Œè¯¦æƒ…éƒ½æ˜¯ä¸€ä¸ªé¢‘ç‡å¾ˆé«˜çš„é¡µé¢ï¼Œ</p>
</blockquote>
<p>é‚£ä¹ˆå°±å¯ä»¥å¯¹åˆ—è¡¨ç»„ä»¶ä½¿ç”¨<code>&lt;keep-alive&gt;&lt;/keep-alive&gt;</code>è¿›è¡Œç¼“å­˜ï¼Œè¿™æ ·ç”¨æˆ·æ¯æ¬¡è¿”å›åˆ—è¡¨çš„æ—¶å€™ï¼Œéƒ½èƒ½ä»ç¼“å­˜ä¸­å¿«é€Ÿæ¸²æŸ“ï¼Œè€Œä¸æ˜¯é‡æ–°æ¸²æŸ“</p>
<ul>
<li><p>å¸¸ç”¨çš„ä¸¤ä¸ªå±æ€§<code>include/exclude</code>ï¼Œå…è®¸ç»„ä»¶æœ‰æ¡ä»¶çš„è¿›è¡Œç¼“å­˜</p>
</li>
<li><p>ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸ<code>activated/deactivated</code>ï¼Œç”¨æ¥å¾—çŸ¥å½“å‰ç»„ä»¶æ˜¯å¦å¤„äºæ´»è·ƒçŠ¶æ€</p>
</li>
</ul>
<h2 id="12-åœ¨-Vue-ä¸­ä½¿ç”¨æ’ä»¶çš„æ­¥éª¤"><a href="#12-åœ¨-Vue-ä¸­ä½¿ç”¨æ’ä»¶çš„æ­¥éª¤" class="headerlink" title="12.åœ¨ Vue ä¸­ä½¿ç”¨æ’ä»¶çš„æ­¥éª¤"></a>12.åœ¨ Vue ä¸­ä½¿ç”¨æ’ä»¶çš„æ­¥éª¤</h2><ul>
<li><p>import from å¯¼å…¥è¯¥æ’ä»¶</p>
</li>
<li><p>Vue.use(xxx)</p>
<p>è¯¥æ–¹æ³•ä¼šåœ¨å†…éƒ¨è°ƒç”¨æ’ä»¶çš„ install æ–¹æ³•</p>
</li>
</ul>
<h2 id="13-Vue-ç»„ä»¶ä¸­çš„-data-ä¸ºä»€ä¹ˆå¿…é¡»æ˜¯å‡½æ•°"><a href="#13-Vue-ç»„ä»¶ä¸­çš„-data-ä¸ºä»€ä¹ˆå¿…é¡»æ˜¯å‡½æ•°" class="headerlink" title="13.Vue ç»„ä»¶ä¸­çš„ data ä¸ºä»€ä¹ˆå¿…é¡»æ˜¯å‡½æ•°"></a>13.Vue ç»„ä»¶ä¸­çš„ data ä¸ºä»€ä¹ˆå¿…é¡»æ˜¯å‡½æ•°</h2><ul>
<li><p>æ¯ä¸ªç»„ä»¶éƒ½æ˜¯ Vue çš„å®ä¾‹</p>
</li>
<li><p>ç»„ä»¶å…±äº« data å±æ€§ï¼Œå½“ data çš„å€¼æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹æ—¶ï¼Œæ”¹å˜å…¶ä¸­ä¸€ä¸ªä¼šå½±å“å…¶ä»–</p>
</li>
</ul>
<h2 id="14-vue-router-æœ‰å“ªå‡ ç§å¯¼èˆªå®ˆå«"><a href="#14-vue-router-æœ‰å“ªå‡ ç§å¯¼èˆªå®ˆå«" class="headerlink" title="14.vue-router æœ‰å“ªå‡ ç§å¯¼èˆªå®ˆå«"></a>14.vue-router æœ‰å“ªå‡ ç§å¯¼èˆªå®ˆå«</h2><blockquote>
<p>å…¨å±€å‰ç½®å®ˆå« router.beforeEach</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123; ... &#125;)</span><br><span class="line"></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>to: Route</code>: å³å°†è¦è¿›å…¥çš„ç›®æ ‡ï¼ˆè·¯ç”±å¯¹è±¡ï¼‰</p>
</li>
<li><p><code>from: Route</code>: å½“å‰å¯¼èˆªæ­£è¦ç¦»å¼€çš„è·¯ç”±</p>
</li>
<li><p><code>next: Function</code>: ä¸€å®šè¦è°ƒç”¨è¯¥æ–¹æ³•æ¥ <code>resolve</code> è¿™ä¸ªé’©å­ã€‚ï¼ˆä¸€å®šè¦ç”¨è¿™ä¸ªå‡½æ•°æ‰èƒ½å»åˆ°ä¸‹ä¸€ä¸ªè·¯ç”±ï¼Œå¦‚æœä¸ç”¨å°±æ‹¦æˆªï¼‰</p>
</li>
<li><p>æ‰§è¡Œæ•ˆæœä¾èµ– next æ–¹æ³•çš„è°ƒç”¨å‚æ•°ã€‚</p>
</li>
<li><p><code>next()</code>: è¿›è¡Œç®¡é“ä¸­çš„ä¸‹ä¸€ä¸ªé’©å­ã€‚å¦‚æœå…¨éƒ¨é’©å­æ‰§è¡Œå®Œäº†ï¼Œåˆ™å¯¼èˆªçš„çŠ¶æ€å°±æ˜¯ confirmed (ç¡®è®¤çš„)ã€‚</p>
</li>
<li><p><code>next(false)</code>:å–æ¶ˆè¿›å…¥è·¯ç”±ï¼Œurl åœ°å€é‡ç½®ä¸º from è·¯ç”±åœ°å€(ä¹Ÿå°±æ˜¯å°†è¦ç¦»å¼€çš„è·¯ç”±åœ°å€)</p>
</li>
</ul>
<blockquote>
<p>å…¨å±€è§£æå®ˆå«</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123; ... &#125;)</span><br><span class="line"></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å…¨å±€åç½®é’©å­</p>
</blockquote>
<p>ä½ ä¹Ÿå¯ä»¥æ³¨å†Œå…¨å±€åç½®é’©å­ï¼Œç„¶è€Œå’Œå®ˆå«ä¸åŒçš„æ˜¯ï¼Œè¿™äº›é’©å­ä¸ä¼šæ¥å— next å‡½æ•°ä¹Ÿä¸ä¼šæ”¹å˜å¯¼èˆªæœ¬èº«ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">router.afterEach(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è·¯ç”±ç‹¬äº«çš„å®ˆå«</p>
</blockquote>
<p>ä½ å¯ä»¥åœ¨è·¯ç”±é…ç½®ä¸Šç›´æ¥å®šä¹‰ beforeEnter å®ˆå«ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">&#x27;/foo&#x27;</span>,</span><br><span class="line">      component: Foo,</span><br><span class="line">      beforeEnter: <span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç»„ä»¶å†…çš„å®ˆå«</p>
</blockquote>
<ul>
<li><p>beforeRouteEnter</p>
</li>
<li><p>beforeRouteUpdate (2.2 æ–°å¢)</p>
</li>
<li><p>beforeRouteLeave</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Foo = &#123;</span><br><span class="line">  template: <span class="string">`...`</span>,</span><br><span class="line">  <span class="function"><span class="title">beforeRouteEnter</span>(<span class="params">to, <span class="keyword">from</span>, next</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// åœ¨æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢« confirm å‰è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸ï¼èƒ½ï¼è·å–ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">    <span class="comment">// å› ä¸ºå½“å®ˆå«æ‰§è¡Œå‰ï¼Œç»„ä»¶å®ä¾‹è¿˜æ²¡è¢«åˆ›å»º</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">beforeRouteUpdate</span>(<span class="params">to, <span class="keyword">from</span>, next</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªå¸¦æœ‰åŠ¨æ€å‚æ•°çš„è·¯å¾„ /foo/:idï¼Œåœ¨ /foo/1 å’Œ /foo/2 ä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œ</span></span><br><span class="line">    <span class="comment">// ç”±äºä¼šæ¸²æŸ“åŒæ ·çš„ Foo ç»„ä»¶ï¼Œå› æ­¤ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚è€Œè¿™ä¸ªé’©å­å°±ä¼šåœ¨è¿™ä¸ªæƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚</span></span><br><span class="line">    <span class="comment">// å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">beforeRouteLeave</span>(<span class="params">to, <span class="keyword">from</span>, next</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="15-watch-vs-computed"><a href="#15-watch-vs-computed" class="headerlink" title="15.watch vs computed"></a>15.watch vs computed</h2><p><strong>computed:</strong></p>
<ul>
<li><p>computed æ˜¯è®¡ç®—å±æ€§,ä¹Ÿå°±æ˜¯è®¡ç®—å€¼,å®ƒæ›´å¤šç”¨äºè®¡ç®—å€¼çš„åœºæ™¯</p>
</li>
<li><p>computed å…·æœ‰ç¼“å­˜æ€§,computed çš„å€¼åœ¨ getter æ‰§è¡Œåæ˜¯ä¼šç¼“å­˜çš„ï¼Œåªæœ‰åœ¨å®ƒä¾èµ–çš„å±æ€§å€¼æ”¹å˜ä¹‹åï¼Œ</p>
<p>ä¸‹ä¸€æ¬¡è·å– computed çš„å€¼æ—¶æ‰ä¼šé‡æ–°è°ƒç”¨å¯¹åº”çš„ getter æ¥è®¡ç®— computed é€‚ç”¨äºè®¡ç®—æ¯”è¾ƒæ¶ˆè€—æ€§èƒ½çš„è®¡ç®—åœºæ™¯</p>
</li>
</ul>
<p><strong>watch:</strong></p>
<ul>
<li><p>æ›´å¤šçš„æ˜¯ã€Œè§‚å¯Ÿã€çš„ä½œç”¨,ç±»ä¼¼äºæŸäº›æ•°æ®çš„ç›‘å¬å›è°ƒ,ç”¨äºè§‚å¯Ÿ props $emit æˆ–è€…æœ¬ç»„ä»¶çš„å€¼,</p>
<p>å½“æ•°æ®å˜åŒ–æ—¶æ¥æ‰§è¡Œå›è°ƒè¿›è¡Œåç»­æ“ä½œ</p>
</li>
<li><p>æ— ç¼“å­˜æ€§ï¼Œé¡µé¢é‡æ–°æ¸²æŸ“æ—¶å€¼ä¸å˜åŒ–ä¹Ÿä¼šæ‰§è¡Œ</p>
</li>
</ul>
<p><strong>å°ç»“:</strong></p>
<ul>
<li><p>å½“æˆ‘ä»¬è¦è¿›è¡Œæ•°å€¼è®¡ç®—,è€Œä¸”ä¾èµ–äºå…¶ä»–æ•°æ®ï¼Œé‚£ä¹ˆæŠŠè¿™ä¸ªæ•°æ®è®¾è®¡ä¸º computed</p>
</li>
<li><p>å¦‚æœä½ éœ€è¦åœ¨æŸä¸ªæ•°æ®å˜åŒ–æ—¶åšä¸€äº›äº‹æƒ…ï¼Œä½¿ç”¨ watch æ¥è§‚å¯Ÿè¿™ä¸ªæ•°æ®å˜åŒ–</p>
</li>
</ul>
<h2 id="16-ref-çš„ä½œç”¨"><a href="#16-ref-çš„ä½œç”¨" class="headerlink" title="16.ref çš„ä½œç”¨"></a>16.ref çš„ä½œç”¨</h2><ul>
<li><p>è·å– dom å…ƒç´ <code>this.$refs.xxx</code></p>
</li>
<li><p>è·å–å­ç»„ä»¶ä¸­çš„æ•°æ®</p>
</li>
<li><p>è°ƒç”¨å­ç»„ä»¶ä¸­çš„æ–¹æ³•</p>
</li>
</ul>
<h2 id="17-Vue-ä¸­çš„-key-æœ‰ä»€ä¹ˆç”¨"><a href="#17-Vue-ä¸­çš„-key-æœ‰ä»€ä¹ˆç”¨" class="headerlink" title="17.Vue ä¸­çš„ key æœ‰ä»€ä¹ˆç”¨"></a>17.Vue ä¸­çš„ key æœ‰ä»€ä¹ˆç”¨</h2><ul>
<li>key æ˜¯ Vue ä¸­çš„ vnode æ ‡è®°çš„å”¯ä¸€ idï¼Œé€šè¿‡è¿™ä¸ª keyï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ diff æ“ä½œæ›´åŠ å‡†ç¡®ï¼Œæ›´å¿«é€Ÿ</li>
</ul>
<h2 id="18-v-model-çš„åŸç†"><a href="#18-v-model-çš„åŸç†" class="headerlink" title="18.v-model çš„åŸç†"></a>18.v-model çš„åŸç†</h2><p>å¯ä»¥çœ‹æˆæ˜¯ input å’Œ value çš„è¯­æ³•ç³–</p>
<ul>
<li><p>:value åŠ¨æ€çš„å°† data ç»‘å®šç»™ input</p>
</li>
<li><p>@input ä¸€æ—¦æœ‰è¾“å…¥ å°±ä¿®æ”¹ data ä¸­çš„æ•°æ®</p>
</li>
</ul>
<h2 id="19-v-if-å’Œ-v-for-ä¸ºä»€ä¹ˆä¸å»ºè®®è¿ç”¨"><a href="#19-v-if-å’Œ-v-for-ä¸ºä»€ä¹ˆä¸å»ºè®®è¿ç”¨" class="headerlink" title="19.v-if å’Œ v-for ä¸ºä»€ä¹ˆä¸å»ºè®®è¿ç”¨"></a>19.v-if å’Œ v-for ä¸ºä»€ä¹ˆä¸å»ºè®®è¿ç”¨</h2><p>v-for ä¼šä¼˜äº v-if å…ˆæ‰§è¡Œ</p>
<p>å¦‚æœæ­¤æ—¶ v-if çš„æ‰§è¡Œç»“æœæ˜¯ false å°±ä¼šé€ æˆæ€§èƒ½æµªè´¹</p>
<p>å¯ä»¥ç”¨åµŒå¥—çš„æ ‡ç­¾ åœ¨å¤§ç›’å­ä¸Šä½¿ç”¨ v-if</p>
<h2 id="20-Vue-æ”¹å˜æ•°ç»„è§¦å‘è¯•å›¾æ›´æ–°"><a href="#20-Vue-æ”¹å˜æ•°ç»„è§¦å‘è¯•å›¾æ›´æ–°" class="headerlink" title="20.Vue æ”¹å˜æ•°ç»„è§¦å‘è¯•å›¾æ›´æ–°"></a>20.Vue æ”¹å˜æ•°ç»„è§¦å‘è¯•å›¾æ›´æ–°</h2><p>è°ƒç”¨æ–¹æ³•ï¼šVue.set(target,key.value)</p>
<p>target å¯ä»¥æ˜¯å¯¹è±¡æˆ–æ•°ç»„</p>
]]></content>
      <categories>
        <category>Interview</category>
      </categories>
      <tags>
        <tag>Interview</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactå°å†Œ -- æ‰¬å¸†èµ·èˆª</title>
    <url>/FE/React/basic/</url>
    <content><![CDATA[<h2 id="ä¸»è¦å†…å®¹"><a href="#ä¸»è¦å†…å®¹" class="headerlink" title="ä¸»è¦å†…å®¹"></a>ä¸»è¦å†…å®¹</h2><ul>
<li><p>çˆ¶å­ç»„ä»¶é€šä¿¡</p>
</li>
<li><p>ç”Ÿå‘½å‘¨æœŸå‡½æ•°</p>
</li>
<li><p>çŠ¶æ€æå‡</p>
</li>
<li><p>ref</p>
</li>
<li><p>context</p>
</li>
<li><p>åˆæˆäº‹ä»¶</p>
</li>
<li><p>event å¯¹è±¡</p>
</li>
<li><p>é«˜é˜¶ç»„ä»¶</p>
</li>
<li><p>å—æ§ç»„ä»¶/éå—æ§ç»„ä»¶</p>
</li>
<li><p>dangerouslySetInnerHTML</p>
</li>
<li><p>åŠ¨æ‰‹å®ç° Vue ä¸­çš„ slot</p>
</li>
<li><p>åŠ¨æ‰‹å®ç° Vue ä¸­çš„ v-show</p>
</li>
<li><p>StrictMode</p>
</li>
</ul>
<a id="more"></a>

<p>æœ¬ç« èŠ‚çš„ demo éƒ½ä»¥ç±»ç»„ä»¶ä¸ºä¾‹ ç­‰ hook ç« èŠ‚åéƒ½ä¸ºå‡½æ•°å¼ç»„ä»¶</p>
<h3 id="çˆ¶å­ç»„ä»¶é€šä¿¡"><a href="#çˆ¶å­ç»„ä»¶é€šä¿¡" class="headerlink" title="çˆ¶å­ç»„ä»¶é€šä¿¡"></a>çˆ¶å­ç»„ä»¶é€šä¿¡</h3><h4 id="çˆ¶ç»„ä»¶-gt-å­ç»„ä»¶"><a href="#çˆ¶ç»„ä»¶-gt-å­ç»„ä»¶" class="headerlink" title="çˆ¶ç»„ä»¶ -&gt; å­ç»„ä»¶"></a>çˆ¶ç»„ä»¶ -&gt; å­ç»„ä»¶</h4><p>çˆ¶ -&gt; å­ æ¯”è¾ƒç®€å•</p>
<p>çˆ¶ç»„ä»¶ç›´æ¥é€šè¿‡ props æ¥ä¼ é€’å±æ€§</p>
<p>ç±»ç»„ä»¶ç”¨<code>this.props.[å±æ€§å]</code>å³å¯æ‹¿åˆ°å¯¹åº”çš„å±æ€§</p>
<p>å‡½æ•°å¼ç»„ä»¶ç›´æ¥ä½¿ç”¨<code>props.[å±æ€§å]</code>å³å¯</p>
<p>ä»¥ä¸‹ Demo ä¸º æˆ‘ä»¬åœ¨çˆ¶ç»„ä»¶ä¸­å†³å®šåœ¨å­ç»„ä»¶ä¸­ è¦å±•ç¤ºçš„å…ƒç´ </p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;p&gt;æˆ‘æ˜¯å­ç»„ä»¶&lt;/p&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &#123;<span class="built_in">this</span>.props.movies.map(<span class="function">(<span class="params">movie, index</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;index&#125;</span>&gt;</span>&#123;movie&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span>;</span><br><span class="line">          &#125;)&#125;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Father</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;Child movies=&#123;[<span class="string">&#x27;å§œå­ç‰™&#x27;</span>, <span class="string">&#x27;å“ªå’&#x27;</span>, <span class="string">&#x27;æ¨æˆ¬&#x27;</span>]&#125; /&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å­ â€”&gt; çˆ¶</p>
<p>åŸç†å’Œ çˆ¶ -&gt; å­ ç±»ä¼¼</p>
<p>åœ¨çˆ¶ç»„ä»¶ç”¨ props å‘å­ç»„ä»¶ä¼ é€’ä¸€ä¸ªå›è°ƒå‡½æ•°</p>
<p>ç„¶ååœ¨å­ç»„ä»¶ç”¨<code>this.props.&lt;å‡½æ•°å&gt;</code>è§¦å‘è¿™ä¸ªå›è°ƒå‡½æ•°</p>
<p>æˆ‘ä»¬ç»§ç»­æ›´æ”¹ä»¥ä¸‹ä»¥ä¸Š Demo è®©å­ç»„ä»¶å‘Šè¯‰çˆ¶ç»„ä»¶ æˆ‘è¦åˆ é™¤è°</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;p&gt;æˆ‘æ˜¯å­ç»„ä»¶&lt;/p&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &#123;<span class="built_in">this</span>.props.movies.map(<span class="function">(<span class="params">movie, index</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> (</span><br><span class="line">              &lt;li key=&#123;index&#125; onClick=&#123;<span class="function">() =&gt;</span> <span class="built_in">this</span>.handleDeleteClick(index)&#125;&gt;</span><br><span class="line">                &#123;movie&#125;</span><br><span class="line">              &lt;/li&gt;</span><br><span class="line">            );</span><br><span class="line">          &#125;)&#125;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">handleDeleteClick</span>(<span class="params">index</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.props.onDelete &amp;&amp; <span class="built_in">this</span>.props.onDelete(index);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Father</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;Child</span><br><span class="line">          movies=&#123;[<span class="string">&#x27;å§œå­ç‰™&#x27;</span>, <span class="string">&#x27;å“ªå’&#x27;</span>, <span class="string">&#x27;æ¨æˆ¬&#x27;</span>]&#125;</span><br><span class="line">          onDelete=&#123;<span class="function">(<span class="params">index</span>) =&gt;</span> <span class="built_in">this</span>.handleDeleteMovie(index)&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">handleDeleteMovie</span>(<span class="params">index</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`å­ç»„ä»¶è¦åˆ é™¤çš„æ˜¯ç¬¬<span class="subst">$&#123;index&#125;</span>é¡¹`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç”Ÿå‘½å‘¨æœŸå‡½æ•°"><a href="#ç”Ÿå‘½å‘¨æœŸå‡½æ•°" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸå‡½æ•°"></a>ç”Ÿå‘½å‘¨æœŸå‡½æ•°</h3><p>ä¸»è¦å‚è€ƒå®˜æ–¹çš„<a href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/">ç”Ÿå‘½å‘¨æœŸå›¾è°±</a></p>
<p>props state çš„æ”¹å˜ å’Œ forceUpdate() å°†ä¼šé‡æ–°è°ƒç”¨<code>render()</code>ç”Ÿå‘½å‘¨æœŸå‡½æ•° å…·ä½“å†…å®¹å¯è§ä¸‹å‡ è®²</p>
<ul>
<li><p>constructor</p>
<ul>
<li><p>åˆå§‹åŒ–å†…éƒ¨çš„ state</p>
</li>
<li><p>ä¸ºäº‹ä»¶ç»‘å®š this</p>
</li>
</ul>
</li>
<li><p>shouldComponentUpdate</p>
<ul>
<li>å¯¹æ¯”æ›´æ–°å‰åæ•°æ® ä¼˜åŒ–æ€§èƒ½</li>
</ul>
</li>
<li><p>componentDidMount</p>
<ul>
<li>ç½‘ç»œè¯·æ±‚</li>
</ul>
</li>
<li><p>componentWillUnmount</p>
<ul>
<li>æ¸…é™¤å®šæ—¶å™¨ç­‰ ä¼˜åŒ–æ€§èƒ½</li>
</ul>
</li>
</ul>
<h3 id="çŠ¶æ€æå‡"><a href="#çŠ¶æ€æå‡" class="headerlink" title="çŠ¶æ€æå‡"></a>çŠ¶æ€æå‡</h3><p>çŠ¶æ€æå‡åªæ˜¯ä¸€ä¸ªæ¦‚å¿µæ€§çš„ä¸œè¥¿</p>
<p>çŠ¶æ€å°±æ˜¯æŒ‡ å­ç»„ä»¶é—´å…±äº«çš„ä¸€äº›æ•°æ®</p>
<p>æå‡å°±æ˜¯æŒ‡ å°†è¿™äº›çŠ¶æ€ä¿å­˜åœ¨ç¦»å®ƒä»¬æœ€è¿‘çš„çˆ¶ç»„ä»¶</p>
<p>æ¯”å¦‚æ›´æ”¹ä¸»é¢˜ æˆ‘ä»¬å°±éœ€è¦å°†ä¸»é¢˜è¿™ä¸ªçŠ¶æ€å­˜æ”¾åœ¨æ ¹ç»„ä»¶ä¸‹ ç„¶åé€šè¿‡ props ä¸€å±‚ä¸€å±‚å¾€ä¸‹ä¼ é€’</p>
<h3 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h3><p>ç°åœ¨ æˆ‘ä»¬ç®€å•çš„å®ç°ä¸€ä¸ª DEMO</p>
<p>æœ‰ä¸€ä¸ª è¾“å…¥æ¡† å’Œ è·å–ç”¨æˆ·åçš„æŒ‰é’®</p>
<p>é€šè¿‡ç‚¹å‡»æŒ‰é’® è·å–ç”¨æˆ·å</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(props);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      username: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;input</span><br><span class="line">          name=<span class="string">&quot;username&quot;</span></span><br><span class="line">          value=&#123;<span class="built_in">this</span>.state.username&#125;</span><br><span class="line">          onChange=&#123;<span class="function">(<span class="params">e</span>) =&gt;</span> <span class="built_in">this</span>.handleUsernameChange(e)&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="function">() =&gt;</span> <span class="built_in">this</span>.showName()&#125;&gt;GET NAME&lt;/button&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">handleUsernameChange</span>(<span class="params">e</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      username: e.target.value,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">showName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    alert(<span class="string">`U NAME IS <span class="subst">$&#123;<span class="built_in">this</span>.state.username&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ°æ­¤ä¸ºæ­¢ æˆ‘ä»¬æ‰€æœ‰çš„æ•°æ® éƒ½æ˜¯æ¥è‡ªäºç»„ä»¶å†…éƒ¨ç»´æŠ¤çš„ state</p>
<p>é‚£ä¹ˆæˆ‘ä»¬èƒ½å¦ç›´æ¥é€šè¿‡ æ ‡ç­¾è‡ªèº« æ¥å®ç°è¿™ä¸ªåŠŸèƒ½å‘¢</p>
<p>React å‘æˆ‘ä»¬æä¾›äº† <strong>ref</strong> å¯ä»¥æ¥è·å– dom</p>
<p>ref ä¸»è¦æœ‰ä¸‰ç§å®ç°æ–¹å¼å¯ä»¥æ¥è·å– dom</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(props)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.usernameRef = React.createRef()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &#123;<span class="comment">/* ref åå¯ä»¥ç­‰äº å­—ç¬¦ä¸²/å¯¹è±¡/å‡½æ•° */</span>&#125;</span><br><span class="line">        &#123;<span class="comment">/* æ–¹å¼ä¸€ å­—ç¬¦ä¸² */</span>&#125;</span><br><span class="line">        &#123;<span class="comment">/* æ­¤æ–¹æ³•ä¸æ¨è åœ¨åç»­ç‰ˆæœ¬ä¸­å¯èƒ½ä¼šè¢«ç§»é™¤ */</span>&#125;</span><br><span class="line">        &lt;input ref=<span class="string">&quot;usernameRef&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">        &#123;<span class="comment">/* æ–¹å¼äºŒ å¯¹è±¡ */</span>&#125;</span><br><span class="line">        &lt;input ref=&#123;<span class="built_in">this</span>.usernameRef&#125; /&gt;</span><br><span class="line"></span><br><span class="line">        &#123;<span class="comment">/* æ–¹å¼ä¸‰ å‡½æ•° */</span>&#125;</span><br><span class="line">        &lt;input ref=&#123;<span class="function">(<span class="params">_usernameRef</span>) =&gt;</span> (<span class="built_in">this</span>._usernameRef = _usernameRef)&#125; /&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="function">() =&gt;</span> <span class="built_in">this</span>.showName()&#125;&gt;GET NAME&lt;/button&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>æ–¹å¼äºŒ å’Œ æ–¹å¼ä¸‰çš„åŒºåˆ«æ˜¯</p>
<ul>
<li><p>é€šè¿‡<code>React.createRef()</code>åˆ›å»º å…¶å®ä¾‹åœ¨ current å±æ€§ä¸‹</p>
</li>
<li><p>è€Œé€šè¿‡å‡½æ•°åˆ›å»º å…¶å®ä¾‹å°±æ˜¯æˆ‘ä»¬æ‰€å‘½åçš„é‚£ä¸ªå±æ€§</p>
</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰“å° this æ¥çœ‹ä¸€ä¸‹ ä¸‰è€…ä¹‹é—´çš„åŒºåˆ«ï¼ˆå½“ç„¶ ç¬¬ä¸€ç§å·²ç»ä¸æ¨èï¼‰</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">context: &#123;&#125;</span><br><span class="line">props: &#123;&#125;</span><br><span class="line">refs: &#123;usernameRef: input&#125;  // æ–¹å¼ä¸€</span><br><span class="line">state: null</span><br><span class="line">updater: &#123;isMounted: Æ’, enqueueSetState: Æ’, enqueueReplaceState: Æ’, enqueueForceUpdate: Æ’&#125;</span><br><span class="line">usernameRef: &#123;current: input&#125; // æ–¹å¼äºŒ</span><br><span class="line">_reactInternalInstance: &#123;_processChildContext: Æ’&#125;</span><br><span class="line">_reactInternals: FiberNode &#123;tag: 1, key: null, stateNode: Example, elementType: Æ’, type: Æ’, â€¦&#125;</span><br><span class="line">_usernameRef: input // æ–¹å¼ä¸‰</span><br></pre></td></tr></table></figure>

<p><strong>å†™åœ¨æœ€å åœ¨ç”Ÿäº§ä¸­ åƒä¸‡ä¸è¦è¿™æ ·å»æ“ä½œ dom</strong></p>
<p><strong>æ‰€æœ‰å¯ä»¥ä½¿ç”¨å£°æ˜å¼å®Œæˆçš„åŠŸèƒ½éƒ½ä¸è¦ä½¿ç”¨å‘½ä»¤å¼</strong></p>
<p><strong>é™¤éæˆ‘ä»¬éœ€è¦å®ç° èšç„¦ åŠ¨ç”» ç­‰ å¿…é¡»è¦è·å–åˆ° dom çš„æ“ä½œ</strong></p>
<h3 id="context"><a href="#context" class="headerlink" title="context"></a>context</h3><p>å‡è®¾ æˆ‘ä»¬æœ‰ä¸€ä¸ª App ç»„ä»¶</p>
<p>ç„¶å App ç»„ä»¶ä¸‹æœ‰ä¸€ä¸ª HeaderWrapper ç»„ä»¶</p>
<p>HeaderWrapper ç»„ä»¶ å†…éƒ¨ åˆæœ‰ä¸€ä¸ª Nav ç»„ä»¶</p>
<p>é‚£ä¹ˆ å¦‚æœæˆ‘ä»¬å…±äº« App ç»„ä»¶ ä¸­çš„æ•°æ® åˆ° Nav ç»„ä»¶</p>
<p>å°±è¦ ç»è¿‡ HeaderWrapper ç»„ä»¶ ä¼ é€’åˆ° Nav ç»„ä»¶</p>
<p>ä¼ ç»Ÿçš„ä»£ç å¦‚ä¸‹</p>
<p>æˆ‘ä»¬å¯ä»¥ç”¨ <code>&#123;...this.props&#125;</code> çš„å†™æ³• å°† props ä¼ é€’ç»™å­ç»„ä»¶</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HeaderWrapper</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;Nav &#123;...this.props&#125; /&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Nav</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;&gt;</span>name: &#123;this.props.name&#125;<span class="tag">&lt;/&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;HeaderWrapper name=&#123;<span class="string">&#x27;chou&#x27;</span>&#125; /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ HeaderWrapper ç»„ä»¶ å¯èƒ½ä¸éœ€è¦è¿™ä¸€å±‚çš„æ•°æ® ä½†æ˜¯ æˆ‘ä»¬åœ¨ä¼ é€’æ•°æ®ä¸­å´è¦å°†æ•°æ®ä¼ é€’ç»™å®ƒ</p>
<p>è¿™æ—¶ React ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå±æ€§ <strong>context</strong> ç”¨æ¥è§£å†³</p>
<p>å¸¸ç”¨ API</p>
<ul>
<li><p>React.createContext(defaultValue)</p>
</li>
<li><p>contextType</p>
</li>
<li><p>Provider</p>
</li>
<li><p>Consumer</p>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€æ­¥ æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªcontextå¯¹è±¡ å¯ä»¥ä¼ å…¥ä¸€ä¸ªé»˜è®¤å€¼</span></span><br><span class="line"><span class="keyword">const</span> UserContext = React.createContext(&#123;</span><br><span class="line">  name: <span class="string">&#x27;defaultName&#x27;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HeaderWrapper</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;Nav &#123;...this.props&#125; /&gt;</span><br><span class="line">        &lt;List /&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Nav</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ç¬¬äºŒæ­¥ åœ¨éœ€è¦ ä½¿ç”¨çš„åœ°æ–¹ ä½¿ç”¨contextType</span></span><br><span class="line">  <span class="keyword">static</span> contextType = UserContext;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;div&gt;Nav&lt;/div&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœæ˜¯å‡½æ•°å¼ç»„ä»¶ éœ€è¦ä½¿ç”¨è¿™ç§ç‰¹æ®Šå†™æ³•</span></span><br><span class="line"><span class="comment">// æˆ‘ä»¬å¯ä»¥æ‰“å°å‡ºvalue æ¥è§‚å¯Ÿå®ƒç¡®å®æ‹¿åˆ°äº†contextä¸­çš„æ•°æ®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">List</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;UserContext.Consumer&gt;</span><br><span class="line">      &#123;<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(value);</span><br><span class="line">      &#125;&#125;</span><br><span class="line">    &lt;/UserContext.Consumer&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(props);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      name: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="comment">// ç¬¬ä¸‰æ­¥ ç”¨ProvideråŒ…è£¹éœ€è¦å…±äº«æ•°æ®çš„ç»„ä»¶</span></span><br><span class="line">      &lt;UserContext.Provider value=&#123;<span class="built_in">this</span>.state&#125;&gt;</span><br><span class="line">        &lt;HeaderWrapper /&gt;</span><br><span class="line">      &lt;/UserContext.Provider&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ åœ¨å®é™…å¼€å‘ä¸­ æˆ‘ä»¬ä¸ä¼šä½¿ç”¨ context</p>
<p>åœ¨ä¸‹ä¸€ç« æˆ‘å°±ä¼šä»‹ç»åˆ° åœ¨å¼€å‘ä¸­ ç”¨æ¥ç®¡ç†çŠ¶æ€çš„ <strong>Redux</strong></p>
<p>è€Œå®ƒçš„æ¨¡å¼ å°±å’Œ context ç±»ä¼¼</p>
<h3 id="åˆæˆäº‹ä»¶"><a href="#åˆæˆäº‹ä»¶" class="headerlink" title="åˆæˆäº‹ä»¶"></a>åˆæˆäº‹ä»¶</h3><p>React ä¸­ ç»‘å®šäº‹ä»¶çš„ onClick ç­‰ç­‰ å…¶å®æ˜¯ React ä¸­çš„åˆæˆäº‹ä»¶</p>
<p>å®ƒå’ŒåŸç”Ÿçš„ onclick äº‹ä»¶ ä¸åŒ ä¸»è¦æ˜¯ç”¨äºæŠ¹å¹³å„æµè§ˆå™¨ä¹‹é—´çš„å·®å¼‚</p>
<p>åŒæ—¶ React ä¸åªæ˜¯æœŸæœ›è¿è¡Œåœ¨ Web ç¯å¢ƒ ä¹ŸæœŸæœ›è¿è¡Œåœ¨å®¢æˆ·ç«¯ ios Android ç­‰</p>
<p>æ‰€ä»¥ React é‡æ–°å°è£…äº†è¿™äº›äº‹ä»¶</p>
<p>ç”¨ä¸€å¥—ä»£ç  æ¥é€‚ç”¨æ‰€æœ‰åœºæ™¯</p>
<h3 id="event"><a href="#event" class="headerlink" title="event"></a>event</h3><p>åœ¨ç»‘å®šäº‹ä»¶æ—¶ ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°é»˜è®¤å°±æ˜¯ React ä¸­çš„ event å¯¹è±¡</p>
<p>åŒæ ·çš„ React ä¹Ÿå°è£…äº†è¿™ä¸ªå¯¹è±¡ ä¸ºäº†é€‚åˆæ‰€æœ‰å¼€å‘åœºæ™¯ä¸‹çš„ä½¿ç”¨</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="function">(<span class="params">e</span>) =&gt;</span> <span class="built_in">this</span>.getEvent(e)&#125;&gt;Get Event&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">getEvent</span>(<span class="params">e</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">    <span class="comment">// SyntheticBaseEventÂ &#123;_reactName: &quot;onClick&quot;, _targetInst: null, type: &quot;click&quot;, nativeEvent: MouseEvent, target: button,Â â€¦&#125;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é«˜é˜¶ç»„ä»¶"><a href="#é«˜é˜¶ç»„ä»¶" class="headerlink" title="é«˜é˜¶ç»„ä»¶"></a>é«˜é˜¶ç»„ä»¶</h3><p>é«˜é˜¶ç»„ä»¶å°±æ˜¯ä¸€ä¸ªå‡½æ•° å®ƒæ¥æ”¶ä¸€ä¸ªç»„ä»¶ å¹¶è¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶</p>
<p>ä¸»è¦åŠŸèƒ½æœ‰</p>
<ul>
<li><p>å¯æ“ä½œæ‰€æœ‰ä¼ å…¥çš„ props</p>
</li>
<li><p>å¯æ“ä½œç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</p>
</li>
<li><p>å¯æ“ä½œç»„ä»¶çš„ static æ–¹æ³•</p>
</li>
<li><p>è·å– refs</p>
</li>
<li><p>å¯æ“ä½œ state</p>
</li>
<li><p>å¯ä»¥æ¸²æŸ“åŠ«æŒ</p>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> NavBar = ThemeHOC(</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;&gt;</span><br><span class="line">          &lt;p style=&#123;&#123; <span class="attr">color</span>: <span class="built_in">this</span>.props.theme &#125;&#125;&gt;NavBar&lt;/p&gt;</span><br><span class="line">        &lt;/&gt;</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Message = LifeHOC(</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">super</span>(props);</span><br><span class="line">      <span class="built_in">this</span>.state = &#123;</span><br><span class="line">        username: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        &lt;&gt;</span><br><span class="line">          &lt;p&gt;Message&lt;/p&gt;</span><br><span class="line">        &lt;/&gt;</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘æ˜¯åŸæ¥çš„componentDidMountï¼Œæˆ‘æ‰§è¡Œäº†&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¢å¼ºprops</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ThemeHOC</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> <span class="attr">theme</span>=<span class="string">&#123;</span>&#x27;<span class="attr">red</span>&#x27;&#125; /&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ«æŒç”Ÿå‘½å‘¨æœŸæ–¹æ³• props state renderæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LifeHOC</span>(<span class="params">WrappedComponent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">WrappedComponent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">super</span>(props);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// åŠ«æŒåˆ°åŸç»„ä»¶çš„å®ä¾‹ å¹¶å¯ä»¥ä¿®æ”¹å®ƒ</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// å¯æ“ä½œæ‰€æœ‰ä¼ å…¥çš„props</span></span><br><span class="line">      <span class="comment">// å¯æ“ä½œç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</span></span><br><span class="line">      <span class="comment">// å¯æ“ä½œç»„ä»¶çš„staticæ–¹æ³•</span></span><br><span class="line">      <span class="comment">// è·å–refs</span></span><br><span class="line">      <span class="comment">// å¯æ“ä½œstate</span></span><br><span class="line">      <span class="comment">// å¯ä»¥æ¸²æŸ“åŠ«æŒ</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;NavBar /&gt;</span><br><span class="line">        &lt;Message name=&#123;<span class="string">&#x27;chou&#x27;</span>&#125; /&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å—æ§ç»„ä»¶-éå—æ§ç»„ä»¶"><a href="#å—æ§ç»„ä»¶-éå—æ§ç»„ä»¶" class="headerlink" title="å—æ§ç»„ä»¶/éå—æ§ç»„ä»¶"></a>å—æ§ç»„ä»¶/éå—æ§ç»„ä»¶</h3><p>å—æ§ç»„ä»¶çš„æ„æ€ ä¸»è¦æ˜¯é’ˆå¯¹è¡¨å•è¿™äº›å…ƒç´ </p>
<p>å…¶ value ç”± state æ¥ç»´æŠ¤ ä½†æ˜¯ä¹Ÿä¼šé€ æˆæ¯ä¸€ä¸ªè¡¨å•éƒ½éœ€è¦ç¼–å†™äº‹ä»¶å»æ›´æ–°æ•°æ®çš„éº»çƒ¦</p>
<p>éå—æ§ç»„ä»¶ åˆ™æ˜¯ è¡¨å•çš„æ•°æ®ç”±è¡¨å•è‡ªå·±å»ç»´æŠ¤</p>
<p>ä¸»è¦æ˜¯ é€šè¿‡ ref æ¥å®ç°</p>
<p>å®˜æ–¹ä¸»è¦æ¨èå—æ§ç»„ä»¶çš„æ–¹å¼</p>
<h3 id="dangerouslySetInnerHTML"><a href="#dangerouslySetInnerHTML" class="headerlink" title="dangerouslySetInnerHTML"></a>dangerouslySetInnerHTML</h3><p>å‡è®¾æœ‰ä»¥ä¸‹ä»£ç  æˆ‘ä»¬æƒ³è¦æ¸²æŸ“å‡º tag ä¸­åŸæœ‰çš„æ ·å¼</p>
<p>ç›´æ¥æ¸²æŸ“çš„è¯ å®ƒä¼šè¢«å½“æˆå­—ç¬¦ä¸² æ¸²æŸ“åœ¨é¡µé¢ä¸Š</p>
<p>éœ€è¦ä½¿ç”¨ dangerouslySetInnerHTML</p>
<p>ä½†æ˜¯ä¹Ÿå­˜åœ¨å‰¯ä½œç”¨ æ­£å¦‚å®ƒçš„åå­— dangerously ä¸€æ ·</p>
<p>ä¸åˆæ—¶å®œçš„ä½¿ç”¨ å¯èƒ½ä¼šä½ çš„é¡µé¢é­å— XSS æ”»å‡»</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(props);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      tag: <span class="string">&#x27;&lt;h2&gt;HELLO REACT&lt;/h2&gt;&#x27;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &#123;<span class="comment">/* é¡µé¢ä¸­æ˜¾ç¤º &lt;h2&gt;HELLO REACT&lt;/h2&gt; */</span>&#125;</span><br><span class="line">        &#123;<span class="built_in">this</span>.state.tag&#125;</span><br><span class="line"></span><br><span class="line">        &#123;<span class="comment">/* é¡µé¢æ­£ç¡®è§£æh2æ ‡ç­¾ */</span>&#125;</span><br><span class="line">        &lt;div dangerouslySetInnerHTML=&#123;&#123; <span class="attr">__html</span>: <span class="built_in">this</span>.state.tag &#125;&#125;&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åŠ¨æ‰‹å®ç°-Vue-ä¸­çš„-slot"><a href="#åŠ¨æ‰‹å®ç°-Vue-ä¸­çš„-slot" class="headerlink" title="åŠ¨æ‰‹å®ç° Vue ä¸­çš„ slot"></a>åŠ¨æ‰‹å®ç° Vue ä¸­çš„ slot</h3><p>ç¬¬ä¸€ç‰ˆ æ‰€æœ‰åµŒå¥—åœ¨ç»„ä»¶å†…éƒ¨çš„å­ç»„ä»¶ éƒ½ä¼šåœ¨<code>props.children</code>è¿™ä¸ªå±æ€§å†…</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>props.children[index]</code> æ¥æ‹¿å¯¹åº”ä½ç½®çš„ç»„ä»¶</p>
<p>ç¼ºç‚¹ï¼šä½¿ç”¨è€… å¿…é¡» <strong>æŒ‰é¡ºåº</strong> ä¼ å…¥ç»„ä»¶</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TabBar</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div className=<span class="string">&quot;tab-bar&quot;</span>&gt;</span><br><span class="line">          &lt;Fragment className=<span class="string">&quot;tab-bar-img&quot;</span>&gt;&#123;<span class="built_in">this</span>.props.children[<span class="number">0</span>]&#125;&lt;/Fragment&gt;</span><br><span class="line">          &lt;Fragment className=<span class="string">&quot;tab-bar-title&quot;</span>&gt;</span><br><span class="line">            &#123;<span class="built_in">this</span>.props.children[<span class="number">1</span>]&#125;</span><br><span class="line">          &lt;/Fragment&gt;</span><br><span class="line">          &lt;Fragment className=<span class="string">&quot;tab-bar-more&quot;</span>&gt;&#123;<span class="built_in">this</span>.props.children[<span class="number">2</span>]&#125;&lt;/Fragment&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;TabBar&gt;</span><br><span class="line">          &lt;span&gt;å¤´åƒ&lt;/span&gt;</span><br><span class="line">          &lt;span&gt;æ ‡é¢˜&lt;/span&gt;</span><br><span class="line">          &lt;span&gt;æ›´å¤š&lt;/span&gt;</span><br><span class="line">        &lt;/TabBar&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Vue ä¸­æœ‰å…·åç»„ä»¶çš„æ¦‚å¿µ æˆ‘ä»¬ç»§ç»­æ”¹è¿›ä»£ç æ¥å®ç°å§</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SlotSwapper</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; leftSlot, midSlot, rightSlot &#125; = <span class="built_in">this</span>.props;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;span className=<span class="string">&quot;leftSlot&quot;</span>&gt;&#123;leftSlot&#125;&lt;/span&gt;</span><br><span class="line">        &lt;span className=<span class="string">&quot;midSlot&quot;</span>&gt;&#123;midSlot&#125;&lt;/span&gt;</span><br><span class="line">        &lt;span className=<span class="string">&quot;rightSlot&quot;</span>&gt;&#123;rightSlot&#125;&lt;/span&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;SlotSwapper</span><br><span class="line">        leftSlot=&#123;<span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>è¿™æ˜¯å·¦è¾¹çš„æ’æ§½<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span>&#125;</span><br><span class="line">        midSlot=&#123;<span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>è¿™æ˜¯ä¸­é—´çš„æ’æ§½<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span>&#125;</span><br><span class="line">        rightSlot=&#123;<span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>è¿™æ˜¯å³è¾¹çš„æ’æ§½<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span>&#125;</span><br><span class="line">      /&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥å°† JSX ä½œä¸º props ä¼ å…¥ç»™å­ç»„ä»¶</p>
<p>ç„¶ååœ¨å­ç»„ä»¶è§£æ„ è¿™æ ·å°±å¯ä»¥æ‹¿åˆ°æ¯ä¸€ä¸ªå¯¹åº”çš„ slot è€Œä¸ç”¨å»è€ƒè™‘é¡ºåºçš„é—®é¢˜</p>
<h3 id="åŠ¨æ‰‹å®ç°-Vue-ä¸­çš„-v-show"><a href="#åŠ¨æ‰‹å®ç°-Vue-ä¸­çš„-v-show" class="headerlink" title="åŠ¨æ‰‹å®ç° Vue ä¸­çš„ v-show"></a>åŠ¨æ‰‹å®ç° Vue ä¸­çš„ v-show</h3><p>Vue ä¸­ æœ‰ä¸¤ç§æ˜¾ç¤ºéšè—å…ƒç´ çš„æŒ‡ä»¤ åˆ†åˆ«æ˜¯</p>
<ul>
<li><p>v-show (å…ƒç´ å¹¶æ²¡æœ‰è¢«ç§»é™¤)</p>
</li>
<li><p>v-if / v-else (å…ƒç´ è¢«ç§»é™¤äº†)</p>
</li>
</ul>
<p>è€Œæˆ‘ä»¬åœ¨ React ä¸­ ç”¨æ¡ä»¶æ¸²æŸ“ æ—¶ é»˜è®¤å°±æ˜¯ä½¿ç”¨äº† v-if è¿™ç§æ¨¡å¼</p>
<p>å¦‚æœè¿™ä¸ªæ“ä½œæ˜¯é¢‘ç¹çš„ å¤§é‡çš„ åˆ›å»ºå…ƒç´  å’Œ é”€æ¯å…ƒç´  æ— ç–‘æ˜¯æµªè´¹æ€§èƒ½çš„</p>
<p>ä¸‹é¢æ˜¯ç®€å•çš„ æ¡ä»¶æ¸²æŸ“çš„ DEMO</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(props);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      isShow: <span class="literal">true</span>,</span><br><span class="line">      text: <span class="string">&#x27;HIDE&#x27;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &#123;<span class="built_in">this</span>.state.isShow &amp;&amp; <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>NOW U SEE ME<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>&#125;</span><br><span class="line">        &lt;button onClick=&#123;<span class="function">() =&gt;</span> <span class="built_in">this</span>.handleHideClick()&#125;&gt;</span><br><span class="line">          &#123;<span class="built_in">this</span>.state.text&#125;</span><br><span class="line">        &lt;/button&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">handleHideClick</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      isShow: !<span class="built_in">this</span>.state.isShow,</span><br><span class="line">      text: <span class="built_in">this</span>.state.isShow ? <span class="string">&#x27;SHOW&#x27;</span> : <span class="string">&#x27;HIDE&#x27;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æˆ‘ä»¬åŠ¨æ‰‹æ¥æ”¹é€ ä¸Šé¢è¿™æ®µä»£ç  è®©å®ƒå…·æœ‰ v-show è¿™ç§åŠŸèƒ½</p>
<p>æ€è·¯ï¼šæˆ‘ä»¬å¯ä»¥åŠ¨æ€å†³å®šç»„ä»¶çš„ style</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">&lt;div style=&#123;&#123; <span class="attr">display</span>: <span class="built_in">this</span>.state.isShow ? <span class="string">&#x27;block&#x27;</span> : <span class="string">&#x27;none&#x27;</span> &#125;&#125;&gt;</span><br><span class="line">  NOW U SEE ME</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h3 id="StrictMode"><a href="#StrictMode" class="headerlink" title="StrictMode"></a>StrictMode</h3><p>ä½¿ç”¨ create-react-app è„šæ‰‹æ¶åˆ›å»ºé¡¹ç›®æ—¶ é»˜è®¤ä¼šåœ¨è·Ÿæ ‡ç­¾å¤–é¢åŒ…è£¹<code>StrictMode</code></p>
<p>å’Œ<code>Fragment</code>ä¸€æ · <code>StrictMode</code>ä¸ä¼šåˆ›å»ºä»»ä½• UI å…ƒç´  æ­£å¦‚å­—é¢æ„æ€ä¸€æ · å®ƒä¸»è¦ç”¨äº</p>
<ul>
<li><p>è¯†åˆ«ä¸å®‰å…¨çš„ç”Ÿå‘½å‘¨æœŸ</p>
</li>
<li><p>ä½¿ç”¨è¿‡æ—¶çš„ ref çš„ API</p>
</li>
<li><p>æ£€æŸ¥æ„å¤–çš„å‰¯ä½œç”¨</p>
<ul>
<li>å¼€å‘ç¯å¢ƒä¸‹ä¼šè°ƒç”¨ä¸¤æ¬¡ constructor</li>
</ul>
</li>
<li><p>è¯†åˆ«åºŸå¼ƒçš„ findDOMNode æ–¹æ³•</p>
</li>
<li><p>æ£€æµ‹è¿‡æ—¶çš„ context API</p>
</li>
</ul>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactå°å†Œ -- css</title>
    <url>/FE/React/css/</url>
    <content><![CDATA[<p>React å®˜ç½‘å¯¹äº CSS å¹¶æ²¡æœ‰æ˜ç¡®çš„è§„èŒƒ</p>
<p>ä»¥ä¸‹æä¾›ä¸¤ç§å¼€å‘è€…å–œçˆ±çš„ React CSS è§£å†³æ–¹æ¡ˆ</p>
<h3 id="CSS-MODULE"><a href="#CSS-MODULE" class="headerlink" title="CSS MODULE"></a>CSS MODULE</h3><p>é¦–å…ˆ æˆ‘ä»¬å‡†å¤‡å¥½</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./css/header.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./css/footer.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Header</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;header&quot;</span>&gt;æˆ‘æ˜¯Header&lt;/div&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Footer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;div className=<span class="string">&quot;footer&quot;</span>&#125;&gt;æˆ‘æ˜¯Footer&lt;/div&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Header /&gt;</span><br><span class="line">      &lt;Footer /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ˜¯ css æ–‡ä»¶</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* header.css */</span></span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">22px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* footer.css */</span></span><br><span class="line"><span class="selector-class">.footer</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯ä¸€æ®µä¼ ç»Ÿçš„ CSS å¼•å…¥æ–¹æ¡ˆ</p>
<p>ä½†æ˜¯ CSS æ˜¯å±‚å æ ·å¼è¡¨ å¯¹äºé‡åçš„é€‰æ‹©å™¨ åé¢çš„ä¼šè¦†ç›–å‰é¢çš„</p>
<p>æ‰€ä»¥ä¸Šè¿°ä¸¤ä¸ª css æ–‡ä»¶ååœ¨å¼•å…¥å footer.css åå¼•å…¥ä¼šè¦†ç›– header.css ä¸­é‡åçš„é€‰æ‹©å™¨</p>
<p>è¿™æ—¶å€™ æˆ‘ä»¬æˆ‘ä»¬ä½¿ç”¨ css modules å°±å¯ä»¥è§£å†³è¿™ç§é—®é¢˜</p>
<p>ç›¸å½“äºç»™æ¯ä¸€ä¸ª css æ–‡ä»¶éƒ½ç”Ÿæˆäº†å„è‡ªçš„ä½œç”¨åŸŸ</p>
<ul>
<li><p>å°†æ‰€æœ‰çš„ css æ–‡ä»¶å æ”¹æˆ xxx.module.css</p>
</li>
<li><p>ç»™å¼•å…¥çš„ css æ–‡ä»¶å–å ä¾‹å¦‚ <code>import HeaderStyle from &#39;./css/header.module.css&#39;</code></p>
</li>
<li><p>å°†æ¯ä¸€ä¸ª class å½“æˆå˜é‡æ¥ä½¿ç”¨ ä¾‹å¦‚ <code>&lt;div className=&#123;FooterStyle.footer&#125;&gt;æˆ‘æ˜¯Footer&lt;/div&gt;</code></p>
</li>
</ul>
<p>è¿™ç§æ–¹æ¡ˆçš„ä¼˜ç‚¹å¾ˆæ˜æ˜¾ æˆ‘ä»¬ä¸éœ€è¦é¢å¤–çš„å­¦ä¹ æˆæœ¬ ä½¿ç”¨ç®€å•</p>
<p>ä½†æ˜¯ å¯¹äºéœ€è¦åŠ¨æ€ç”Ÿæˆçš„ css æ ·å¼ è¿™ä¸€ç§æ–¹æ¡ˆå°±æ˜¾å¾—æ— èƒ½ä¸ºåŠ›äº†</p>
<h4 id="åœ¨-create-react-app-ä¸­é›†æˆ-sass-å¹¶å¼€å¯-css-module"><a href="#åœ¨-create-react-app-ä¸­é›†æˆ-sass-å¹¶å¼€å¯-css-module" class="headerlink" title="åœ¨ create-react-app ä¸­é›†æˆ sass å¹¶å¼€å¯ css module"></a>åœ¨ create-react-app ä¸­é›†æˆ sass å¹¶å¼€å¯ css module</h4><p>é¦–å…ˆæš´éœ²å‡º webpack é…ç½® è„šæœ¬å‘½ä»¤åœ¨ package.json ä¸­</p>
<p><code>yarn eject</code></p>
<p>ç„¶åå®‰è£… sass-loader å’Œ sass æ¨¡å—</p>
<p>è¿™é‡Œæ’ä¸€å˜´ sass å’Œ scss çš„åŒºåˆ«</p>
<p>sass æœ‰ä¸¥æ ¼çš„è¯­æ³• scss åˆ™æ›´åƒ css æ–‡ä»¶ æ‰€ä»¥æˆ‘ä»¬åœ¨å¼€å‘ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ scss</p>
<p>æœ€ååœ¨ webpack.config.json ä¸­æ’å…¥</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  test: <span class="regexp">/\.scss$/</span>,</span><br><span class="line">  use: [</span><br><span class="line">    &#123; <span class="attr">loader</span>: <span class="string">&#x27;style-loader&#x27;</span> &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      loader: <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">      options: &#123;</span><br><span class="line">        modules: &#123;</span><br><span class="line">          localIdentName: <span class="string">&#x27;[local]_[hash:base64:5]&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123; <span class="attr">loader</span>: <span class="string">&#x27;sass-loader&#x27;</span> &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œè¡¥å……ä¸€ç‚¹ å¦‚æœåœ¨ css module è¿™ç§æ–¹æ¡ˆä¸­ä¿®æ”¹ antd çš„æ ·å¼çš„è¯ ä½ ä¼šå‘ç°å®ƒæ˜¯ä¿®æ”¹ä¸äº†çš„</p>
<p>å› ä¸ºå®ƒä¼šè¢«ç¼–è¯‘æˆå¸¦ hash çš„ class è‡ªç„¶å°±ä½œç”¨ä¸åˆ° antd çš„æ ·å¼ä¸Šäº†</p>
<p>è¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨ï¼šglobal çš„æ–¹å¼ åœ¨ç¼–è¯‘çš„æ—¶å€™å°±æ˜¯æŒ‰ç…§åŸæ¥çš„ class è¿›è¡Œè¾“å‡º ä¾‹å¦‚</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:global</span> &#123;</span><br><span class="line">  .antd-xxx &#123;</span><br><span class="line">    <span class="selector-tag">color</span>: <span class="selector-id">#ccc</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card</span> &#123;</span><br><span class="line">  :global &#123;</span><br><span class="line">    <span class="selector-class">.antd-xxx</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>:global ä¸æ˜¯å¿…é¡»åœ¨é¡¶éƒ¨å£°æ˜çš„</p>
<h3 id="CSS-IN-JS"><a href="#CSS-IN-JS" class="headerlink" title="CSS IN JS"></a>CSS IN JS</h3><p>å¯¹äºè¿™ç§æ–¹æ¡ˆ æˆ‘ä»¬ç›´æ¥ä¸€ä¸ªç¬¬ä¸‰åº“ <code>styled-components</code></p>
<h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add styled-components</span><br></pre></td></tr></table></figure>

<h4 id="å¼•å…¥"><a href="#å¼•å…¥" class="headerlink" title="å¼•å…¥"></a>å¼•å…¥</h4><p>æ–°å»º style.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> styled <span class="keyword">from</span> <span class="string">&#x27;styled-components&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> styled <span class="keyword">from</span> <span class="string">&#x27;styled-components&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> Header = styled.div<span class="string">`</span></span><br><span class="line"><span class="string">  font-size: 20px;</span></span><br><span class="line"><span class="string">  color: red;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> Footer = styled.div<span class="string">`</span></span><br><span class="line"><span class="string">  color: yellow;</span></span><br><span class="line"><span class="string">`</span>;</span><br></pre></td></tr></table></figure>

<p>ç”¨``åŒ…è£¹çš„è¯­æ³• æ˜¯æ ‡ç­¾å­—ç¬¦ä¸²</p>
<p>styled.div è¿™äº›éƒ½æ˜¯ç¬¬ä¸‰æ–¹åº“ä¸­å†…ç½®çš„æ–¹æ³•</p>
<p>é€šè¿‡æ ‡ç­¾å­—ç¬¦ä¸² æˆ‘ä»¬ä¸ä»…å¯ä»¥è°ƒç”¨è¯¥æ–¹æ³• è€Œä¸”å¯ä»¥åœ¨æ–¹æ³•å†…éƒ¨ é€šè¿‡æŸç§åŒ¹é… å¾—åˆ°æ¯ä¸€ä¸ªæ ·å¼</p>
<p>æœ€ååœ¨ç»„ä»¶ä¸­ æˆ‘ä»¬å¯ä»¥åƒä½¿ç”¨æ™®é€šç»„ä»¶é‚£æ ·æ¥ä½¿ç”¨ CSS æ ·å¼</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Header, Footer &#125; <span class="keyword">from</span> <span class="string">&#x27;./style&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Header&gt;æˆ‘æ˜¯Header&lt;/Header&gt;</span><br><span class="line">      &lt;Footer&gt;æˆ‘æ˜¯Footer&lt;/Footer&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="é«˜çº§ç”¨æ³•"><a href="#é«˜çº§ç”¨æ³•" class="headerlink" title="é«˜çº§ç”¨æ³•"></a>é«˜çº§ç”¨æ³•</h4><h5 id="æ·»åŠ -attrs-å±æ€§"><a href="#æ·»åŠ -attrs-å±æ€§" class="headerlink" title="æ·»åŠ  attrs å±æ€§"></a>æ·»åŠ  attrs å±æ€§</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> HYInput = styled.input.attrs(&#123;</span><br><span class="line">  placeholder: <span class="string">&quot;è¯·å¡«å†™å¯†ç &quot;</span>,</span><br><span class="line">&#125;)<span class="string">`</span></span><br></pre></td></tr></table></figure>

<h5 id="props-ç©¿é€"><a href="#props-ç©¿é€" class="headerlink" title="props ç©¿é€"></a>props ç©¿é€</h5><p>props å¯ä»¥è¢«ä¼ é€’ç»™ styled ç»„ä»¶</p>
<p>åœ¨ç»„ä»¶ä¸­ æˆ‘ä»¬ä¼ é€’ props</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">&lt;Header color=<span class="string">&quot;blue&quot;</span>&gt;&lt;/Header&gt;</span><br></pre></td></tr></table></figure>

<p>åœ¨ styled ç»„ä»¶ä¸­ æˆ‘ä»¬å¯ä»¥æ¥æ”¶åˆ° props</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Header = styled.div<span class="string">`</span></span><br><span class="line"><span class="string">  color: <span class="subst">$&#123;(props) =&gt; props.color&#125;</span>;</span></span><br><span class="line"><span class="string">&#125;`</span>;</span><br></pre></td></tr></table></figure>

<h5 id="æ”¯æŒä¼ªç±»å’Œä¼ªå…ƒç´ "><a href="#æ”¯æŒä¼ªç±»å’Œä¼ªå…ƒç´ " class="headerlink" title="æ”¯æŒä¼ªç±»å’Œä¼ªå…ƒç´ "></a>æ”¯æŒä¼ªç±»å’Œä¼ªå…ƒç´ </h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> Footer = styled.div<span class="string">`</span></span><br><span class="line"><span class="string">  color: yellow;</span></span><br><span class="line"><span class="string">  &amp;:hover &#123;</span></span><br><span class="line"><span class="string">    color: blue;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  &amp;::after &#123;</span></span><br><span class="line"><span class="string">    content: &#x27;é¡µè„š&#x27;;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">`</span>;</span><br></pre></td></tr></table></figure>

<h5 id="æ”¯æŒé€‰æ‹©å™¨åµŒå¥—"><a href="#æ”¯æŒé€‰æ‹©å™¨åµŒå¥—" class="headerlink" title="æ”¯æŒé€‰æ‹©å™¨åµŒå¥—"></a>æ”¯æŒé€‰æ‹©å™¨åµŒå¥—</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> Footer = styled.div<span class="string">`</span></span><br><span class="line"><span class="string">  color: yellow;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  p &#123;</span></span><br><span class="line"><span class="string">    color: red;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">`</span>;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactå°å†Œ -- ç”Ÿå‘½å‘¨æœŸ</title>
    <url>/FE/React/lifecycle/</url>
    <content><![CDATA[<h3 id="React-15"><a href="#React-15" class="headerlink" title="React 15"></a>React 15</h3><figure class="highlight text"><table><tr><td class="code"><pre><span class="line">constructor()</span><br><span class="line">componentWillReceiveProps() -- è¿‡æ—¶</span><br><span class="line">shouldComponentUpdate()</span><br><span class="line">componentWillMount() -- è¿‡æ—¶</span><br><span class="line">componentWillUpdate() -- è¿‡æ—¶</span><br><span class="line">componentDidUpdate()</span><br><span class="line">componentDidMount()</span><br><span class="line">render()</span><br><span class="line">componentWillUnmount()</span><br></pre></td></tr></table></figure>

<h3 id="React-16"><a href="#React-16" class="headerlink" title="React 16"></a>React 16</h3><p><a href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/">React16 ç”Ÿå‘½å‘¨æœŸå›¾è°±</a></p>
<p>åœ¨ React16 å‰ React é‡‡ç”¨åŒæ­¥æ¸²æŸ“çš„æ–¹å¼ æ¯æ¬¡ç»„ä»¶æ›´æ–° éƒ½ä¼šæ„å»ºä¸€é¢—æ–°çš„ dom æ ‘ ç„¶åè¿›è¡Œ diff å®ç°å¯¹ dom çš„å®šå‘æ›´æ–°</p>
<p>ä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹ æ˜¯ä¸€ä¸ªååˆ†è€—æ—¶çš„é€’å½’è¿‡ç¨‹</p>
<p>æœ‰å¯èƒ½åœ¨è¿™ä¸ªæœŸé—´ ç”¨æˆ·éƒ½æ— æ³•è¿›è¡Œä»»ä½•çš„æ“ä½œ å› ä¸ºè¿™ä¸ªè¿‡ç¨‹æŠ¢å äº†ä¸»çº¿ç¨‹ æµè§ˆå™¨æ— æ³•å“åº”å…¶ä»–ä»»ä½•æ“ä½œ</p>
<p>è€Œ React16 ç”¨ Fiber æ¶æ„é‡å†™äº†æ ¸å¿ƒç®—æ³•</p>
<p>å°†åŒæ­¥æ¸²æŸ“æ”¹ä¸ºäº†å¼‚æ­¥æ¸²æŸ“</p>
<p>æŸ¥çœ‹ç”Ÿå‘½å‘¨æœŸå›¾è°±å·¦ä¾§ å¯ä»¥çœ‹åˆ°ç”Ÿå‘½å‘¨æœŸåˆè¢«åˆ†ä¸ºäº†ä¸‰ä¸ªé˜¶æ®µ</p>
<ul>
<li><p>render é˜¶æ®µï¼šçº¯å‡€ä¸”æ²¡æœ‰å‰¯ä½œç”¨ï¼Œå¯èƒ½ä¼šè¢« React æš‚åœã€ç»ˆæ­¢æˆ–é‡æ–°å¯åŠ¨</p>
</li>
<li><p>pre-commit é˜¶æ®µï¼šå¯ä»¥è¯»å– DOM</p>
</li>
<li><p>commit é˜¶æ®µï¼šå¯ä»¥ä½¿ç”¨ DOMï¼Œè¿è¡Œå‰¯ä½œç”¨ï¼Œå®‰æ’æ›´æ–°</p>
</li>
</ul>
<p>ç”¨æˆ·æ„ŸçŸ¥åˆ°æ˜¯ commit é˜¶æ®µ æ‰€ä»¥è¿™ä¸ªé˜¶æ®µå§‹ç»ˆä½¿ç”¨åŒæ­¥æ¸²æŸ“ é¿å…ä»»ä½•å¼‚æ­¥æ¸²æŸ“å¸¦æ¥çš„é£é™©</p>
<p>è€Œ render é˜¶æ®µåˆ™ä¼šå°†ä¸€ä¸ªå¤§çš„æ›´æ–°ä»»åŠ¡æ‹†è§£ä¸ºè®¸å¤šä¸ªå°ä»»åŠ¡</p>
<p>æ¯å½“æ‰§è¡Œå®Œä¸€ä¸ªå°ä»»åŠ¡æ—¶ï¼Œæ¸²æŸ“çº¿ç¨‹éƒ½ä¼šæŠŠä¸»çº¿ç¨‹äº¤å›å»ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰ä¼˜å…ˆçº§æ›´é«˜çš„å·¥ä½œè¦å¤„ç†ï¼Œç¡®ä¿ä¸ä¼šå‡ºç°å…¶ä»–ä»»åŠ¡è¢«â€œé¥¿æ­»â€çš„æƒ…å†µï¼Œè¿›è€Œé¿å…åŒæ­¥æ¸²æŸ“å¸¦æ¥çš„å¡é¡¿</p>
<p>å› ä¸º render é˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸæœ‰å¯èƒ½è¢«æ‰“æ–­é‡æ–°æ‰§è¡Œ æ‰€ä»¥åœ¨ render é˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸå°±å˜å¾—ä¸é‚£ä¹ˆâ€å®‰å…¨â€œäº†</p>
<p>å›è¿‡å¤´æ¥ çœ‹çœ‹ react15 æœ‰å“ªäº›ç”Ÿå‘½å‘¨æœŸä½äº render é˜¶æ®µ</p>
<ul>
<li><p>componentWillMount</p>
</li>
<li><p>componentWillUpdate</p>
</li>
<li><p>componentWillRecevieProps</p>
</li>
</ul>
<p>å› ä¸ºå®ƒä»¬é˜»ç¢äº† Fiber æ¶æ„ æ‰€ä»¥åœ¨ React16 ä¸­å°†å…¶å¼ƒç”¨</p>
<p>å¹¶ä¸”æŠŠæ–°å¢çš„ getDerivedStateFromProps ç”¨ static ä¿®é¥°ï¼Œé˜»æ­¢ç”¨æˆ·åœ¨å…¶å†…éƒ¨ä½¿ç”¨ this</p>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactå°å†Œ -- props &amp; state</title>
    <url>/FE/React/props-state/</url>
    <content><![CDATA[<h2 id="ä¸»è¦å†…å®¹"><a href="#ä¸»è¦å†…å®¹" class="headerlink" title="ä¸»è¦å†…å®¹"></a>ä¸»è¦å†…å®¹</h2><ul>
<li><p>props</p>
</li>
<li><p>state</p>
</li>
<li><p>setState åŒæ­¥ or å¼‚æ­¥</p>
</li>
</ul>
<a id="more"></a>

<h3 id="props"><a href="#props" class="headerlink" title="props"></a>props</h3><h4 id="props-é»˜è®¤å€¼"><a href="#props-é»˜è®¤å€¼" class="headerlink" title="props é»˜è®¤å€¼"></a>props é»˜è®¤å€¼</h4><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Address</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">    address: <span class="string">&#x27;hangzhou&#x27;</span>,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;p&gt;&#123;<span class="built_in">this</span>.props.address&#125;&lt;/p&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ Address.defaultProps çš„è¯­æ³•å»è®¾ç½®é»˜è®¤å€¼</p>
<h4 id="ä½¿ç”¨-propTypes-è¿›è¡Œç±»å‹æ£€æŸ¥"><a href="#ä½¿ç”¨-propTypes-è¿›è¡Œç±»å‹æ£€æŸ¥" class="headerlink" title="ä½¿ç”¨ propTypes è¿›è¡Œç±»å‹æ£€æŸ¥"></a>ä½¿ç”¨ propTypes è¿›è¡Œç±»å‹æ£€æŸ¥</h4><p>propsTypes åœ¨ä½¿ç”¨æ—¶ éœ€è¦å¼•å…¥ prop-types åº“</p>
<p><strong>æ³¨æ„ åœ¨ ä½¿ç”¨æ—¶ propTypes è¦ä»¥å°å†™å¼€å¤´</strong></p>
<p>å…·ä½“é…ç½® å®˜ç½‘å·²ç»å†™çš„å¾ˆè¯¦ç»†äº† <a href="https://zh-hans.reactjs.org/docs/typechecking-with-proptypes.html">å‚è€ƒ</a></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> PropTypes <span class="keyword">from</span> <span class="string">&#x27;prop-types&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Address</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">    address: <span class="string">&#x27;hangzhou&#x27;</span>,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ³¨æ„ è¿™é‡Œçš„propTypes æ˜¯å°é©¼å³°</span></span><br><span class="line">  <span class="keyword">static</span> propTypes = &#123;</span><br><span class="line">    address: PropTypes.string.isRequired,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;p&gt;&#123;<span class="built_in">this</span>.props.address&#125;&lt;/p&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;Address address=&#123;<span class="string">&#x27;123&#x27;</span>&#125; /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°éªŒè¯ æˆ‘ä»¬æœŸæœ› address ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸² ä½†æ˜¯çˆ¶ç»„ä»¶ä¼ å…¥äº†ä¸€ä¸ªæ•°å­—</p>
<p>æ§åˆ¶å° å°±ä¼šè¿›è¡Œè­¦å‘Š ä½†æ˜¯å®ƒä¸æ˜¯æŠ¥é”™</p>
<h3 id="state"><a href="#state" class="headerlink" title="state"></a>state</h3><p>å’Œ props ä¸åŒçš„æ˜¯ props æ˜¯å¤–éƒ¨æ•°æ®æ¥ç»´æŠ¤ç»„ä»¶</p>
<p>è€Œ state æ˜¯å†…éƒ¨æ•°æ®æ¥ç»´æŠ¤ç»„ä»¶</p>
<p>ä½†æ˜¯ä¸ç®¡æ˜¯ props è¿˜æ˜¯ state éƒ½æ˜¯<strong>ä¸å¯å˜æ•°æ®</strong></p>
<p>å³ æˆ‘ä»¬ä¸å¯ä»¥ç›´æ¥å»ä¿®æ”¹åŸå§‹æ•°æ®çš„ props å’Œ state</p>
<p>å¿…é¡» æ‹·è´ä¸€ä»½æ–°çš„æ•°æ®è¿›è¡Œä¿®æ”¹</p>
<h4 id="setState"><a href="#setState" class="headerlink" title="setState"></a>setState</h4><p>setState ç»§æ‰¿è‡ª Component æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨ setState æ–¹æ³•</p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä»¥ä¸‹ä»£ç ç‰‡æ®µ</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(props);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      name: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">      age: <span class="number">18</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;p&gt;name : &#123;<span class="built_in">this</span>.state.name&#125;&lt;/p&gt;</span><br><span class="line">        &lt;p&gt;age : &#123;<span class="built_in">this</span>.state.age&#125;&lt;/p&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="function">() =&gt;</span> <span class="built_in">this</span>.handleNameChange()&#125;&gt;change name&lt;/button&gt;</span><br><span class="line">      &lt;/&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">handleNameChange</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      name: <span class="string">&#x27;luckychou&#x27;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åœ¨ state ä¸­ä¿å­˜äº†ä¸¤ä¸ªçŠ¶æ€ name å’Œ age</p>
<p>ä½†æ˜¯ åœ¨ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™ æˆ‘ä»¬åªä¿®æ”¹äº† name è¿™ä¸€ä¸ªå±æ€§</p>
<p>æ‰€ä»¥ åœ¨è¿™ä¸ªæ“ä½œçš„æ—¶å€™ age å±æ€§ åˆ°åº•ä¼šæœ‰å½±å“å˜›</p>
<p>ä½†å…¶å® React åœ¨ setState è¿™ä¸€ä¸ªæ“ä½œä¸­ å…¶å®æ˜¯åˆå¹¶äº†å‰åçš„ state</p>
<p>ç”¨åˆ°äº† Object.assign({},oldState,newState)</p>
<h5 id="å¼‚æ­¥-or-åŒæ­¥"><a href="#å¼‚æ­¥-or-åŒæ­¥" class="headerlink" title="å¼‚æ­¥ or åŒæ­¥"></a>å¼‚æ­¥ or åŒæ­¥</h5><p>æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹åˆšåˆšçš„ä»£ç ç‰‡æ®µ</p>
<p>åœ¨æ‰§è¡Œ setState çš„å‰å éƒ½æ‰“å°ä¸€ä¸‹ æˆ‘ä»¬çš„ name å±æ€§</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">handleNameChange</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.state.name)</span><br><span class="line">  <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">    name: <span class="string">&#x27;luckychou&#x27;</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.state.name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥æƒŠå¥‡çš„å‘ç° ä¸¤æ¬¡çš„æ‰“å°ç»“æœéƒ½æ˜¯ chou å¹¶æœªæ›´æ–°æˆ æœ€æ–°çš„æ•°æ®</p>
<p>é‚£å¦‚æœæˆ‘ä»¬éœ€è¦æ‹¿åˆ°æœ€æ–°çš„ state å¹¶åŸºäºæœ€æ–°çš„æ•°æ®è¿›è¡Œæ“ä½œ è¯¥æ€ä¹ˆåŠå‘¢</p>
<p>è¿™æ—¶ æˆ‘ä»¬å¯ä»¥ç»™ setState ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•° è¿™æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">handleNameChange</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.state.name)</span><br><span class="line">  <span class="built_in">this</span>.setState(</span><br><span class="line">    &#123;</span><br><span class="line">      name: <span class="string">&#x27;luckychou&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    () =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘æ˜¯æœ€æ–°çš„æ•°æ®å“¦,name : &#x27;</span>, <span class="built_in">this</span>.state.name)</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.state.name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹æ¯” ä¸‰æ¬¡æ‰“å°ç»“æœ æˆ‘ä»¬å¯ä»¥å‘ç° ä½¿ç”¨è¿™ç§æ–¹æ³• æˆ‘ä»¬ç¡®å®å¯ä»¥æ‹¿åˆ°æœ€æ–°çš„ state</p>
<p>æˆ‘ä»¬ç»§ç»­ä¿®æ”¹æˆ‘ä»¬çš„ä»£ç  æ·»åŠ  count çŠ¶æ€ å’Œ button æŒ‰é’® å¹¶ä¸ºå…¶ç»‘å®šäº‹ä»¶</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">handleCountAdd</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">    count: <span class="built_in">this</span>.state.count + <span class="number">1</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">    count: <span class="built_in">this</span>.state.count + <span class="number">1</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">    count: <span class="built_in">this</span>.state.count + <span class="number">1</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‚£å¦‚æœæ˜¯è¿™æ ·å‘¢</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">handleCountAdd</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      count: <span class="built_in">this</span>.state.count + <span class="number">1</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      count: <span class="built_in">this</span>.state.count + <span class="number">1</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      count: <span class="built_in">this</span>.state.count + <span class="number">1</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœªä½¿ç”¨å®šæ—¶å™¨çš„æƒ…å†µä¸‹ æˆ‘ä»¬ä¼šå¾—åˆ°è¶…å‡ºé¢„æœŸçš„ç»“æœ</p>
<p>è™½ç„¶ äº‹ä»¶å†…éƒ¨æ‰§è¡Œäº† ä¸‰æ¬¡ +1 çš„æ“ä½œ ä½†æ˜¯ç‚¹å‡»æŒ‰é’®æ—¶ å‘ˆç°çš„æ•ˆæœè¿˜æ˜¯ åªåŠ äº†ä¸€æ¬¡ 1</p>
<p>è€Œä½¿ç”¨å®šæ—¶å™¨åˆ™å’Œæˆ‘ä»¬çš„é¢„æœŸä¸€è‡´</p>
<p>OK ç°åœ¨ æˆ‘ä»¬æ¥åšä¸€ä¸ªæ€»ç»“</p>
<ul>
<li><p>setState åœ¨åˆæˆäº‹ä»¶(onClick)å’Œå›è°ƒå‡½æ•°ä¸­æ˜¯å¼‚æ­¥çš„</p>
</li>
<li><p>åœ¨å®šæ—¶å™¨å’ŒåŸç”Ÿäº‹ä»¶(é€šè¿‡ dom addEventListener)ä¸­æ˜¯åŒæ­¥çš„</p>
</li>
</ul>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactå°å†Œ -- hooks è½»å·§å¿«è‰‡ vs é‡è£…æˆ˜èˆ°</title>
    <url>/FE/React/hooks/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><ul>
<li><p>ç±»ç»„ä»¶éœ€è¦ç»§æ‰¿ classï¼Œå‡½æ•°ç»„ä»¶ä¸éœ€è¦</p>
</li>
<li><p>ç±»ç»„ä»¶å¯ä»¥è®¿é—®ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå‡½æ•°ç»„ä»¶ä¸èƒ½</p>
</li>
<li><p>ç±»ç»„ä»¶ä¸­å¯ä»¥è·å–åˆ°å®ä¾‹åŒ–åçš„ thisï¼Œå¹¶åŸºäºè¿™ä¸ª this åšå„ç§å„æ ·çš„äº‹æƒ…ï¼Œè€Œå‡½æ•°ç»„ä»¶ä¸å¯ä»¥</p>
</li>
<li><p>ç±»ç»„ä»¶ä¸­å¯ä»¥å®šä¹‰å¹¶ç»´æŠ¤ stateï¼ˆçŠ¶æ€ï¼‰ï¼Œè€Œå‡½æ•°ç»„ä»¶ä¸å¯ä»¥ ï¼ˆhook ä¹‹åæ”¹å˜äº†è¿™ç§æƒ…å†µï¼‰</p>
</li>
<li><p>â€¦â€¦</p>
</li>
</ul>
<a id="more"></a>

<p>ç±»ç»„ä»¶çš„çŠ¶æ€ ä¸€èˆ¬ç”±ç»„ä»¶å†…éƒ¨ç»´æŠ¤ è¿™æ ·å°±ä¼šé€ æˆç»„ä»¶çš„å¤ç”¨æ€§å¾ˆå·®</p>
<p>è€Œå‡½æ•°å¼ç»„ä»¶ åˆæ— æ³•ä¿å­˜çŠ¶æ€ æ¯”å¦‚å¦‚ä¸‹ä»£ç </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> result = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span> result + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add(<span class="number">1</span>); <span class="comment">//1</span></span><br><span class="line">add(<span class="number">1</span>); <span class="comment">//1</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ— æ³•åœ¨å‡½æ•°ä¸­ä¿å­˜ result çš„çŠ¶æ€ å› ä¸ºæ¯ä¸€æ¬¡æ‰§è¡Œå‡½æ•°æ—¶ éƒ½ä¼šé‡æ–°åˆå§‹åŒ– result</p>
<p>è¿™ä¸ªæ—¶å€™ hook å°±æ¨ªç©ºå‡ºä¸–äº† å®ƒæƒ³è¦è§£å†³çš„é—®é¢˜å°±æ˜¯</p>
<p>è®©å‡½æ•°å¼ç»„ä»¶æ‹¥æœ‰ç±»ä¼¼ç±»ç»„ä»¶çš„åŠŸèƒ½</p>
<p>è¯´å¾—æ›´å…·ä½“ä¸€ç‚¹ï¼Œå‡½æ•°ç»„ä»¶æ›´åŠ å¥‘åˆ React æ¡†æ¶çš„è®¾è®¡ç†å¿µ</p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ demo</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProfilePageClass</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  showMessage = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    alert(<span class="string">&#x27;Followed &#x27;</span> + <span class="built_in">this</span>.props.user);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  handleClick = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="built_in">this</span>.showMessage, <span class="number">3000</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handleClick&#125;</span>&gt;</span>Follow<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ProfilePageFunction</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> showMessage = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    alert(<span class="string">&#x27;Followed &#x27;</span> + props.user);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> handleClick = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(showMessage, <span class="number">3000</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;handleClick&#125;</span>&gt;</span>Follow<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    user: <span class="string">&#x27;lucky&#x27;</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">          &lt;b&gt;Choose profile to view: &lt;/b&gt;</span><br><span class="line">          &lt;select</span><br><span class="line">            value=&#123;<span class="built_in">this</span>.state.user&#125;</span><br><span class="line">            onChange=&#123;<span class="function">(<span class="params">e</span>) =&gt;</span> <span class="built_in">this</span>.setState(&#123; <span class="attr">user</span>: e.target.value &#125;)&#125;</span><br><span class="line">          &gt;</span><br><span class="line">            &lt;option value=<span class="string">&quot;lucky&quot;</span>&gt;lucky&lt;/option&gt;</span><br><span class="line">            &lt;option value=<span class="string">&quot;chou&quot;</span>&gt;chou&lt;/option&gt;</span><br><span class="line">            &lt;option value=<span class="string">&quot;ramires&quot;</span>&gt;ramires&lt;/option&gt;</span><br><span class="line">          &lt;/select&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;h1&gt;Welcome to &#123;<span class="built_in">this</span>.state.user&#125;â€™s profile!&lt;/h1&gt;</span><br><span class="line">        &lt;p&gt;</span><br><span class="line">          &lt;ProfilePageFunction user=&#123;<span class="built_in">this</span>.state.user&#125; /&gt;</span><br><span class="line">          &lt;b&gt; (<span class="function"><span class="keyword">function</span>)&lt;/<span class="title">b</span>&gt;</span></span><br><span class="line"><span class="function">        &lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="function">        &lt;<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="function">          &lt;<span class="title">ProfilePageClass</span> <span class="title">user</span>=</span>&#123;<span class="built_in">this</span>.state.user&#125; /&gt;</span><br><span class="line">          &lt;b&gt; (<span class="class"><span class="keyword">class</span>)&lt;/<span class="title">b</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">p</span>&gt;<span class="title">Can</span> <span class="title">you</span> <span class="title">spot</span> <span class="title">the</span> <span class="title">difference</span> <span class="title">in</span> <span class="title">the</span> <span class="title">behavior</span>?&lt;/<span class="title">p</span>&gt;</span></span><br><span class="line"><span class="class">      &lt;/&gt;</span></span><br><span class="line"><span class="class">    )</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é€šè¿‡ setTimeout å°†é¢„æœŸä¸­çš„æ¸²æŸ“æ¨è¿Ÿäº† 3sï¼Œæ‰“ç ´äº† this.props å’Œæ¸²æŸ“åŠ¨ä½œä¹‹é—´çš„è¿™ç§æ—¶æœºä¸Šçš„å…³è”</p>
<p>è¿›è€Œå¯¼è‡´ç±»ç»„ä»¶åœ¨æ¸²æŸ“æ—¶æ•è·åˆ°çš„æ˜¯ä¸€ä¸ªé”™è¯¯çš„ã€ä¿®æ”¹åçš„ this.props</p>
<p>è€Œå‡½æ•°å¼ç»„ä»¶å¯ä»¥ç¡®ä¿åœ¨ä»»ä½•æ—¶æœºä¸‹è¯»å–åˆ°çš„ propsï¼Œéƒ½æ˜¯æœ€åˆæ•è·åˆ°çš„é‚£ä¸ª props</p>
<p>æ‰€ä»¥å‡½æ•°ç»„ä»¶æ˜¯ä¸€ä¸ªæ›´åŠ åŒ¹é…å…¶è®¾è®¡ç†å¿µã€ä¹Ÿæ›´æœ‰åˆ©äºé€»è¾‘æ‹†åˆ†ä¸é‡ç”¨çš„ç»„ä»¶è¡¨è¾¾å½¢å¼</p>
<h2 id="å†…ç½®-hooks"><a href="#å†…ç½®-hooks" class="headerlink" title="å†…ç½® hooks"></a>å†…ç½® hooks</h2><h3 id="useState"><a href="#useState" class="headerlink" title="useState"></a>useState</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import React, &#123; useState &#125; from &#39;react&#39;;</span><br><span class="line">import &#123; Statistic, Button &#125; from &#39;antd&#39;;</span><br><span class="line">import &#123; LikeOutlined &#125; from &#39;@ant-design&#x2F;icons&#39;;</span><br><span class="line"></span><br><span class="line">const Counter: React.FunctionComponent &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const [count, setCount] &#x3D; useState&lt;number&gt;(0);</span><br><span class="line"></span><br><span class="line">  const addCountSync &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    setCount(count + 1);</span><br><span class="line">    setCount(count + 1);</span><br><span class="line">    setCount(count + 1);</span><br><span class="line">    setCount(count + 1);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  const addCountAsync &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    setCount((preState) &#x3D;&gt; preState + 1);</span><br><span class="line">    setCount((preState) &#x3D;&gt; preState + 1);</span><br><span class="line">    setCount((preState) &#x3D;&gt; preState + 1);</span><br><span class="line">    setCount((preState) &#x3D;&gt; preState + 1);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;Statistic value&#x3D;&#123;count&#125; prefix&#x3D;&#123;&lt;LikeOutlined &#x2F;&gt;&#125; &#x2F;&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; setCount(count + 1)&#125;&gt;ADD COUNTER&lt;&#x2F;Button&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; addCountSync()&#125;&gt;ADD COUNTER SYNC&lt;&#x2F;Button&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; addCountAsync()&#125;&gt;ADD COUNTER ASYNC&lt;&#x2F;Button&gt;</span><br><span class="line">    &lt;&#x2F;&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default Counter;</span><br></pre></td></tr></table></figure>

<h3 id="useReducer"><a href="#useReducer" class="headerlink" title="useReducer"></a>useReducer</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * useReducer</span><br><span class="line"> * å’Œreduxæ²¡æœ‰å…³ç³» ç»„ä»¶ä¹‹é—´ä¸å…±äº«æ•°æ®</span><br><span class="line"> * æ˜¯useStateçš„ä¸€ç§æ›¿ä»£æ–¹æ¡ˆ</span><br><span class="line"> * å¯¹äºå¤æ‚çš„ä¸šåŠ¡ ä½¿ç”¨useReduceræ¯”useStateä¼šæœ‰æ›´å¥½çš„å¯è¯»æ€§</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">import React, &#123; useReducer &#125; from &#39;react&#39;;</span><br><span class="line">import &#123; Button &#125; from &#39;antd&#39;;</span><br><span class="line"></span><br><span class="line">enum Actions &#123;</span><br><span class="line">  ADD_COUNT_VALUE &#x3D; &#39;ADD_COUNT_VALUE&#39;,</span><br><span class="line">  SUB_COUNT_VALUE &#x3D; &#39;SUB_COUNT_VALUE&#39;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface IState &#123;</span><br><span class="line">  count: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface IAction &#123;</span><br><span class="line">  type: Actions;</span><br><span class="line">  payload?: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const myReducers &#x3D; (state: IState, action: IAction) &#x3D;&gt; &#123;</span><br><span class="line">  const &#123; payload &#x3D; 1 &#125; &#x3D; action;</span><br><span class="line">  switch (action.type) &#123;</span><br><span class="line">    case Actions.ADD_COUNT_VALUE:</span><br><span class="line">      return &#123;</span><br><span class="line">        ...state,</span><br><span class="line">        count: state.count + payload,</span><br><span class="line">      &#125;;</span><br><span class="line">    case Actions.SUB_COUNT_VALUE:</span><br><span class="line">      return &#123;</span><br><span class="line">        ...state,</span><br><span class="line">        count: state.count - payload,</span><br><span class="line">      &#125;;</span><br><span class="line">    default:</span><br><span class="line">      return state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const Count &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const [state, dispatch] &#x3D; useReducer(myReducers, &#123; count: 0 &#125;);</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;å½“å‰è®¡æ•°ï¼š&#123;state.count&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;Button</span><br><span class="line">        onClick&#x3D;&#123;() &#x3D;&gt; dispatch(&#123; type: Actions.ADD_COUNT_VALUE, payload: 2 &#125;)&#125;</span><br><span class="line">      &gt;</span><br><span class="line">        +2</span><br><span class="line">      &lt;&#x2F;Button&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; dispatch(&#123; type: Actions.SUB_COUNT_VALUE &#125;)&#125;&gt;</span><br><span class="line">        -1</span><br><span class="line">      &lt;&#x2F;Button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default function App() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;Count &#x2F;&gt;</span><br><span class="line">      &lt;Count &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect"></a>useEffect</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * useEffect</span><br><span class="line"> * å…è®¸å‡½æ•°ç»„ä»¶æ‰§è¡Œå‰¯ä½œç”¨æ“ä½œ åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¼¥è¡¥äº†ç”Ÿå‘½å‘¨æœŸçš„ç¼ºå¸­</span><br><span class="line"> * å¯ä»¥æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å›è°ƒå‡½æ•°ä¸ä¾èµ–æ•°ç»„ useEffect(callBack, [])</span><br><span class="line"> * ç¬¬ä¸€ä¸ªå‚æ•° å‡½æ•°å½¢å¼ å¯å®ç°ç­‰åŒäºcomponentDidMount shouldComponentUpdate componentWillUnmount</span><br><span class="line"> * å¹¶ä¸”å¯ä»¥è¿”å›ä¸€ä¸ªå‡½æ•° ç”¨æ¥æ¶ˆé™¤å‰¯ä½œç”¨ ç±»ä¼¼componentWillUnmount å¯ä»¥åšä¸€äº›äº‹ä»¶çš„è§£ç»‘ å®šæ—¶å™¨çš„å…³é—­ç­‰</span><br><span class="line"> * ç¬¬äºŒä¸ªå‚æ•° æ•°ç»„ çŠ¶æ€ä¾èµ–é¡¹ å®ç°æ€§èƒ½ä¼˜åŒ– å¦‚æœä¼ [] åˆ™ç­‰åŒäºä¸å¼€å¯shouldComponentUpdate</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">import React, &#123; FC, useEffect, useState &#125; from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">import &#123; Button, Tag &#125; from &#39;antd&#39;;</span><br><span class="line"></span><br><span class="line">const App: FC &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const [state, setState] &#x3D; useState&lt;Number[]&gt;([]);</span><br><span class="line">  const [tag, setTag] &#x3D; useState&lt;string&gt;(&#39;Tag&#39;);</span><br><span class="line">  useEffect(() &#x3D;&gt; &#123;</span><br><span class="line">    console.log(&#39;stateæ›´æ–°äº†&#39;);</span><br><span class="line"></span><br><span class="line">    return () &#x3D;&gt; &#123;</span><br><span class="line">      console.log(&#39;componentWillUnmount&#39;);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;, [state]);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Button</span><br><span class="line">        onClick&#x3D;&#123;() &#x3D;&gt;</span><br><span class="line">          setState((prevState) &#x3D;&gt; [</span><br><span class="line">            ...prevState,</span><br><span class="line">            Math.trunc(Math.random() * 10),</span><br><span class="line">          ])</span><br><span class="line">        &#125;</span><br><span class="line">      &gt;</span><br><span class="line">        change state</span><br><span class="line">      &lt;&#x2F;Button&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; setTag(&#39;new Tag&#39;)&#125;&gt;change tag&lt;&#x2F;Button&gt;</span><br><span class="line">      &lt;br &#x2F;&gt;</span><br><span class="line">      &lt;Tag color&#x3D;&quot;orange&quot;&gt;&#123;tag&#125;&lt;&#x2F;Tag&gt;</span><br><span class="line">      &#123;state.map((item, idx) &#x3D;&gt; &#123;</span><br><span class="line">        return (</span><br><span class="line">          &lt;Tag color&#x3D;&quot;orange&quot; key&#x3D;&#123;idx&#125;&gt;</span><br><span class="line">            &#123;item&#125;</span><br><span class="line">          &lt;&#x2F;Tag&gt;</span><br><span class="line">        );</span><br><span class="line">      &#125;)&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default App;</span><br></pre></td></tr></table></figure>

<h3 id="useContext"><a href="#useContext" class="headerlink" title="useContext"></a>useContext</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * useContext</span><br><span class="line"> * å¯ä»¥åœ¨å­ç»„ä»¶ä¹‹é—´å…±äº«æ•°æ®</span><br><span class="line"> * 1)åœ¨ç»„ä»¶å¤–åˆ›å»ºcontextå¯¹è±¡ const AppContext &#x3D; React.createContext(&#123;&#125;)</span><br><span class="line"> * 2)çˆ¶ç»„ä»¶å†…ä½¿ç”¨contextå¯¹è±¡ä¸‹çš„Provider å¹¶èµ‹å€¼</span><br><span class="line"> * 3)åœ¨å­ç»„ä»¶å†…è¿‡å»contextå¯¹è±¡ React.useContext(AppContext)</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">import React from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">interface ITheme &#123;</span><br><span class="line">  theme: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const AppContext &#x3D; React.createContext&lt;ITheme&gt;(&#123;</span><br><span class="line">  theme: &#39;red&#39;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const NavBar &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const &#123; theme &#125; &#x3D; React.useContext(AppContext);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h2 style&#x3D;&#123;&#123; color: theme &#125;&#125;&gt;NavBar&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const Message &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const &#123; theme &#125; &#x3D; React.useContext(AppContext);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h2 style&#x3D;&#123;&#123; color: theme &#125;&#125;&gt;Message&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default function App() &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;AppContext.Provider value&#x3D;&#123;&#123; theme: &#39;red&#39; &#125;&#125;&gt;</span><br><span class="line">      &lt;NavBar &#x2F;&gt;</span><br><span class="line">      &lt;Message &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;AppContext.Provider&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="useRef"><a href="#useRef" class="headerlink" title="useRef"></a>useRef</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * useRef</span><br><span class="line"> * è·å–ç»“ç‚¹</span><br><span class="line"> * ä¿å­˜æ•°æ®</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">import &#123; Button, Input &#125; from &#39;antd&#39;;</span><br><span class="line">import React, &#123; FC, useRef, useState &#125; from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">const App: FC &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const [count, setCount] &#x3D; useState&lt;number&gt;(0);</span><br><span class="line">  const numRef &#x3D; useRef&lt;number&gt;(count);</span><br><span class="line">  const domRef &#x3D; useRef&lt;HTMLInputElement | null&gt;(null);</span><br><span class="line">  const antdRef &#x3D; useRef&lt;Input | null&gt;(null);</span><br><span class="line">  const showRef &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    console.log(domRef.current, antdRef.current);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;input defaultValue&#x3D;&quot;h5&quot; ref&#x3D;&#123;domRef&#125; &#x2F;&gt;</span><br><span class="line">      &lt;Input defaultValue&#x3D;&quot;antd&quot; ref&#x3D;&#123;antdRef&#125; style&#x3D;&#123;&#123; width: 200 &#125;&#125;&gt;&lt;&#x2F;Input&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; showRef()&#125;&gt;showRef&lt;&#x2F;Button&gt;</span><br><span class="line"></span><br><span class="line">      &lt;p&gt;count : &#123;count&#125;&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">      &#123;&#x2F;* numRefçš„å€¼å§‹ç»ˆå¼•ç”¨æœ€åˆçš„é‚£ä¸ªcount *&#x2F;&#125;</span><br><span class="line">      &lt;p&gt;numRef : &#123;numRef.current&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; setCount(count + 1)&#125;&gt;+1&lt;&#x2F;Button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default App;</span><br></pre></td></tr></table></figure>

<h3 id="useCallback"><a href="#useCallback" class="headerlink" title="useCallback"></a>useCallback</h3><p>åœ¨ä¹‹å‰çš„ç« èŠ‚ä¸­ æˆ‘ä»¬ç”¨ shouldComponentUpdate å®ç°è¿‡æ€§èƒ½ä¼˜åŒ–</p>
<p>ä¹Ÿç”¨è¿‡ PureComponent å’Œ memo æ¥å®ç°</p>
<p>åœ¨ä½¿ç”¨ memo çš„æ—¶å€™ React å†…éƒ¨ä½¿ç”¨çš„æ˜¯æµ…å±‚æ¯”è¾ƒ</p>
<p>å¯¹äºå‡½æ•°å’Œå¯¹è±¡ å…¶å®ä¸ç®¡æ€æ ·éƒ½æ˜¯ä¸ä¼šç›¸ç­‰çš„</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">() =&gt; &#123;&#125; === <span class="function">() =&gt;</span> &#123;&#125; <span class="comment">// false</span></span><br><span class="line">&#123;&#125; === &#123;&#125; <span class="comment">// false</span></span><br><span class="line">[] === [] <span class="comment">// false</span></span><br><span class="line"><span class="number">1</span> === <span class="number">1</span> <span class="comment">// true</span></span><br><span class="line"><span class="string">&#x27;1&#x27;</span> === <span class="string">&#x27;1&#x27;</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥å‡è®¾ æˆ‘ä»¬åœ¨çˆ¶ç»„ä»¶ä¸­å°†<strong>å¼•ç”¨æ•°æ®ç±»å‹</strong>å½“ä½œ props ä¼ é€’ç»™å­ç»„ä»¶æ—¶</p>
<p>è¿™æ—¶å€™ å­ç»„ä»¶çš„ memo å°±ä¼šå¤±æ•ˆ</p>
<p>è€Œåœ¨ hook ä¸­ å¯¹äºå‡½æ•° æˆ‘ä»¬å¯ä»¥ç”¨ useCallback å°†å‡½æ•°åŒ…è£…</p>
<p>å¯¹äºå¯¹è±¡ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ useMemo å°†å¯¹è±¡åŒ…è£…</p>
<p>æ³¨ï¼šæ»¥ç”¨ useCallback ä¸ä»…ä¸ä¼šä¼˜åŒ–æ€§èƒ½ è¿˜ä¼šé€ æˆæ€§èƒ½æµªè´¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * useCallback</span><br><span class="line"> * æœ‰ä¸€ä¸ªçˆ¶ç»„ä»¶ï¼Œå…¶ä¸­åŒ…å«å­ç»„ä»¶ï¼Œå­ç»„ä»¶æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºpropsï¼›</span><br><span class="line"> * é€šå¸¸è€Œè¨€ï¼Œå¦‚æœçˆ¶ç»„ä»¶æ›´æ–°äº†ï¼Œå­ç»„ä»¶ä¹Ÿä¼šæ‰§è¡Œæ›´æ–°ï¼›ä½†æ˜¯å¤§å¤šæ•°åœºæ™¯ä¸‹ï¼Œæ›´æ–°æ˜¯æ²¡æœ‰å¿…è¦çš„ï¼Œ</span><br><span class="line"> * æˆ‘ä»¬å¯ä»¥å€ŸåŠ©useCallbackæ¥è¿”å›å‡½æ•°ï¼Œç„¶åæŠŠè¿™ä¸ªå‡½æ•°ä½œä¸ºpropsä¼ é€’ç»™å­ç»„ä»¶ï¼›è¿™æ ·ï¼Œå­ç»„ä»¶å°±èƒ½é¿å…ä¸å¿…è¦çš„æ›´æ–°</span><br><span class="line"> * useCallback(()&#x3D;&gt;&#123;&#125;,[])</span><br><span class="line"> * ç¬¬ä¸€ä¸ªå‚æ•° æ˜¯ä¸€ä¸ªå‡½æ•°</span><br><span class="line"> * ç¬¬äºŒä¸ªå‚æ•° æ˜¯ä¸€ä¸ªæ•°ç»„ æ˜¯è¿™ä¸ªå‡½æ•°çš„ä¾èµ–é¡¹ åªæœ‰ä¾èµ–é¡¹æ›´æ–° å‡½æ•°æ‰ä¼šé‡æ–°æ‰§è¡Œ</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">import &#123; Button &#125; from &#39;antd&#39;;</span><br><span class="line">import React, &#123; useState, useCallback, memo &#125; from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">interface IProps &#123;</span><br><span class="line">  getSum: () &#x3D;&gt; number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const Child1 &#x3D; memo((&#123; getSum &#125;: IProps) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&#39;æˆ‘æ˜¯å­ç»„ä»¶ åœ¨çˆ¶ç»„ä»¶ä¸­æ²¡ä½¿ç”¨useCallback&#39;);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;getSum&#125;&gt;æ²¡ä½¿ç”¨useCallback&lt;&#x2F;Button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const Child2 &#x3D; memo((&#123; getSum &#125;: IProps) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&#39;æˆ‘æ˜¯å­ç»„ä»¶ åœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨äº†useCallback&#39;);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;getSum&#125;&gt;ä½¿ç”¨äº†useCallback&lt;&#x2F;Button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const Parent &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const [num, setNum] &#x3D; useState(0);</span><br><span class="line">  const [max, setMax] &#x3D; useState(100);</span><br><span class="line"></span><br><span class="line">  const getSum1 &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    console.log(&#39;getSum1æ–¹æ³•æ‰§è¡Œäº†&#39;);</span><br><span class="line">    let sum &#x3D; 0;</span><br><span class="line">    for (let i &#x3D; 0; i &lt; max; i++) &#123;</span><br><span class="line">      sum +&#x3D; i;</span><br><span class="line">    &#125;</span><br><span class="line">    return sum;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  const getSum2 &#x3D; useCallback(() &#x3D;&gt; &#123;</span><br><span class="line">    console.log(&#39;getSum2æ–¹æ³•æ‰§è¡Œäº†&#39;);</span><br><span class="line">    let sum &#x3D; 0;</span><br><span class="line">    for (let i &#x3D; 0; i &lt; max; i++) &#123;</span><br><span class="line">      sum +&#x3D; i;</span><br><span class="line">    &#125;</span><br><span class="line">    return sum;</span><br><span class="line">  &#125;, [max]);</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;sum : &#123;getSum1()&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;p&gt;sum : &#123;getSum2()&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;p&gt;num : &#123;num&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; setNum(num + 1)&#125;&gt;change num&lt;&#x2F;Button&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; setMax((pre) &#x3D;&gt; pre * 2)&#125;&gt;change max&lt;&#x2F;Button&gt;</span><br><span class="line">      &lt;Child1 getSum&#x3D;&#123;getSum1&#125; &#x2F;&gt;</span><br><span class="line">      &lt;Child2 getSum&#x3D;&#123;getSum2&#125; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default Parent;</span><br></pre></td></tr></table></figure>

<h3 id="useMemo"><a href="#useMemo" class="headerlink" title="useMemo"></a>useMemo</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * useMemo</span><br><span class="line"> * æœ‰ä¸€ä¸ªçˆ¶ç»„ä»¶ï¼Œå…¶ä¸­åŒ…å«å­ç»„ä»¶ï¼Œå­ç»„ä»¶æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºpropsï¼›</span><br><span class="line"> * é€šå¸¸è€Œè¨€ï¼Œå¦‚æœçˆ¶ç»„ä»¶æ›´æ–°äº†ï¼Œå­ç»„ä»¶ä¹Ÿä¼šæ‰§è¡Œæ›´æ–°ï¼›ä½†æ˜¯å¤§å¤šæ•°åœºæ™¯ä¸‹ï¼Œæ›´æ–°æ˜¯æ²¡æœ‰å¿…è¦çš„ï¼Œ</span><br><span class="line"> * æˆ‘ä»¬å¯ä»¥å€ŸåŠ©useMemoæ¥è¿”å›å‡½æ•°ï¼Œç„¶åæŠŠè¿™ä¸ªå¯¹è±¡ä½œä¸ºpropsä¼ é€’ç»™å­ç»„ä»¶ï¼›è¿™æ ·ï¼Œå­ç»„ä»¶å°±èƒ½é¿å…ä¸å¿…è¦çš„æ›´æ–°</span><br><span class="line"> * useMemo(()&#x3D;&gt;(&#123;&#125;),[])</span><br><span class="line"> * ç¬¬ä¸€ä¸ªå‚æ•° æ˜¯ä¸€ä¸ªå‡½æ•° è¿”å›ä¸€ä¸ªå¯¹è±¡</span><br><span class="line"> * ç¬¬äºŒä¸ªå‚æ•° æ˜¯ä¸€ä¸ªæ•°ç»„ åŒ…å«äº†è¿™ä¸ªå¯¹è±¡çš„ä¾èµ–é¡¹ åªæœ‰ä¾èµ–é¡¹æ›´æ–° å‡½æ•°æ‰ä¼šé‡æ–°æ‰§è¡Œ</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">import &#123; Button &#125; from &#39;antd&#39;;</span><br><span class="line">import React, &#123; useState, useMemo, memo &#125; from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">interface IProps &#123;</span><br><span class="line">  age?: number;</span><br><span class="line">  stu?: &#123; name: string; age: number &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ¥æ”¶çš„æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ memoç”Ÿæ•ˆ</span><br><span class="line">const Child &#x3D; memo((&#123; age &#125;: IProps) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&#39;propsä¸ºåŸºæœ¬æ•°æ®ç±»å‹çš„å­ç»„ä»¶æ¸²æŸ“äº†&#39;);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;propsä¸ºåŸºæœ¬æ•°æ®ç±»å‹&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;h2&gt;age:&#123;age&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶ä¸­æ²¡æœ‰ä½¿ç”¨useMemo å­ç»„ä»¶çš„memoå¤±æ•ˆ</span><br><span class="line">const Child1 &#x3D; memo((&#123; stu &#125;: IProps) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&#39;propsä¸ºå¼•ç”¨æ•°æ®ç±»å‹ æœªä½¿ç”¨useMemo&#39;);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;propsä¸ºå¼•ç”¨æ•°æ®ç±»å‹ æœªä½¿ç”¨useMemo&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;h2&gt;</span><br><span class="line">        &#123;stu?.name&#125;:&#123;stu?.age&#125;</span><br><span class="line">      &lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨äº†useMemo å­ç»„ä»¶çš„memoç”Ÿæ•ˆ</span><br><span class="line">const Child2 &#x3D; memo((&#123; stu &#125;: IProps) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&#39;propsä¸ºå¼•ç”¨æ•°æ®ç±»å‹ ä½¿ç”¨useMemo&#39;);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;propsä¸ºå¼•ç”¨æ•°æ®ç±»å‹ ä½¿ç”¨useMemo&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;h2&gt;</span><br><span class="line">        &#123;stu?.name&#125;:&#123;stu?.age&#125;</span><br><span class="line">      &lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const Parent &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const [count, setCount] &#x3D; useState(0);</span><br><span class="line">  const [age, setAge] &#x3D; useState(18);</span><br><span class="line">  const [name, setName] &#x3D; useState(&#39;lucky&#39;);</span><br><span class="line"></span><br><span class="line">  const stu1 &#x3D; &#123;</span><br><span class="line">    name,</span><br><span class="line">    age,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  const stu2 &#x3D; useMemo(</span><br><span class="line">    () &#x3D;&gt; (&#123;</span><br><span class="line">      name,</span><br><span class="line">      age,</span><br><span class="line">    &#125;),</span><br><span class="line">    [age]</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Child age&#x3D;&#123;age&#125; &#x2F;&gt;</span><br><span class="line">      &lt;Child1 stu&#x3D;&#123;stu1&#125; &#x2F;&gt;</span><br><span class="line">      &lt;Child2 stu&#x3D;&#123;stu2&#125; &#x2F;&gt;</span><br><span class="line">      &lt;h1&gt;&#123;count&#125;&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; setCount(count + 1)&#125;&gt;change count&lt;&#x2F;Button&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; setAge(age + 1)&#125;&gt;change age&lt;&#x2F;Button&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; setName(&#39;lucky chou&#39;)&#125;&gt;change name&lt;&#x2F;Button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default Parent;</span><br></pre></td></tr></table></figure>

<h2 id="è‡ªå®šä¹‰-hook"><a href="#è‡ªå®šä¹‰-hook" class="headerlink" title="è‡ªå®šä¹‰ hook"></a>è‡ªå®šä¹‰ hook</h2><p>è‡ªå®šä¹‰ hook çš„å‡½æ•°å å¿…é¡»ä»¥ use å¼€å¤´ æ¯”å¦‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ‰“å°ç»„ä»¶åˆ›å»º/é”€æ¯çš„ useLogger hook</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useEffect, useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> useLogger = <span class="function">(<span class="params">componentName</span>) =&gt;</span> &#123;</span><br><span class="line">  useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;componentName&#125;</span>ç»„ä»¶è¢«åˆ›å»ºäº†`</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;componentName&#125;</span>ç»„ä»¶è¢«é”€æ¯äº†`</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Header = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  useLogger(<span class="string">&#x27;Header&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h2&gt;Header&lt;/h2&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Footer = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  useLogger(<span class="string">&#x27;Footer&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h2&gt;Footer&lt;/h2&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [show, setShow] = useState(<span class="literal">true</span>);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> setShow(!show)&#125;&gt;&#123;show ? <span class="string">&#x27;hidden&#x27;</span> : <span class="string">&#x27;show&#x27;</span>&#125;&lt;/button&gt;</span><br><span class="line">      &#123;show &amp;&amp; <span class="xml"><span class="tag">&lt;<span class="name">Header</span> /&gt;</span></span>&#125;</span><br><span class="line">      &#123;show &amp;&amp; <span class="xml"><span class="tag">&lt;<span class="name">Footer</span> /&gt;</span></span>&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul>
<li><p>å‘Šåˆ«éš¾ä»¥ç†è§£çš„ Class</p>
<ul>
<li><p>this</p>
</li>
<li><p>ç”Ÿå‘½å‘¨æœŸ</p>
</li>
</ul>
</li>
<li><p>è§£å†³ä¸šåŠ¡é€»è¾‘éš¾ä»¥æ‹†åˆ†çš„é—®é¢˜</p>
<ul>
<li>é€»è¾‘ä¸€åº¦ä¸ç”Ÿå‘½å‘¨æœŸè€¦åˆåœ¨ä¸€èµ·</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"><span class="comment">// 1. è¿™é‡Œå‘èµ·å¼‚æ­¥è°ƒç”¨</span></span><br><span class="line"><span class="comment">// 2. è¿™é‡Œä» props é‡Œè·å–æŸä¸ªæ•°æ®ï¼Œæ ¹æ®è¿™ä¸ªæ•°æ®æ›´æ–° DOM</span></span><br><span class="line"><span class="comment">// 3. è¿™é‡Œè®¾ç½®ä¸€ä¸ªè®¢é˜…</span></span><br><span class="line"><span class="comment">// 4. è¿™é‡Œéšä¾¿å¹²ç‚¹åˆ«çš„ä»€ä¹ˆ</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">componentWillUnMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="comment">// åœ¨è¿™é‡Œå¸è½½è®¢é˜…</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">componentDidUpdate</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="comment">// 1. åœ¨è¿™é‡Œæ ¹æ® DidMount è·å–åˆ°çš„å¼‚æ­¥æ•°æ®æ›´æ–° DOM</span></span><br><span class="line">  <span class="comment">// 2. è¿™é‡Œä» props é‡Œè·å–æŸä¸ªæ•°æ®ï¼Œæ ¹æ®è¿™ä¸ªæ•°æ®æ›´æ–° DOMï¼ˆå’Œ DidMount çš„ç¬¬2æ­¥ä¸€æ ·ï¼‰</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿çŠ¶æ€é€»è¾‘å¤ç”¨å˜å¾—ç®€å•å¯è¡Œ</p>
<ul>
<li><p>HOCï¼ˆé«˜é˜¶ç»„ä»¶ï¼‰</p>
</li>
<li><p>Render Props</p>
</li>
</ul>
</li>
<li><p>å‡½æ•°ç»„ä»¶ä»è®¾è®¡æ€æƒ³ä¸Šæ¥çœ‹ï¼Œæ›´åŠ å¥‘åˆ React çš„ç†å¿µã€‚</p>
</li>
</ul>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactå°å†Œ -- redux</title>
    <url>/FE/React/redux/</url>
    <content><![CDATA[<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add redux</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå®‰è£…è¿‡ç¨‹å¾ˆæ…¢ å¯ä»¥åˆ‡æ¢æ·˜å®é•œåƒ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<h2 id="Redux-ç®€ä»‹"><a href="#Redux-ç®€ä»‹" class="headerlink" title="Redux ç®€ä»‹"></a>Redux ç®€ä»‹</h2><img src="https://gitee.com/LuckyChou/blog-images/raw/master/react/redux.png" alt="Redux" />

<p>Redux æ˜¯ä¸€å¥—ç®¡ç†å…¬å…±çŠ¶æ€çš„ç¬¬ä¸‰æ–¹å·¥å…· è™½ç„¶ä¸æ˜¯ React å®˜æ–¹å¼€å‘ ä½†å·²ç»æˆä¸º React ç®¡ç†çŠ¶æ€äº‹å®ä¸Šçš„æ ‡å‡†</p>
<p>ç±»ä¼¼äº Vue çš„ Vuex</p>
<h3 id="Redux-å·¥ä½œæµç¨‹"><a href="#Redux-å·¥ä½œæµç¨‹" class="headerlink" title="Redux å·¥ä½œæµç¨‹"></a>Redux å·¥ä½œæµç¨‹</h3><ul>
<li><p>äº‹ä»¶å†…å®šä¹‰ action å¹¶ dispatch å‡ºå»</p>
</li>
<li><p>reducer æ¥æ”¶åˆ° action è¿›è¡Œæ“ä½œ è¿”å›ä¸€ä¸ªæ–°çš„ state ç»™ store</p>
</li>
<li><p>store æ¥æ”¶åˆ°æ–°çš„ state æ•°æ®å‘ç”Ÿæ”¹å˜</p>
</li>
<li><p>é¡µé¢é€šè¿‡ store.subscribe è®¢é˜… store æ›´æ–°é¡µé¢</p>
</li>
</ul>
<a id="more"></a>

<p>æˆ‘ä»¬å°† Redux çš„æ•´ä¸ªå·¥ä½œæµç¨‹ç±»æ¯”æˆä¸€ä¸ªå€Ÿä¹¦çš„æµç¨‹</p>
<p>å¯ä»¥çœ‹æˆæ˜¯å¦‚ä¸‹çš„æ“ä½œ</p>
<h3 id="Store"><a href="#Store" class="headerlink" title="Store"></a>Store</h3><p>å›¾ä¹¦é¦†ç®¡ç†å‘˜</p>
<p>ä»–æœ‰ä¸€æœ¬è®°å½•å€Ÿä¹¦çš„æœ¬å­ reducer</p>
<p>ä¸Šé¢å†™äº†å€Ÿä¹¦æœ‰å…³çš„ä¿¡æ¯ action</p>
<img src="https://gitee.com/LuckyChou/blog-images/raw/master/react/redux-store.png" />

<h3 id="React-Components"><a href="#React-Components" class="headerlink" title="React Components"></a>React Components</h3><p>å€Ÿä¹¦çš„äºº</p>
<h3 id="Action-Creators"><a href="#Action-Creators" class="headerlink" title="Action Creators"></a>Action Creators</h3><p>å€Ÿä¹¦äººå‘èµ·å€Ÿä¹¦çš„ç”³è¯·</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  type: BORROW_BOOKS,</span><br><span class="line">  text: <span class="string">&#x27;I want to borrow a book&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ”¹å˜ store ä¸­æ•°æ®å”¯ä¸€çš„æ–¹æ³•å°±æ˜¯ component æäº¤ action</strong></p>
<p>reducer ä¸­æ ¹æ® action ä¸­çš„ type å€¼æ¥åŒºåˆ†è¯·æ±‚ å¹¶æ‰§è¡Œå…·ä½“çš„æ“ä½œ</p>
<h3 id="Reducer"><a href="#Reducer" class="headerlink" title="Reducer"></a>Reducer</h3><p>å›¾ä¹¦ç®¡ç®¡ç†å‘˜çš„ç¬”è®° è®°å½•ç€å„ç§å€Ÿä¹¦è¿˜ä¹¦çš„è®°å½•</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (state = defaultState, action) =&gt; &#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> BORROW_BOOKS:</span><br><span class="line">      <span class="comment">// ä¸èƒ½ä¿®ä¿®æ”¹state åªèƒ½è¿”å›ä¸€ä¸ªæ–°çš„state</span></span><br><span class="line">        <span class="keyword">const</span> newState = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(state))</span><br><span class="line">        <span class="comment">// do Something......</span></span><br><span class="line">        <span class="keyword">return</span> newState</span><br><span class="line">      &#125;)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŸåˆ™ï¼šreducer ä¸­ä¸èƒ½ä¿®æ”¹ state åªèƒ½è¿”å›ä¸€ä¸ªæ–°çš„ state</p>
<p>ä¸ºäº†é˜²æ­¢åœ¨æ“ä½œä¸­ä¸å°å¿ƒä¿®æ”¹ state å¯¹è±¡ æˆ‘ä»¬å¯ä»¥å¼•å…¥<code>immutable.js</code>åº“</p>
<h2 id="Comment-amp-amp-Redux"><a href="#Comment-amp-amp-Redux" class="headerlink" title="Comment &amp;&amp; Redux"></a>Comment &amp;&amp; Redux</h2><p>ç°åœ¨æˆ‘ä»¬ç”¨ Redux é‡æ–°æ”¹é€ ä¸€ä¸‹æˆ‘ä»¬çš„ Comment</p>
<h3 id="Redux-DevTools"><a href="#Redux-DevTools" class="headerlink" title="Redux DevTools"></a>Redux DevTools</h3><p>åœ¨å¼€å§‹æ”¹é€ æˆ‘ä»¬çš„é¡¹ç›®å‰ æˆ‘ä»¬å†å®‰è£…ä¸€ä¸ª chrome æ’ä»¶</p>
<p>å®ƒå¯ä»¥ä½¿æˆ‘ä»¬çš„ Redux è°ƒè¯• å˜çš„æä¸ºæ–¹ä¾¿</p>
<p>åœ¨åˆ›å»º store çš„æ–¹æ³•ä¸­ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°</p>
<p><code>window.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__()</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> store = createStore(</span><br><span class="line">  reducer,</span><br><span class="line">  <span class="built_in">window</span>.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; <span class="built_in">window</span>.__REDUX_DEVTOOLS_EXTENSION__()</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡å¯åŠ¨é¡¹ç›® å³å¯åœ¨æµè§ˆå™¨è°ƒè¯•å·¥å…·ä¸­çœ‹åˆ°æœ‰ redux é€‰é¡¹</p>
<p>å¥½å•¦ å‡†å¤‡å·¥ä½œéƒ½å®Œæˆå•¦ æ¥ä¸‹æ¥ æˆ‘ä»¬å¼€å§‹å§</p>
<p>æˆ‘ä»¬è¦å®ç°çš„ä¾‹å­å¾ˆç®€å•å°±æ˜¯å€ŸåŠ© redux æ¥ç®¡ç†æˆ‘ä»¬çš„ç”¨æˆ·åå’Œåˆ—è¡¨</p>
<h3 id="åˆ›å»º-store"><a href="#åˆ›å»º-store" class="headerlink" title="åˆ›å»º store"></a>åˆ›å»º store</h3><p>æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­åˆ›å»º store æ–‡ä»¶å¤¹</p>
<p>åœ¨ç›®å½•ä¸‹æ–°å»º</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">â”œâ”€ Home</span><br><span class="line">  â”œâ”€ actionCreators.ts</span><br><span class="line">  â”œâ”€ reducers.ts</span><br><span class="line">  â”œâ”€ actionTypes.ts</span><br><span class="line">â”œâ”€ Article</span><br><span class="line">  â”œâ”€ actionCreators.ts</span><br><span class="line">  â”œâ”€ reducers.ts</span><br><span class="line">  â”œâ”€ actionTypes.ts</span><br></pre></td></tr></table></figure>

<h4 id="index-ts"><a href="#index-ts" class="headerlink" title="index.ts"></a>index.ts</h4><p>æˆ‘ä»¬åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­åˆ›å»º store å¹¶å¼•å…¥ redux åº“ä¸­ç»™æˆ‘ä»¬æä¾›çš„<code>combineReducers</code>å·¥å…·å‡½æ•°æ¥åˆå¹¶è¿™ä¸¤ä¸ª reducers</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore, combineReducers &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> home <span class="keyword">from</span> <span class="string">&#x27;./home/reducers&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> article <span class="keyword">from</span> <span class="string">&#x27;./article/reducers&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> rootReducer = combineReducers(&#123;</span><br><span class="line">  home,</span><br><span class="line">  article,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore(</span><br><span class="line">  rootReducer,</span><br><span class="line">  <span class="built_in">window</span>.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; <span class="built_in">window</span>.__REDUX_DEVTOOLS_EXTENSION__()</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><code>createStore</code>ä¸­ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥ reducer</p>
<p>ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥ä¼ å…¥ enhancer è¿™é‡Œæˆ‘ä»¬ä¼ å…¥ Redux DevTools æœ‰å…³çš„å‚æ•°</p>
<h4 id="reducer-js"><a href="#reducer-js" class="headerlink" title="reducer.js"></a>reducer.js</h4><p>reducer ç”¨äºå¤„ç†æ¯ä¸€ä¸ªæ¥è‡ªç»„ä»¶æ´¾å‘çš„ action å®ƒå°†å†³å®šæ¯ä¸€æ¬¡ dispatch å store å¦‚ä½•å˜åŒ–</p>
<p>è¿™é‡Œä»¥ home é¡µé¢æ”¹å˜ name çš„ action ä¸ºä¾‹å­</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; SET_USER_NAME &#125; <span class="keyword">from</span> <span class="string">&#x27;./actionTypes&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; IAction &#125; <span class="keyword">from</span> <span class="string">&#x27;@type/index&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> defaultState = &#123;</span><br><span class="line">  username: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (state = defaultState, <span class="attr">action</span>: IAction) =&gt; &#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> SET_USER_NAME:</span><br><span class="line">      <span class="keyword">return</span> &#123; ...state, <span class="attr">username</span>: action.username &#125;;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ defaultState ä¸ºæ•°æ®çš„é»˜è®¤å€¼</p>
<p>reducer æ–‡ä»¶ä¸­åªåšä¸€ä»¶äº‹ å°±æ˜¯å¤„ç† component ä¸­æäº¤çš„ action è¯·æ±‚</p>
<p>å®ƒå¯¼å‡ºä¸€ä¸ªæ–¹æ³•</p>
<p>ç¬¬ä¸€ä¸ªå‚æ•° state ä¸º store ä¸­çš„æ—§æ•°æ®</p>
<p>ç¬¬äºŒä¸ªå‚æ•° action ä¸º component æäº¤çš„æ”¹å˜ store çš„ action è¯·æ±‚</p>
<p>å†æ¬¡é‡ç”³ï¼šreducer å¯ä»¥æ¥å— store ä¸­çš„æ•°æ®</p>
<p>ä½†æ˜¯ç»ä¸èƒ½ä¿®æ”¹ store ä¸­çš„æ•°æ®</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨æ“ä½œå‰æ‹·è´ä¸€ä»½ store ä¸­æ•°æ®</p>
<p>ç„¶åå†å¯¹è¿™ä»½æ•°æ®è¿›è¡Œä¿®æ”¹ æœ€å return å‡ºå»</p>
<h4 id="actionTypes-js"><a href="#actionTypes-js" class="headerlink" title="actionTypes.js"></a>actionTypes.js</h4><p>ç®¡ç†ç€æˆ‘ä»¬æ‰€æœ‰ action çš„ type</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> SUBMIT_COMMENT_VALUE = <span class="string">&#x27;submit_comment_value&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> DELETE_COMMENT_ITEM = <span class="string">&#x27;delete_comment_item&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="actionCreators-js"><a href="#actionCreators-js" class="headerlink" title="actionCreators.js"></a>actionCreators.js</h4><p>ç»Ÿä¸€ç®¡ç†ç€æˆ‘ä»¬åˆ›å»º action çš„æ–¹æ³•</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> SET_USER_NAME = <span class="string">&#x27;SET_USER_NAME&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸ºä½¿ç”¨ react-redux è¿æ¥åº“</p>
<p>é‚£ä¹ˆä½ å¤§æ¦‚ä¼šéœ€è¦ç”¨åˆ°ä»¥ä¸‹ä¸‰ä¸ª api</p>
<ul>
<li><p>store.dispatch</p>
</li>
<li><p>store.getState</p>
</li>
<li><p>store.subscribe</p>
</li>
</ul>
<p>å®ƒä»¬åˆ†åˆ«ç”¨æ¥æ´¾å‘ action è·å– store å’Œç›‘å¬ store çš„å˜åŒ–</p>
<p>æˆ‘ä»¬ä¸€èˆ¬ä¼šå°† store.getState æ”¾åœ¨æ„é€ å‡½æ•°ä¸­ç”¨äºåˆå§‹åŒ–æ—¶è·å– store</p>
<p>ç„¶åä½¿ç”¨ store.subscribe è¿™ä¸ªæ–¹æ³•ç›‘å¬ store çš„å˜åŒ– å¹¶æ›´æ–° store ä¿æŒç»„ä»¶ä¸­çš„ store æ—¶åˆ»ä¸æœ€æ–°çš„ä¸€è‡´</p>
<p>demo å¦‚ä¸‹</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(props)</span><br><span class="line">    <span class="built_in">this</span>.state = store.getState()</span><br><span class="line">    <span class="built_in">this</span>.handleStoreChange = <span class="built_in">this</span>.handleStoreChange.bind(<span class="built_in">this</span>)</span><br><span class="line">    store.subscribe(<span class="built_in">this</span>.handleStoreChange)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ æˆ‘ä»¬ä¸€èˆ¬ä¼šå†å¼•å…¥ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ <code>react-redux</code></p>
<p>ä½¿ç”¨è¿™ä¸ªåº“å¯ä»¥è®©æˆ‘ä»¬çš„ç»„ä»¶ä¸ store ä¹‹é—´çš„è¿æ¥æ›´ä¸ºé¡ºç•…</p>
<p>ä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆç®€å•</p>
<p>é¦–å…ˆ æˆ‘ä»¬åœ¨æ ¹ç»„ä»¶å¤„ è°ƒç”¨ Provider</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import React from &#39;react&#39;;</span><br><span class="line">import RouterTemp from &#39;@router&#x2F;temp&#39;;</span><br><span class="line">import &#123; RouteConfigComponentProps &#125; from &#39;react-router-config&#39;;</span><br><span class="line">import &#123; Provider &#125; from &#39;react-redux&#39;;</span><br><span class="line">import store from &#39;@store&#x2F;redux&#x2F;index&#39;;</span><br><span class="line">const index &#x3D; (props: RouteConfigComponentProps) &#x3D;&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Provider store&#x3D;&#123;store&#125;&gt;</span><br><span class="line">      &lt;RouterTemp routerName&#x3D;&quot;&#x2F;store&quot; renderRoutes&#x3D;&#123;props!.route!.routes&#125; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;Provider&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line">export default index;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨éœ€è¦ç”¨åˆ° store çš„ç»„ä»¶ä¸­ ä½¿ç”¨ react-redux æä¾›çš„é«˜é˜¶ç»„ä»¶ connect å¯¼å‡ºæˆ‘ä»¬çš„ç»„ä»¶å³å¯</p>
<p>mapStateToProps å’Œ mapDispatchToProps ä¸¤ä¸ªå‡½æ•°éœ€è¦æˆ‘ä»¬å»å®ç° å®ƒä»¬ç”¨äºå°† store å’Œ dispatch æ˜ å°„åˆ°æˆ‘ä»¬ç»„ä»¶çš„ props ä¸­</p>
<p>demo å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import React from &#39;react&#39;;</span><br><span class="line">import &#123; connect &#125; from &#39;react-redux&#39;;</span><br><span class="line">import * as ACTIONS from &#39;@store&#x2F;redux&#x2F;home&#x2F;actionCreators&#39;;</span><br><span class="line">import &#123; Button &#125; from &#39;antd&#39;;</span><br><span class="line"></span><br><span class="line">interface IProps &#123;</span><br><span class="line">  username: string;</span><br><span class="line">  setUsername: (username: string) &#x3D;&gt; void;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const Home &#x3D; (props: IProps) &#x3D;&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;Home&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;h2&gt;&#123;props.username&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; props.setUsername(&#39;lucky&#39;)&#125;&gt;change name&lt;&#x2F;Button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const mapStateToProps &#x3D; (state: any) &#x3D;&gt; (&#123;</span><br><span class="line">  username: state.home.username,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const mapDispatchToProps &#x3D; (dispatch: any) &#x3D;&gt; (&#123;</span><br><span class="line">  setUsername: (payload: string) &#x3D;&gt; dispatch(ACTIONS.setUsername(payload)),</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default connect(mapStateToProps, mapDispatchToProps)(Home);</span><br></pre></td></tr></table></figure>

<h3 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h3><ul>
<li><p>immutable.js</p>
</li>
<li><p>combineReducers</p>
</li>
</ul>
<p>immutable.js å¯ä»¥é˜²æ­¢æˆ‘ä»¬å¯¹ state è¿›è¡Œä¿®æ”¹ ç ´åäº† State æ˜¯åªè¯»çš„è¿™ä¸ªåŸåˆ™</p>
<p>å…·ä½“çš„ API å¯å‚è€ƒ<a href="https://immutable-js.github.io/immutable-js/">å®˜ç½‘</a></p>
<h3 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h3><p>æœ¬æ–‡ä¸­çš„ demo éƒ½æ˜¯åŒæ­¥ä»£ç  å¦‚æœæˆ‘ä»¬åœ¨å‘é€ action çš„æ—¶å€™ éœ€è¦æ‰§è¡Œä¸€äº›å¼‚æ­¥æ“ä½œ è¿™ä¸ªæ—¶å€™åº”è¯¥æ€ä¹ˆåŠå‘¢</p>
<p>reducer ä¸­æ˜¯å¦å¯ä»¥å¤„ç†å¼‚æ­¥æ“ä½œå‘¢ï¼Ÿï¼Ÿï¼Ÿ</p>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactå°å†Œ -- ssr</title>
    <url>/FE/React/ssr/</url>
    <content><![CDATA[<p>TODO æ–‡ç« è¿˜åœ¨æ•´ç†ä¸­</p>
<details yellow><summary> <p>SPA HTML</p> </summary>
              <div class='content'>
              <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/favicon.ico&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;theme-color&quot;</span> <span class="attr">content</span>=<span class="string">&quot;#000000&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span></span></span><br><span class="line"><span class="tag">      <span class="attr">name</span>=<span class="string">&quot;description&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">content</span>=<span class="string">&quot;Web site created using create-react-app&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;apple-touch-icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/logo192.png&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;manifest&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/manifest.json&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>React App<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">noscript</span>&gt;</span>You need to enable JavaScript to run this app.<span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/static/js/bundle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/static/js/0.chunk.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/static/js/main.chunk.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="SPA-vs-SSR"><a href="#SPA-vs-SSR" class="headerlink" title="SPA vs SSR"></a>SPA vs SSR</h3><h3 id="SSR"><a href="#SSR" class="headerlink" title="SSR"></a>SSR</h3><ul>
<li><p>æ›´å¥½çš„ SEOï¼Œç”±äºæœç´¢å¼•æ“çˆ¬è™«æŠ“å–å·¥å…·å¯ä»¥ç›´æ¥æŸ¥çœ‹å®Œå…¨æ¸²æŸ“çš„é¡µé¢ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œæˆªè‡³ç›®å‰ï¼ŒGoogle å’Œ Bing å¯ä»¥å¾ˆå¥½å¯¹åŒæ­¥ JavaScript åº”ç”¨ç¨‹åºè¿›è¡Œç´¢å¼•ã€‚åœ¨è¿™é‡Œï¼ŒåŒæ­¥æ˜¯å…³é”®ã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºåˆå§‹å±•ç¤º loading èŠèŠ±å›¾ï¼Œç„¶åé€šè¿‡ Ajax è·å–å†…å®¹ï¼ŒæŠ“å–å·¥å…·å¹¶ä¸ä¼šç­‰å¾…å¼‚æ­¥å®Œæˆåå†è¡ŒæŠ“å–é¡µé¢å†…å®¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ SEO å¯¹ä½ çš„ç«™ç‚¹è‡³å…³é‡è¦ï¼Œè€Œä½ çš„é¡µé¢åˆæ˜¯å¼‚æ­¥è·å–å†…å®¹ï¼Œåˆ™ä½ å¯èƒ½éœ€è¦æœåŠ¡å™¨ç«¯æ¸²æŸ“(SSR)è§£å†³æ­¤é—®é¢˜ã€‚</p>
</li>
<li><p>æ›´å¿«çš„å†…å®¹åˆ°è¾¾æ—¶é—´ (time-to-content)ï¼Œç‰¹åˆ«æ˜¯å¯¹äºç¼“æ…¢çš„ç½‘ç»œæƒ…å†µæˆ–è¿è¡Œç¼“æ…¢çš„è®¾å¤‡ã€‚æ— éœ€ç­‰å¾…æ‰€æœ‰çš„ JavaScript éƒ½å®Œæˆä¸‹è½½å¹¶æ‰§è¡Œï¼Œæ‰æ˜¾ç¤ºæœåŠ¡å™¨æ¸²æŸ“çš„æ ‡è®°ï¼Œæ‰€ä»¥ä½ çš„ç”¨æˆ·å°†ä¼šæ›´å¿«é€Ÿåœ°çœ‹åˆ°å®Œæ•´æ¸²æŸ“çš„é¡µé¢ã€‚é€šå¸¸å¯ä»¥äº§ç”Ÿæ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œå¹¶ä¸”å¯¹äºé‚£äº›ã€Œå†…å®¹åˆ°è¾¾æ—¶é—´(time-to-content) ä¸è½¬åŒ–ç‡ç›´æ¥ç›¸å…³ã€çš„åº”ç”¨ç¨‹åºè€Œè¨€ï¼ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“ (SSR) è‡³å…³é‡è¦ã€‚</p>
</li>
</ul>
<a id="more"></a>

<h2 id="next-js"><a href="#next-js" class="headerlink" title="next.js"></a>next.js</h2>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactå°å†Œ -- rematch</title>
    <url>/FE/React/rematch/</url>
    <content><![CDATA[<p>å…³äº rematch çš„ä»‹ç» å¯ä»¥å‚è€ƒ<a href="https://rematch.gitbook.io/handbook/mu-de">ä¼ é€é—¨</a></p>
<p>rematch å¯ä»¥ç®€åŒ–ä¼ ç»Ÿçš„ redux ä½¿æˆ‘ä»¬å…å»å†™ actionType actionCreator</p>
<p>æˆ‘ä»¬ç”¨ rematch æ¥å®ç°ä¸€ä¸ªæ•°å­—çš„ç´¯åŠ æ“ä½œ</p>
<p>ä¿å­˜ store çš„æ–‡ä»¶</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> count = &#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    num: <span class="number">0</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  reducers: &#123;</span><br><span class="line">    <span class="function"><span class="title">setNum</span>(<span class="params">state, num</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123; ...state, num &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  effects: <span class="function">(<span class="params">dispatch</span>) =&gt;</span> (&#123;</span><br><span class="line">    <span class="keyword">async</span> <span class="function"><span class="title">increment</span>(<span class="params">payload, rootState</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> &#123; num &#125; = rootState.count;</span><br><span class="line">      num += payload;</span><br><span class="line">      dispatch.count.setNum(num);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;),</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> count;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>model.js åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ æˆ‘ä»¬åšä¸€ä¸ªèšåˆå¯¼å‡º å¯ä»¥è®©ä»£ç æ›´åŠ æ¸…æ™°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123; <span class="keyword">default</span> <span class="keyword">as</span> count &#125; <span class="keyword">from</span> <span class="string">&#x27;./count&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; <span class="keyword">default</span> <span class="keyword">as</span> total &#125; <span class="keyword">from</span> <span class="string">&#x27;./total&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> ...</span><br></pre></td></tr></table></figure>

<p>init å‡½æ•°ä¼šå¸®åŠ©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª store åŒæ—¶å®ƒä¼šå¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å¼€å¯ redux devtools è°ƒè¯•å·¥å…·</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; init &#125; <span class="keyword">from</span> <span class="string">&#x27;@rematch/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> models <span class="keyword">from</span> <span class="string">&#x27;./model&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> store = init(&#123; models &#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸šåŠ¡ç»„ä»¶</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Provider, useSelector, useDispatch &#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; store &#125; <span class="keyword">from</span> <span class="string">&#x27;./models&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Counter = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> counter = useSelector(<span class="function">(<span class="params">state</span>) =&gt;</span> state.count);</span><br><span class="line">  <span class="keyword">const</span> dispatch = useDispatch();</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;div&gt;&#123;counter.num&#125;&lt;/div&gt;</span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> dispatch.count.increment(<span class="number">1</span>)&#125;&gt;+<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">      &lt;button onClick=&#123;<span class="function">() =&gt;</span> dispatch.count.increment(<span class="number">10</span>)&#125;&gt;+<span class="number">10</span>&lt;/button&gt;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">View</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Provider store=&#123;store&#125;&gt;</span><br><span class="line">      &lt;Counter /&gt;</span><br><span class="line">    &lt;/Provider&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œ æˆ‘ä»‹ç»ä¸€ä¸‹ useSelector å’Œ useDispatch</p>
<p>è¿™æ˜¯ react-redux åœ¨ 7.x ä¹‹åä¸ºäº† hook è€Œæ¨å‡ºçš„</p>
<p>useSelector è¿”å› Redux store çš„å¼•ç”¨</p>
<p>useDispatch è¿”å› Redux store ä¸­å¯¹ dispatch å‡½æ•°çš„å¼•ç”¨</p>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactå°å†Œ -- router</title>
    <url>/FE/React/router/</url>
    <content><![CDATA[<blockquote>
<p>React Router è¿™ä¸€å—ç›¸å¯¹ç®€å• <a href="https://reactrouter.com/web/guides/quick-start">å®˜æ–¹æ–‡æ¡£</a> å·²ç»è¯´çš„å¾ˆæ˜ç™½äº† åœ¨è¿™é‡Œ åªæ˜¯åšä¸€äº›ç®€å•çš„ Demo è®°å½•</p>
</blockquote>
<a id="more"></a>

<h2 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h2><p>é¡¹ç›®ç›®å½•</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ about/</span><br><span class="line">â”‚   â”œâ”€â”€ address/</span><br><span class="line">â”‚     â”œâ”€â”€ index.jsx</span><br><span class="line">â”‚   â”œâ”€â”€ culture/</span><br><span class="line">â”‚     â”œâ”€â”€ index.jsx</span><br><span class="line">â”‚   â”œâ”€â”€ index.jsx</span><br><span class="line">â”œâ”€â”€ article/</span><br><span class="line">â”‚   â”œâ”€â”€ index.jsx</span><br><span class="line">â”œâ”€â”€ profile/</span><br><span class="line">â”‚   â”œâ”€â”€ index.jsx</span><br><span class="line">â”œâ”€â”€ home/</span><br><span class="line">â”‚   â”œâ”€â”€ index.jsx</span><br></pre></td></tr></table></figure>

<p>about ç»„ä»¶ æˆ‘åˆåµŒå¥—äº†ä¸¤ä¸ªè·¯ç”±</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter, Link, NavLink, Route &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Culture <span class="keyword">from</span> <span class="string">&#x27;./culture&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Address <span class="keyword">from</span> <span class="string">&#x27;./address&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">About</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;BrowserRouter&gt;</span><br><span class="line">      &lt;p&gt;About&lt;/p&gt;</span><br><span class="line">      &lt;Link to=<span class="string">&quot;/about/culture&quot;</span>&gt;æ–‡åŒ–&lt;/Link&gt;</span><br><span class="line">      &lt;NavLink to=<span class="string">&quot;/about/address&quot;</span>&gt;åœ°å€&lt;/NavLink&gt;</span><br><span class="line"></span><br><span class="line">      &lt;Route path=<span class="string">&quot;/about/culture&quot;</span> component=&#123;Culture&#125;&gt;&lt;/Route&gt;</span><br><span class="line">      &lt;Route path=<span class="string">&quot;/about/address&quot;</span> component=&#123;Address&#125;&gt;&lt;/Route&gt;</span><br><span class="line">    &lt;/BrowserRouter&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€å¤–å±‚çš„ App ç»„ä»¶</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter, Link, NavLink, Route &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&#x27;./home&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Profile <span class="keyword">from</span> <span class="string">&#x27;./profile&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> About <span class="keyword">from</span> <span class="string">&#x27;./about&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Article <span class="keyword">from</span> <span class="string">&#x27;./article&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> routes <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(props);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      id: <span class="number">1</span>,</span><br><span class="line">      profile: &#123;</span><br><span class="line">        name: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">        age: <span class="number">18</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;BrowserRouter&gt;</span><br><span class="line">          &lt;Link to=<span class="string">&quot;/&quot;</span>&gt;é¦–é¡µ&lt;/Link&gt;</span><br><span class="line">          &#123;<span class="comment">/* å°†å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’åˆ°å¯¹åº”çš„é¡µé¢ */</span>&#125;</span><br><span class="line">          &#123;<span class="comment">/* å¯¹åº”çš„é¡µé¢å¯ä»¥é€šè¿‡props.locationè·å–åˆ°è¿™ä¸ªå¯¹è±¡ */</span>&#125;</span><br><span class="line">          &lt;NavLink</span><br><span class="line">            to=&#123;&#123;</span><br><span class="line">              pathname: <span class="string">&#x27;/profile&#x27;</span>,</span><br><span class="line">              state: <span class="built_in">this</span>.state.profile,</span><br><span class="line">            &#125;&#125;</span><br><span class="line">          &gt;</span><br><span class="line">            æˆ‘çš„</span><br><span class="line">          &lt;/NavLink&gt;</span><br><span class="line">          &lt;Link to=<span class="string">&quot;/about&quot;</span>&gt;å…³äº&lt;/Link&gt;</span><br><span class="line">          &#123;<span class="comment">/* åŠ¨æ€è·¯ç”± */</span>&#125;</span><br><span class="line">          &lt;Link to=&#123;<span class="string">`/article/<span class="subst">$&#123;<span class="built_in">this</span>.state.id&#125;</span>`</span>&#125;&gt;æ–‡ç« &lt;/Link&gt;</span><br><span class="line">          &#123;<span class="comment">/* exactå¼€å¯ç²¾ç¡®åŒ¹é… å¦åˆ™/ä¼šåŒ¹é…æ‰€æœ‰è·¯ç”±*/</span>&#125;</span><br><span class="line">          &lt;Route exact path=<span class="string">&quot;/&quot;</span> component=&#123;Home&#125;&gt;&lt;/Route&gt;</span><br><span class="line">          &lt;Route path=<span class="string">&quot;/profile&quot;</span> component=&#123;Profile&#125;&gt;&lt;/Route&gt;</span><br><span class="line">          &lt;Route path=<span class="string">&quot;/about&quot;</span> component=&#123;About&#125;&gt;&lt;/Route&gt;</span><br><span class="line">          &#123;<span class="comment">/* :ä¸ºåŠ¨æ€è·¯ç”±å›ºå®šå†™æ³• */</span>&#125;</span><br><span class="line">          &lt;Route path=<span class="string">&quot;/article/:id&quot;</span> component=&#123;Article&#125;&gt;&lt;/Route&gt;</span><br><span class="line">        &lt;/BrowserRouter&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure>

<h2 id="ç»Ÿä¸€ç®¡ç†-Router"><a href="#ç»Ÿä¸€ç®¡ç†-Router" class="headerlink" title="ç»Ÿä¸€ç®¡ç† Router"></a>ç»Ÿä¸€ç®¡ç† Router</h2><p>ä½¿ç”¨è¿‡ Vue çš„å°ä¼™ä¼´åº”è¯¥éƒ½çŸ¥é“</p>
<p>Vue å°†æ‰€æœ‰çš„è·¯ç”±éƒ½æ”¾åœ¨äº†ä¸€ä¸ªæ–‡ä»¶ä¸­è¿›è¡Œäº†ç»Ÿä¸€çš„ç®¡ç†</p>
<p>å¦‚æœåœ¨ React ä¸­ä¹Ÿæƒ³è¦å°†è·¯ç”±è¿›è¡Œç»Ÿä¸€ç®¡ç†çš„è¯</p>
<p>å°±å¯ä»¥å¼•å…¥ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„åº“ <code>react-router-config</code> <a href="https://www.npmjs.com/package/react-router-config">å…·ä½“ä½¿ç”¨</a></p>
<h3 id="react-router-config"><a href="#react-router-config" class="headerlink" title="react-router-config"></a>react-router-config</h3><p>æˆ‘ä»¬å¯ä»¥åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª router æ–‡ä»¶å¤¹ ç„¶ååœ¨é‡Œé¢æ–°å»º index.js æ–‡ä»¶ ç”¨æ¥ç®¡ç†æˆ‘ä»¬æ‰€æœ‰çš„è·¯ç”±</p>
<p>å½“é¡¹ç›®å¤æ‚æ—¶ æˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®ç»„ä»¶æ¥æ‹†åˆ†æˆ‘ä»¬çš„è·¯ç”±</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="attr">default</span>: About &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../about&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">default</span>: Home &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../home&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">default</span>: Profile &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../profile&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    exact: <span class="literal">true</span>,</span><br><span class="line">    component: Home,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    component: About,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/profile&#x27;</span>,</span><br><span class="line">    component: Profile,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> routes;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨åˆšåˆšçš„ç»„ä»¶ä¸­å¼•å…¥è¿™ä¸ªæ–‡ä»¶</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; renderRoutes &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-config&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> routes <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;BrowserRouter&gt;</span><br><span class="line">          &lt;Link to=<span class="string">&quot;/&quot;</span>&gt;é¦–é¡µ&lt;/Link&gt;</span><br><span class="line">          &lt;NavLink</span><br><span class="line">            to=&#123;&#123;</span><br><span class="line">              pathname: <span class="string">&#x27;/profile&#x27;</span>,</span><br><span class="line">              state: <span class="built_in">this</span>.state.profile,</span><br><span class="line">            &#125;&#125;</span><br><span class="line">          &gt;</span><br><span class="line">            æˆ‘çš„</span><br><span class="line">          &lt;/NavLink&gt;</span><br><span class="line">          &lt;Link to=<span class="string">&quot;/about&quot;</span>&gt;å…³äº&lt;/Link&gt;</span><br><span class="line">          &lt;Link to=&#123;<span class="string">`/article/<span class="subst">$&#123;<span class="built_in">this</span>.state.id&#125;</span>`</span>&#125;&gt;æ–‡ç« &lt;/Link&gt;</span><br><span class="line">          &#123;renderRoutes(routes)&#125;</span><br><span class="line">        &lt;/BrowserRouter&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬çš„è·¯ç”±å­˜åœ¨åµŒå¥—</p>
<p>åˆšåˆšçš„è·¯ç”±è¡¨ å°±éœ€è¦æ›´æ”¹ä¸ºå¦‚ä¸‹ ç»™éœ€è¦åµŒå¥—çš„è·¯ç”± åŠ ä¸Š routes å±æ€§</p>
<p>é¡ºä¾¿æä¸€ä¸‹ å¯¹äºéœ€è¦ç²¾ç¡®åŒ¹é…çš„è·¯ç”± éœ€è¦åŠ ä¸Š<code>exact:true</code>å±æ€§</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Address <span class="keyword">from</span> <span class="string">&#x27;../about/address&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> Culture <span class="keyword">from</span> <span class="string">&#x27;../about/culture&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">default</span>: About &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../about&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">default</span>: Home &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../home&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">default</span>: Profile &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../profile&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    exact: <span class="literal">true</span>,</span><br><span class="line">    component: Home,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    component: About,</span><br><span class="line">    routes: [</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">&#x27;/about/address&#x27;</span>,</span><br><span class="line">        component: Address,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">&#x27;/about/culture&#x27;</span>,</span><br><span class="line">        component: Culture,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/profile&#x27;</span>,</span><br><span class="line">    component: Profile,</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> routes;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨å¯¹åº”çš„åµŒå¥—è·¯ç”±ç»„ä»¶ä¸­ props ä¸­ä¼šæœ‰ä¸€ä¸ª route å±æ€§</p>
<p>åœ¨éœ€è¦åµŒå¥—è·¯ç”±çš„ç»„ä»¶ä¸­ æˆ‘ä»¬å°±å¯ä»¥è¿™æ ·å†™</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter, Link, NavLink, Route &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; renderRoutes &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-config&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">About</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;cultureç»„ä»¶:&#x27;</span>, props.route.routes);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;BrowserRouter&gt;</span><br><span class="line">      &lt;p&gt;About&lt;/p&gt;</span><br><span class="line">      &lt;Link to=<span class="string">&quot;/about/culture&quot;</span>&gt;æ–‡åŒ–&lt;/Link&gt;</span><br><span class="line">      &lt;NavLink to=<span class="string">&quot;/about/address&quot;</span>&gt;åœ°å€&lt;/NavLink&gt;</span><br><span class="line">      &#123;<span class="comment">/* å› ä¸ºä¸èƒ½å°†æ•´å¼ è·¯ç”±è¡¨æ”¾åœ¨è¿™é‡Œ */</span>&#125;</span><br><span class="line">      &#123;renderRoutes(props.route.routes)&#125;</span><br><span class="line">    &lt;/BrowserRouter&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="withRouter"><a href="#withRouter" class="headerlink" title="withRouter"></a>withRouter</h2><p>å¦‚æœæˆ‘ä»¬åœ¨åˆšåˆšçš„ App ç»„ä»¶ä¸­ ç›´æ¥æ‰“å° props</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">render () &#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;Appç»„ä»¶:&quot;</span>,<span class="built_in">this</span>.props)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;BrowserRouter&gt;</span><br><span class="line">        &#123;renderRoutes(routes)&#125;</span><br><span class="line">      &lt;/BrowserRouter&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ° å®ƒçš„ props æ˜¯ä¸€ä¸ªç©ºçš„å¯¹è±¡</p>
<p>å¦‚æœæˆ‘ä»¬æƒ³åœ¨ä¸æ˜¯é€šè¿‡è·¯ç”±åˆ‡æ¢è¿‡æ¥çš„ç»„ä»¶ä¸­ è·å–åˆ° history location match è¿™ä¸‰ä¸ªå±æ€§</p>
<p>è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ å¯¹æˆ‘ä»¬çš„ç»„ä»¶è¿›è¡Œä¸€å±‚åŒ…è£¹</p>
<p>æ³¨æ„ç‚¹ ç”¨ withRouter å¯¼å‡ºçš„å…ƒç´  éœ€è¦åŒ…è£¹åœ¨<code>BrowserRouter</code>æˆ–<code>HashRouter</code>ä¸‹</p>
<p>ä¸ºäº†åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸‹æ¼”ç¤º å°†æœ€åå¯¼å‡ºçš„ä»£ç  æ”¹é€ æˆå¦‚ä¸‹</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> MyApp = withRouter(App);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_AppWrapper</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;BrowserRouter&gt;</span><br><span class="line">        &lt;MyApp /&gt;</span><br><span class="line">      &lt;/BrowserRouter&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> _AppWrapper;</span><br></pre></td></tr></table></figure>

<h2 id="ä¸€äº›é›¶ç¢ç‚¹"><a href="#ä¸€äº›é›¶ç¢ç‚¹" class="headerlink" title="ä¸€äº›é›¶ç¢ç‚¹"></a>ä¸€äº›é›¶ç¢ç‚¹</h2><ul>
<li><p>å¦‚æœæƒ³ç»™é€‰ä¸­çš„è·¯ç”±åŠ æ ·å¼ å¯ä»¥ä½¿ç”¨ NavLink é»˜è®¤ä¼šç»™é€‰ä¸­çš„æ ·å¼åŠ ä¸Š active class å¦‚æœæƒ³è‡ªå®šä¹‰è¿™ä¸ª class åå­—çš„è¯ å¯ä»¥ä½¿ç”¨ activeClassName</p>
</li>
<li><p>Link å’Œ NavLink æœ€ç»ˆä¼šè¢«æ¸²æŸ“æˆä¸€ä¸ª a å…ƒç´  æš‚ä¸æ”¯æŒ Vue ä¸­ ç±»ä¼¼ä¼ å…¥ type å¯ä»¥æ¸²æŸ“æˆå…¶ä»–å…ƒç´ </p>
</li>
<li><p>Redirect å¯ä»¥å®ç°è·¯ç”±çš„é‡å®šå‘ å¯ä»¥ç”¨ä½œç™»å½•ç•Œé¢çš„åˆ¤æ–­</p>
</li>
<li><p>ç”¨ Switch åŒ…è£¹çš„è·¯ç”± ä¼šåœ¨åŒ¹é…åˆ°ç¬¬ä¸€ä¸ªåˆé€‚çš„è·¯ç”±åå°±åœæ­¢åŒ¹é…</p>
</li>
<li><p>React Router ä¸­çš„ history å±æ€§ å’Œ window å¯¹è±¡ä¸‹çš„ history ä¸ä¸€æ · è¿™æ˜¯ React Router è¿›è¡ŒåŒ…è£…åçš„åˆæˆå¯¹è±¡</p>
</li>
</ul>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactå°å†Œ -- æ€§èƒ½ä¼˜åŒ–</title>
    <url>/FE/React/performance/</url>
    <content><![CDATA[<h2 id="ä¸»è¦å†…å®¹"><a href="#ä¸»è¦å†…å®¹" class="headerlink" title="ä¸»è¦å†…å®¹"></a>ä¸»è¦å†…å®¹</h2><p>æœ¬æ–‡ä¸»è¦è®²è§£å¦‚ä¸‹äº”ä¸ªæ–¹æ³•æ¥åšæ€§èƒ½ä¼˜åŒ–</p>
<ul>
<li><p>shouldComponentUpdate</p>
</li>
<li><p>memo</p>
</li>
<li><p>PureComponent</p>
</li>
<li><p>useMemo</p>
</li>
<li><p>useCallback</p>
</li>
</ul>
<p>å…ˆæ¥è¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆè¦åšæ€§èƒ½ä¼˜åŒ– æœ‰å“ªäº›åœ°æ–¹éœ€è¦å»åšæ€§èƒ½ä¼˜åŒ–</p>
<p>æˆ‘ä»¬çŸ¥é“ç»„ä»¶é€šä¿¡æ˜¯ç»„ä»¶åŒ–ä¹‹ä¸­ä¸å¯ç¼ºå°‘çš„å†…å®¹ è€Œä¸€æ—¦çˆ¶ç»„ä»¶æ›´æ–°äº† é‚£ä¹ˆå­ç»„ä»¶å°±å¿…å°†æ›´æ–°</p>
<p>ä½†æ˜¯å¦‚æœçˆ¶ç»„ä»¶æ›´æ–°çš„ props ä¸æ˜¯å­ç»„ä»¶æ‰€éœ€è¦çš„ è¿™æ ·æ¯æ¬¡çˆ¶ç»„ä»¶æ›´æ–°å¸¦æ¥çš„å­ç»„ä»¶æ›´æ–°æ˜¾ç„¶å°±æ˜¯ä¸å¿…è¦çš„</p>
<p>æœ¬æ–‡çš„æ‰€æœ‰ demo éƒ½ä½¿ç”¨ ts æ¥ä¹¦å†™</p>
<h3 id="shouldComponentUpdate"><a href="#shouldComponentUpdate" class="headerlink" title="shouldComponentUpdate"></a>shouldComponentUpdate</h3><p>shouldComponentUpdate æ¥å—ä¸¤ä¸ªå‚æ•° æ”¹å˜åçš„ props å’Œ state è¿”å›å€¼æ˜¯ä¸€ä¸ª boolean å†³å®šæ˜¯å¦è¦æ›´æ–°æ•°æ®</p>
<p>é€šè¿‡å¯¹æ¯”è¯¥ç”Ÿå‘½å‘¨æœŸçš„å…¥å‚å’Œè¯¥ç»„ä»¶ä¸­å®é™…éœ€è¦çš„ props å’Œ state æœ‰æ— æ”¹å˜å°±å¯ä»¥æ‰‹åŠ¨æ§åˆ¶ç»„ä»¶æ˜¯å¦æ›´æ–°</p>
<p>demo å¦‚ä¸‹ çˆ¶ç»„ä»¶å†…éƒ¨æœ‰ä¸¤ä¸ªçŠ¶æ€ arr å’Œ str å­ç»„ä»¶å®é™…éœ€è¦çš„åªæ˜¯ str ä½†æ˜¯å¦‚æœçˆ¶ç»„ä»¶æ›´æ–°äº†å†…éƒ¨çš„ arr ä¹Ÿä¼šå¸¦æ¥å­ç»„ä»¶çš„æ›´æ–°</p>
<p>è¿™ä¸ªæ—¶å€™å°±å¯ä»¥åœ¨å­ç»„ä»¶å†…éƒ¨ä½¿ç”¨è¯¥ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ¥ä¼˜åŒ–æ€§èƒ½</p>
<details yellow><summary> <p>ts shouldComponentUpdate</p> </summary>
              <div class='content'>
              <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123; Button, Tag &#125; from &#39;antd&#39;;</span><br><span class="line">import React, &#123; Component &#125; from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">interface IProps &#123;</span><br><span class="line">  arr?: Array&lt;number&gt;;</span><br><span class="line">  str?: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface IState &#123;</span><br><span class="line">  arr: Array&lt;number&gt;;</span><br><span class="line">  str: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Child extends Component&lt;IProps, Partial&lt;IState&gt;&gt; &#123;</span><br><span class="line">  constructor(props: IProps) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state &#x3D; &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidUpdate() &#123;</span><br><span class="line">    console.log(&#39;å­ç»„ä»¶æ›´æ–°äº†&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  shouldComponentUpdate(nextProps: IProps, nextState: IState) &#123;</span><br><span class="line">    if (nextProps.str &#x3D;&#x3D;&#x3D; this.props.str) &#123;</span><br><span class="line">      return false;</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;å­ç»„ä»¶&lt;&#x2F;h1&gt;</span><br><span class="line">        &lt;h2&gt;&#123;this.props.str&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Parent extends Component&lt;IProps, IState&gt; &#123;</span><br><span class="line">  constructor(props: IProps) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      arr: [1, 2, 3],</span><br><span class="line">      str: &#39;hello&#39;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidUpdate() &#123;</span><br><span class="line">    console.log(&#39;çˆ¶ç»„ä»¶æ›´æ–°äº†&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;çˆ¶ç»„ä»¶&lt;&#x2F;h1&gt;</span><br><span class="line">        &#123;this.state.arr!.map((item, idx) &#x3D;&gt; &#123;</span><br><span class="line">          return &lt;Tag key&#x3D;&#123;idx&#125;&gt;&#123;item&#125;&lt;&#x2F;Tag&gt;;</span><br><span class="line">        &#125;)&#125;</span><br><span class="line">        &lt;br &#x2F;&gt;</span><br><span class="line">        &lt;Button</span><br><span class="line">          onClick&#x3D;&#123;() &#x3D;&gt;</span><br><span class="line">            this.setState(&#123;</span><br><span class="line">              arr: [...this.state.arr, this.state.arr.length + 1],</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &gt;</span><br><span class="line">          æ”¹å˜å­ç»„ä»¶ä¸éœ€è¦çš„å±æ€§</span><br><span class="line">        &lt;&#x2F;Button&gt;</span><br><span class="line">        &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; this.setState(&#123; str: &#39;world&#39; &#125;)&#125;&gt;</span><br><span class="line">          æ”¹å˜å­ç»„ä»¶éœ€è¦çš„å±æ€§</span><br><span class="line">        &lt;&#x2F;Button&gt;</span><br><span class="line">        &lt;Child str&#x3D;&#123;this.state.str&#125; &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Parent;</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="PureComponent"><a href="#PureComponent" class="headerlink" title="PureComponent"></a>PureComponent</h3><p>React å†…éƒ¨é¢„åˆ¶äº†è¯¥ç»„ä»¶æ¥å¸®åŠ©æˆ‘ä»¬è¿›è¡Œæ€§èƒ½ä¼˜åŒ– ç†è®ºä¸Šæ‰€æœ‰ç»§æ‰¿è‡ª React.Component çš„ç»„ä»¶éƒ½å¯ä»¥æ”¹å†™æˆç»§æ‰¿ PureComponent æ¥æå‡æ€§èƒ½</p>
<p>ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ ä¸€æ—¦ä½ çš„ç»„ä»¶ç»§æ‰¿è‡ªè¯¥ç»„ä»¶ é‚£ä¹ˆå°±ä¸èƒ½åœ¨ä½ çš„ç»„ä»¶ä¸­ å®ç° shouldComponentUpdate è¿™ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°äº† ä¸ç„¶ä½ å¤§æ¦‚ä¼šåœ¨æ§åˆ¶å°ä¸Šçœ‹åˆ° React ç»™ä½ çš„è­¦å‘Šäº†</p>
<p>PureComponent ä¼šè‡ªåŠ¨çš„å»å¯¹æ¯”è¯¥ç»„ä»¶å‰åçš„ props æœ‰æ— æ›´æ–° ä»è€Œå†³å®šç»„ä»¶æ˜¯å¦è¦æ›´æ–°</p>
<details yellow><summary> <p>ts PureComponent</p> </summary>
              <div class='content'>
              <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123; Button, Tag &#125; from &#39;antd&#39;;</span><br><span class="line">import React, &#123; Component, PureComponent &#125; from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">interface IProps &#123;</span><br><span class="line">  arr?: Array&lt;number&gt;;</span><br><span class="line">  str?: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface IState &#123;</span><br><span class="line">  arr: Array&lt;number&gt;;</span><br><span class="line">  str: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Child extends Component&lt;IProps, Partial&lt;IState&gt;&gt; &#123;</span><br><span class="line">  constructor(props: IProps) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state &#x3D; &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidUpdate() &#123;</span><br><span class="line">    console.log(&#39;ä½¿ç”¨Componentå­ç»„ä»¶æ›´æ–°äº†&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;å­ç»„ä»¶&lt;&#x2F;h1&gt;</span><br><span class="line">        &lt;h2&gt;&#123;this.props.str&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class PureChild extends PureComponent&lt;IProps, Partial&lt;IState&gt;&gt; &#123;</span><br><span class="line">  constructor(props: IProps) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state &#x3D; &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidUpdate() &#123;</span><br><span class="line">    console.log(&#39;ä½¿ç”¨PureComponentå­ç»„ä»¶æ›´æ–°äº†&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;å­ç»„ä»¶&lt;&#x2F;h1&gt;</span><br><span class="line">        &lt;h2&gt;&#123;this.props.str&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Parent extends Component&lt;IProps, IState&gt; &#123;</span><br><span class="line">  constructor(props: IProps) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      arr: [1, 2, 3],</span><br><span class="line">      str: &#39;hello&#39;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidUpdate() &#123;</span><br><span class="line">    console.log(&#39;çˆ¶ç»„ä»¶æ›´æ–°äº†&#39;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;çˆ¶ç»„ä»¶&lt;&#x2F;h1&gt;</span><br><span class="line">        &#123;this.state.arr!.map((item, idx) &#x3D;&gt; &#123;</span><br><span class="line">          return &lt;Tag key&#x3D;&#123;idx&#125;&gt;&#123;item&#125;&lt;&#x2F;Tag&gt;;</span><br><span class="line">        &#125;)&#125;</span><br><span class="line">        &lt;br &#x2F;&gt;</span><br><span class="line">        &lt;Button</span><br><span class="line">          onClick&#x3D;&#123;() &#x3D;&gt;</span><br><span class="line">            this.setState(&#123;</span><br><span class="line">              arr: [...this.state.arr, this.state.arr.length + 1],</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &gt;</span><br><span class="line">          æ”¹å˜å­ç»„ä»¶ä¸éœ€è¦çš„å±æ€§</span><br><span class="line">        &lt;&#x2F;Button&gt;</span><br><span class="line">        &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; this.setState(&#123; str: &#39;world&#39; &#125;)&#125;&gt;</span><br><span class="line">          æ”¹å˜å­ç»„ä»¶éœ€è¦çš„å±æ€§</span><br><span class="line">        &lt;&#x2F;Button&gt;</span><br><span class="line">        &lt;Child str&#x3D;&#123;this.state.str&#125; &#x2F;&gt;</span><br><span class="line">        &lt;PureChild str&#x3D;&#123;this.state.str&#125; &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Parent;</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="memo"><a href="#memo" class="headerlink" title="memo"></a>memo</h3><p>å’Œä¸Šä¸€ä¸ª PureComponent ä¸€æ · è¯¥æ–¹æ³•ç”¨äºå‡½æ•°å¼ç»„ä»¶ demo å¦‚ä¸‹</p>
<details yellow><summary> <p>ts memo</p> </summary>
              <div class='content'>
              <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123; Button, Tag &#125; from &#39;antd&#39;;</span><br><span class="line">import React, &#123; useState, useEffect, memo &#125; from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">interface IProps &#123;</span><br><span class="line">  arr?: Array&lt;number&gt;;</span><br><span class="line">  str?: string;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const Child &#x3D; (props: IProps) &#x3D;&gt; &#123;</span><br><span class="line">  useEffect(() &#x3D;&gt; &#123;</span><br><span class="line">    console.log(&#39;ä¸ä½¿ç”¨memoçš„å­ç»„ä»¶æ›´æ–°äº†&#39;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;å­ç»„ä»¶&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;h2&gt;&#123;props.str&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const MemoChild &#x3D; memo((props: IProps) &#x3D;&gt; &#123;</span><br><span class="line">  useEffect(() &#x3D;&gt; &#123;</span><br><span class="line">    console.log(&#39;memoå­ç»„ä»¶æ›´æ–°äº†&#39;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;å­ç»„ä»¶&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;h2&gt;&#123;props.str&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const Parent &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const [str, setStr] &#x3D; useState&lt;string&gt;(&#39;hello&#39;);</span><br><span class="line">  const [arr, setArr] &#x3D; useState&lt;Array&lt;number&gt;&gt;([1, 2, 3]);</span><br><span class="line"></span><br><span class="line">  useEffect(() &#x3D;&gt; &#123;</span><br><span class="line">    console.log(&#39;çˆ¶ç»„ä»¶æ›´æ–°äº†&#39;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;çˆ¶ç»„ä»¶&lt;&#x2F;h1&gt;</span><br><span class="line">      &#123;arr.map((item, idx) &#x3D;&gt; &#123;</span><br><span class="line">        return &lt;Tag key&#x3D;&#123;idx&#125;&gt;&#123;item&#125;&lt;&#x2F;Tag&gt;;</span><br><span class="line">      &#125;)&#125;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; setArr([...arr, arr.length + 1])&#125;&gt;</span><br><span class="line">          æ”¹å˜å­ç»„ä»¶ä¸éœ€è¦çš„å±æ€§</span><br><span class="line">        &lt;&#x2F;Button&gt;</span><br><span class="line">        &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; setStr(&#39;world&#39;)&#125;&gt;æ”¹å˜å­ç»„ä»¶éœ€è¦çš„å±æ€§&lt;&#x2F;Button&gt;</span><br><span class="line">        &lt;Child str&#x3D;&#123;str&#125; &#x2F;&gt;</span><br><span class="line">        &lt;MemoChild str&#x3D;&#123;str&#125; &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default Parent;</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="useMemo"><a href="#useMemo" class="headerlink" title="useMemo"></a>useMemo</h3><p>æ¥ç€æ¥è¯´ memo æˆ‘ä»¬çŸ¥é“å¯¹è±¡æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ ä»»æ„ä¸¤ä¸ªä¸æŒ‡å‘åŒä¸€ä¸ªåœ°å€çš„ä¸¤ä¸ªå¯¹è±¡è¿›è¡Œå¯¹æ¯”éƒ½ä¼šè¿”å› false</p>
<p>æ‰€ä»¥å¦‚æœå­ç»„ä»¶æ¥å—äº†æ¥è‡ªçˆ¶ç»„ä»¶çš„å±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡ é‚£ä¹ˆä¸ç®¡å¦‚ä½• æ¯å½“çˆ¶ç»„ä»¶æ›´æ–° å­ç»„ä»¶éƒ½ä¼šè·Ÿç€æ›´æ–°</p>
<p>å› ä¸º memo åœ¨æ¯æ¬¡å¯¹æ¯”å‰å props æ—¶ æ€»ä¼šè¿”å› false è¿™ä¸ªæ—¶å€™å°±éœ€è¦ä½¿ç”¨ useMemo æ¥å¯¹è¿™ä¸ªå¯¹è±¡è¿›è¡ŒåŒ…è£…äº†</p>
<p>useMemo æ¥æ”¶ä¸¤ä¸ªå‚æ•°</p>
<ul>
<li><p>ç¬¬ä¸€ä¸ªå‚æ•° æ˜¯ä¸€ä¸ªå‡½æ•° è¿”å›ä¸€ä¸ªå¯¹è±¡</p>
</li>
<li><p>ç¬¬äºŒä¸ªå‚æ•° æ˜¯ä¸€ä¸ªæ•°ç»„ åŒ…å«äº†è¿™ä¸ªå¯¹è±¡çš„ä¾èµ–é¡¹ åªæœ‰ä¾èµ–é¡¹æ›´æ–° å‡½æ•°æ‰ä¼šé‡æ–°æ‰§è¡Œ ä»è€Œå»æ›´æ–°è¿™ä¸ªå¯¹è±¡</p>
</li>
</ul>
<p>demo å¦‚ä¸‹</p>
<details yellow><summary> <p>ts memo</p> </summary>
              <div class='content'>
              <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123; Button &#125; from &#39;antd&#39;;</span><br><span class="line">import React, &#123; useState, useMemo, memo &#125; from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">interface IProps &#123;</span><br><span class="line">  age?: number;</span><br><span class="line">  stu?: &#123; name: string; age: number &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ¥æ”¶çš„æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ memoç”Ÿæ•ˆ</span><br><span class="line">const Child &#x3D; memo((&#123; age &#125;: IProps) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&#39;propsä¸ºåŸºæœ¬æ•°æ®ç±»å‹çš„å­ç»„ä»¶æ¸²æŸ“äº†&#39;);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;propsä¸ºåŸºæœ¬æ•°æ®ç±»å‹&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;h2&gt;age:&#123;age&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶ä¸­æ²¡æœ‰ä½¿ç”¨useMemo å­ç»„ä»¶çš„memoå¤±æ•ˆ</span><br><span class="line">const Child1 &#x3D; memo((&#123; stu &#125;: IProps) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&#39;propsä¸ºå¼•ç”¨æ•°æ®ç±»å‹ æœªä½¿ç”¨useMemo&#39;);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;propsä¸ºå¼•ç”¨æ•°æ®ç±»å‹ æœªä½¿ç”¨useMemo&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;h2&gt;</span><br><span class="line">        &#123;stu?.name&#125;:&#123;stu?.age&#125;</span><br><span class="line">      &lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨äº†useMemo å­ç»„ä»¶çš„memoç”Ÿæ•ˆ</span><br><span class="line">const Child2 &#x3D; memo((&#123; stu &#125;: IProps) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&#39;propsä¸ºå¼•ç”¨æ•°æ®ç±»å‹ ä½¿ç”¨useMemo&#39;);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;propsä¸ºå¼•ç”¨æ•°æ®ç±»å‹ ä½¿ç”¨useMemo&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;h2&gt;</span><br><span class="line">        &#123;stu?.name&#125;:&#123;stu?.age&#125;</span><br><span class="line">      &lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const Parent &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const [count, setCount] &#x3D; useState(0);</span><br><span class="line">  const [age, setAge] &#x3D; useState(18);</span><br><span class="line">  const [name, setName] &#x3D; useState(&#39;lucky&#39;);</span><br><span class="line"></span><br><span class="line">  const stu1 &#x3D; &#123;</span><br><span class="line">    name,</span><br><span class="line">    age,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  const stu2 &#x3D; useMemo(</span><br><span class="line">    () &#x3D;&gt; (&#123;</span><br><span class="line">      name,</span><br><span class="line">      age,</span><br><span class="line">    &#125;),</span><br><span class="line">    [age]</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Child age&#x3D;&#123;age&#125; &#x2F;&gt;</span><br><span class="line">      &lt;Child1 stu&#x3D;&#123;stu1&#125; &#x2F;&gt;</span><br><span class="line">      &lt;Child2 stu&#x3D;&#123;stu2&#125; &#x2F;&gt;</span><br><span class="line">      &lt;h1&gt;&#123;count&#125;&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; setCount(count + 1)&#125;&gt;change count&lt;&#x2F;Button&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; setAge(age + 1)&#125;&gt;change age&lt;&#x2F;Button&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; setName(&#39;lucky chou&#39;)&#125;&gt;change name&lt;&#x2F;Button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default Parent;</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<h3 id="useCallback"><a href="#useCallback" class="headerlink" title="useCallback"></a>useCallback</h3><p>å’Œ useMemo ç±»ä¼¼ è¯¥ hook ç”¨æ¥åš props ä¸ºå‡½æ•°æ—¶çš„æ€§èƒ½ä¼˜åŒ– é¿å…æ¯æ¬¡éƒ½é‡æ–°æ‰§è¡Œè¯¥å‡½æ•°</p>
<p>demo å¦‚ä¸‹</p>
<details yellow><summary> <p>ts memo</p> </summary>
              <div class='content'>
              <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import &#123; Button &#125; from &#39;antd&#39;;</span><br><span class="line">import React, &#123; useState, useCallback, memo &#125; from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">interface IProps &#123;</span><br><span class="line">  getSum: () &#x3D;&gt; number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const Child1 &#x3D; memo((&#123; getSum &#125;: IProps) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&#39;æˆ‘æ˜¯å­ç»„ä»¶ åœ¨çˆ¶ç»„ä»¶ä¸­æ²¡ä½¿ç”¨useCallback&#39;);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;getSum&#125;&gt;æ²¡ä½¿ç”¨useCallback&lt;&#x2F;Button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const Child2 &#x3D; memo((&#123; getSum &#125;: IProps) &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&#39;æˆ‘æ˜¯å­ç»„ä»¶ åœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨äº†useCallback&#39;);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;getSum&#125;&gt;ä½¿ç”¨äº†useCallback&lt;&#x2F;Button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const Parent &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const [num, setNum] &#x3D; useState(0);</span><br><span class="line">  const [max, setMax] &#x3D; useState(100);</span><br><span class="line"></span><br><span class="line">  const getSum1 &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    console.log(&#39;getSum1æ–¹æ³•æ‰§è¡Œäº†&#39;);</span><br><span class="line">    let sum &#x3D; 0;</span><br><span class="line">    for (let i &#x3D; 0; i &lt; max; i++) &#123;</span><br><span class="line">      sum +&#x3D; i;</span><br><span class="line">    &#125;</span><br><span class="line">    return sum;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  const getSum2 &#x3D; useCallback(() &#x3D;&gt; &#123;</span><br><span class="line">    console.log(&#39;getSum2æ–¹æ³•æ‰§è¡Œäº†&#39;);</span><br><span class="line">    let sum &#x3D; 0;</span><br><span class="line">    for (let i &#x3D; 0; i &lt; max; i++) &#123;</span><br><span class="line">      sum +&#x3D; i;</span><br><span class="line">    &#125;</span><br><span class="line">    return sum;</span><br><span class="line">  &#125;, [max]);</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;sum : &#123;getSum1()&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;p&gt;sum : &#123;getSum2()&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;p&gt;num : &#123;num&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; setNum(num + 1)&#125;&gt;change num&lt;&#x2F;Button&gt;</span><br><span class="line">      &lt;Button onClick&#x3D;&#123;() &#x3D;&gt; setMax((pre) &#x3D;&gt; pre * 2)&#125;&gt;change max&lt;&#x2F;Button&gt;</span><br><span class="line">      &lt;Child1 getSum&#x3D;&#123;getSum1&#125; &#x2F;&gt;</span><br><span class="line">      &lt;Child2 getSum&#x3D;&#123;getSum2&#125; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default Parent;</span><br></pre></td></tr></table></figure>
              </div>
            </details>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactå°å†Œ -- reduxä¸­é—´ä»¶ redux-thunk / redux-saga</title>
    <url>/FE/React/middleware/</url>
    <content><![CDATA[<h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>redux ä¸­çš„æ•°æ®æµå¤§è‡´æ˜¯</p>
<p>UI â€”â€”â€”â€”â€”&gt; actionï¼ˆplainï¼‰â€”â€”â€”â€”â€”&gt; reducer â€”â€”â€”â€”â€”&gt; state â€”â€”â€”â€”â€”&gt; UI</p>
<p>action æ˜¯ä¸€ä¸ªåŸå§‹ js å¯¹è±¡ï¼ˆplain objectï¼‰ä¸” reducer æ˜¯ä¸€ä¸ªçº¯å‡½æ•°</p>
<p><strong>ä½†æ˜¯å¦‚æœå­˜åœ¨å‰¯ä½œç”¨ï¼Œæ¯”å¦‚ ajax å¼‚æ­¥è¯·æ±‚ç­‰ç­‰ï¼Œé‚£ä¹ˆåº”è¯¥æ€ä¹ˆåšï¼Ÿ</strong></p>
<a id="more"></a>

<p>æˆ‘ä»¬éœ€è¦å®ç°çš„åŠŸèƒ½ä¹Ÿå¾ˆç®€å• å°±æ˜¯ç»§ç»­ä¸Šä¸€è®²çš„ demo å®Œå–„ article ä¸­çš„ reducer</p>
<p>article ç»„ä»¶ä¸­æ´¾å‘ä¸€ä¸ª get_list çš„ action ç„¶åæˆ‘ä»¬éœ€è¦åœ¨ store ä¸­æ›´æ–°ç½‘ç»œè¯·æ±‚å›æ¥åçš„ lists</p>
<p>é¦–å…ˆæˆ‘ä»¬åœ¨ reducer ä¸­å¤„ç†ç½‘ç»œè¯·æ±‚çœ‹çœ‹è¡Œä¸è¡Œçš„é€š</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> TYPES <span class="keyword">from</span> <span class="string">&#x27;./actionTypes&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; IAction &#125; <span class="keyword">from</span> <span class="string">&#x27;@type/index&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> API <span class="keyword">from</span> <span class="string">&#x27;@utils/api&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> defaultState = &#123;</span><br><span class="line">  list: [],</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (state = defaultState, <span class="attr">action</span>: IAction) =&gt; &#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> TYPES.GET_LIST: &#123;</span><br><span class="line">      API.getList().then(<span class="function">(<span class="params">list</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(list);</span><br><span class="line">        <span class="keyword">return</span> &#123; ...state, list &#125;;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ç‚¹å‡»æŒ‰é’® æˆ‘ä»¬ç¡®å®å¯ä»¥çœ‹åˆ°æ§åˆ¶å°ä¸Šæ‰“å°å‡ºäº† æˆ‘ä»¬åœ¨ reducer ä¸­å‘é€ç½‘ç»œè¯·æ±‚åçš„æ‰“å°è¯­å¥</p>
<p>ä½†æ˜¯æŸ¥çœ‹ devtools æˆ‘ä»¬ä¼šå‘ç° store å¹¶æ²¡æœ‰æ›´æ–°</p>
<p>ä¹Ÿå°±æ˜¯è¯´ reducer ä¸­æ‰€æœ‰æ”¹å˜ store çš„æ–¹æ³•èµ°çš„éƒ½æ˜¯åŒæ­¥çš„ä»£ç </p>
<p>è¿™ä¹Ÿä¸éš¾ç†è§£ å› ä¸ºè¿™ä¼šè®©æˆ‘ä»¬çš„ store å˜çš„æ›´åŠ å¯æ§ å®ƒä¸ä¼šå› ä¸ºå¼‚æ­¥æ“ä½œçš„æŸä¸ªå›æ‰å‡½æ•°åœ¨ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ”¹å˜äº† store</p>
<p>ä½†æ˜¯ å¦‚æœæˆ‘ä»¬å°±æ˜¯è¦å‘é€è¯·æ±‚ é’ˆå¯¹è¿™ç§åœºæ™¯ æˆ‘ä»¬è¯¥å¦‚æœå»å®ç°å‘¢</p>
<p>è¿™ä¸ªæ—¶å€™å°±å¯ä»¥å¼•å…¥ä¸­é—´ä»¶æ¥å¸®åŠ©æˆ‘ä»¬å®Œæˆå¼‚æ­¥æ“ä½œ</p>
<p>redux å¢åŠ ä¸­é—´ä»¶å¤„ç†å‰¯ä½œç”¨åçš„æ•°æ®æµå¤§è‡´å¦‚ä¸‹</p>
<p>UI â€”â€”â€”â€”â€”&gt; action(side function) â€”â€”â€”â€”â€”&gt; middleware â€”â€”â€”â€”â€”&gt; action(plain) â€”â€”â€”â€”â€”&gt; reducer â€”â€”â€”â€”â€”&gt; state â€”â€”â€”â€”â€”&gt; UI</p>
<p>æœ¬æ–‡å°±ä¸»è¦ä»‹ç»ä¸¤ç§ä¸­é—´ä»¶ <strong>redux-thunk</strong> å’Œ <strong>redux-saga</strong></p>
<h3 id="redux-thunk"><a href="#redux-thunk" class="headerlink" title="redux-thunk"></a>redux-thunk</h3><h4 id="å¼•å…¥"><a href="#å¼•å…¥" class="headerlink" title="å¼•å…¥"></a>å¼•å…¥</h4><p>store ä¸‹çš„å…¥å£æ–‡ä»¶ index</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore, combineReducers, applyMiddleware &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> thunkMiddleware <span class="keyword">from</span> <span class="string">&#x27;redux-thunk&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> home <span class="keyword">from</span> <span class="string">&#x27;./home/reducers&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> article <span class="keyword">from</span> <span class="string">&#x27;./article/reducers&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> rootReducer = combineReducers(&#123;</span><br><span class="line">  home,</span><br><span class="line">  article,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> composeEnhancers = <span class="built_in">window</span>.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> enhancer = composeEnhancers(applyMiddleware(thunkMiddleware));</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore(rootReducer, enhancer);</span><br></pre></td></tr></table></figure>

<p>ç„¶åæ˜¯ actionCreators</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™æ˜¯ç®­å¤´å‡½æ•°çš„è¯­æ³• ç”¨æ¥è¿”å›ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">() =&gt; (&#123;&#125;)</span><br><span class="line"><span class="comment">// å¦‚æœä¸ä½¿ç”¨ç®€å†™ å°±éœ€è¦å†™æˆå¦‚ä¸‹è¿™ç§æ ·å­ è¿™ä¸¤ç§å†™æ³•æ˜¯ç­‰ä»·çš„</span></span><br><span class="line">() =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> ACTIONS <span class="keyword">from</span> <span class="string">&#x27;./actionTypes&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> API <span class="keyword">from</span> <span class="string">&#x27;@utils/api&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Dispatch &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getList = <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">  <span class="keyword">type</span>: ACTIONS.GET_LIST,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> setList = <span class="function">(<span class="params">list: <span class="built_in">Array</span>&lt;<span class="built_in">any</span>&gt;</span>) =&gt;</span> (&#123;</span><br><span class="line">  <span class="keyword">type</span>: ACTIONS.SET_LIST,</span><br><span class="line">  list,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getListSync = <span class="function">(<span class="params">list: <span class="built_in">Array</span>&lt;<span class="built_in">any</span>&gt;</span>) =&gt;</span> (&#123;</span><br><span class="line">  <span class="keyword">type</span>: ACTIONS.GET_LIST_ASYNC,</span><br><span class="line">  list,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getListAsync = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">async</span> (dispatch: Dispatch) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; list &#125; = <span class="keyword">await</span> API.getList();</span><br><span class="line">    dispatch(getListSync(list));</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>å…¶ä»–æ‰€æœ‰åœ°æ–¹éƒ½æŒ‰æ­£å¸¸ä½¿ç”¨å³å¯ åœ¨ç»„ä»¶å†…æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯è¿›è¡Œäº†å¼‚æ­¥æ“ä½œçš„é‚£ä¸ªå‡½æ•°</p>
<p>é€šè¿‡ thunk æˆ‘ä»¬å¯ä»¥åœ¨ dispatch å‰æ‹¦æˆª action</p>
<p>ç„¶åè¿›è¡Œç½‘ç»œè¯·æ±‚ç­‰å¼‚æ­¥æ“ä½œ æœ€åè®© action å¸¦ä¸Šæˆ‘ä»¬éœ€è¦çš„æ•°æ® å˜æˆåŸå§‹çš„ action(plain object) å† dispatch å‡ºå»</p>
<p>ä½†æ˜¯è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ å°±æ˜¯å°†å¼‚æ­¥è¯·æ±‚çš„æ“ä½œå’Œ actionCreator æ‚ç³…åœ¨äº†ä¸€èµ·</p>
<p>å¯¹äºæ¯ä¸€ä¸ªéœ€è¦å¼‚æ­¥æ“ä½œçš„ action æˆ‘ä»¬éƒ½éœ€è¦åœ¨ actionCreator ä¸­å†™ä¸€ä¸ªå¯¹åº”çš„å‡½æ•° è¿™æ ·ä¼šä½¿ actionCreator å˜çš„è¶Šæ¥è¶Šå¤§ ä¸æ˜“äºç®¡ç†</p>
<p>æ‰€ä»¥å¯¹åº”çš„ åˆæœ‰ä¸€ç§ä¸­é—´ä»¶ <strong>saga</strong></p>
<h3 id="redux-saga"><a href="#redux-saga" class="headerlink" title="redux-saga"></a>redux-saga</h3><p>åœ¨ saga ä¸­ side effect éƒ½ç§»åˆ°äº† saga.js æ–‡ä»¶ä¸­ ä¸å†å’Œ actionCreator æ‚ç³…åœ¨ä¸€èµ·</p>
<p>ä¾‹å¦‚å¦‚ä¸‹ saga.js æ–‡ä»¶</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; takeEvery, put &#125; <span class="keyword">from</span> <span class="string">&#x27;redux-saga/effects&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; getName &#125; <span class="keyword">from</span> <span class="string">&#x27;./actionCreators&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œå‰¯ä½œç”¨çš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">fetchGetName</span>(<span class="params">action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> res = <span class="keyword">yield</span> axios.get(<span class="string">&#x27;/__mock__.json&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> name = res.data.data;</span><br><span class="line">  <span class="keyword">yield</span> put(getName(name));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬GET_NAME_VALUE action åœ¨dispatchå‰æ‰§è¡ŒfetchGetName æœ€ååŒ…è£…æˆåŸå§‹action</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">mySaga</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> takeEvery(<span class="string">&#x27;GET_NAME_VALUE_ASYNC&#x27;</span>, fetchGetName);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> mySaga;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬çš„ actionCreator è¿˜æ˜¯çº¯å‡€çš„æ–‡ä»¶</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; GET_NAME_VALUE &#125; <span class="keyword">from</span> <span class="string">&#x27;./actionTypes&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getName = <span class="function">(<span class="params">name</span>) =&gt;</span> (&#123;</span><br><span class="line">  type: GET_NAME_VALUE,</span><br><span class="line">  name,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å†æ¥çœ‹çœ‹ saga æ€ä¹ˆå’Œ store å»ºç«‹è”ç³»</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware, compose &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">&#x27;./reducer&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> createSagaMiddleware <span class="keyword">from</span> <span class="string">&#x27;redux-saga&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> mySaga <span class="keyword">from</span> <span class="string">&#x27;./sagas&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> composeEnhancers = <span class="built_in">window</span>.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sagaMiddleware = createSagaMiddleware();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> enhancer = composeEnhancers(applyMiddleware(sagaMiddleware));</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = createStore(reducer, enhancer);</span><br><span class="line"></span><br><span class="line">sagaMiddleware.run(mySaga);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ è§¦å‘ action å’Œè§¦å‘ saga çš„ type ä¸èƒ½åŒå ä¸ç„¶ä¼šå¯¼è‡´ saga ä¸€ç›´æ‰§è¡Œ action</p>
<p>ç„¶ååœ¨ä¸šåŠ¡ç»„ä»¶ä¸­ æˆ‘ä»¬ dispatch çš„ type åº”æ˜¯ saga å¯¹åº”çš„ type</p>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactå°å†Œ -- jsåŸºç¡€</title>
    <url>/FE/React/js/</url>
    <content><![CDATA[<h2 id="ä¸»è¦å†…å®¹"><a href="#ä¸»è¦å†…å®¹" class="headerlink" title="ä¸»è¦å†…å®¹"></a>ä¸»è¦å†…å®¹</h2><ul>
<li><p>ä½ éœ€è¦çŸ¥é“çš„ä¸€äº› JS çŸ¥è¯†</p>
</li>
<li><p>JSX</p>
<ul>
<li><p>JSX æœ¬è´¨</p>
</li>
<li><p>äº‹ä»¶ç»‘å®š ï¼ˆthisï¼‰</p>
</li>
<li><p>æ¡ä»¶æ¸²æŸ“</p>
</li>
<li><p>åˆ—è¡¨æ¸²æŸ“</p>
</li>
<li><p>æ³¨æ„ç‚¹</p>
</li>
</ul>
</li>
<li><p>ReactElement</p>
</li>
</ul>
<a id="more"></a>

<h2 id="ä½ éœ€è¦çŸ¥é“çš„ä¸€äº›-JS-çŸ¥è¯†"><a href="#ä½ éœ€è¦çŸ¥é“çš„ä¸€äº›-JS-çŸ¥è¯†" class="headerlink" title="ä½ éœ€è¦çŸ¥é“çš„ä¸€äº› JS çŸ¥è¯†"></a>ä½ éœ€è¦çŸ¥é“çš„ä¸€äº› JS çŸ¥è¯†</h2><h3 id="å‡½æ•°ç›¸å…³"><a href="#å‡½æ•°ç›¸å…³" class="headerlink" title="å‡½æ•°ç›¸å…³"></a>å‡½æ•°ç›¸å…³</h3><p>å‡½æ•°è¿™ä¸€å— æˆ‘ä»¬ä¸»è¦éœ€è¦æŒæ¡çš„å°±æ˜¯ç®­å¤´å‡½æ•°</p>
<p>å› ä¸ºåœ¨ç±»ç»„ä»¶ä¸­ æˆ‘ä»¬æ€»æ˜¯ä¸å¯é¿å…çš„éœ€è¦ä½¿ç”¨åˆ° this ç»‘å®š</p>
<p>è€Œ this ç›¸å…³çš„æ“ä½œæ€»æ˜¯æˆ–å¤šæˆ–å°‘çš„å­˜åœ¨éº»çƒ¦</p>
<p>ä½†æ˜¯ç®­å¤´å‡½æ•° æœ‰ä¸€ä¸ªç‰¹æ€§ å…¶å†…éƒ¨æ²¡æœ‰ this ä¼šæ²¿ç€ä½œç”¨åŸŸé“¾å¾€ä¸Šçº§ä½œç”¨åŸŸæŸ¥æ‰¾ æ‰€ä»¥å°±ç»•å¼€äº† this ç»‘å®šçš„é—®é¢˜</p>
<p>ç®€å•å¯¹æ¯”ä¸€ä¸‹æ™®é€šå‡½æ•°å’ŒåŒ¿åå‡½æ•°</p>
<h4 id="æ™®é€šå‡½æ•°"><a href="#æ™®é€šå‡½æ•°" class="headerlink" title="æ™®é€šå‡½æ•°"></a>æ™®é€šå‡½æ•°</h4><ul>
<li><p><strong>è°è°ƒç”¨å‡½æ•° this å°±æŒ‡å‘è° this çš„æŒ‡å‘åªæœ‰åœ¨ç¼–è¯‘æœŸé—´æ‰èƒ½è¢«ç¡®è®¤</strong></p>
</li>
<li><p><strong>å‡½æ•° å’Œ å˜é‡ ä¼šè‡ªåŠ¨å˜æˆå…¨å±€å¯¹è±¡ window çš„æ–¹æ³•å’Œå±æ€§</strong></p>
</li>
<li><p><strong>æ‰€ä»¥å‡½æ•°çš„å†…éƒ¨çš„ this æŒ‡å‘å…¨å±€å¯¹è±¡ window</strong></p>
</li>
</ul>
<h4 id="åŒ¿åå‡½æ•°"><a href="#åŒ¿åå‡½æ•°" class="headerlink" title="åŒ¿åå‡½æ•°"></a>åŒ¿åå‡½æ•°</h4><ul>
<li><p><strong>ç®­å¤´å‡½æ•°å†…çš„ thisï¼Œå°±æ˜¯ç®­å¤´å‡½æ•°è¢«å®šä¹‰æ—¶æ‰€åœ¨ä½œç”¨åŸŸçš„ this</strong></p>
</li>
<li><p><strong>ä¸å— apply ç­‰æ–¹æ³•ä¿®æ”¹</strong></p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> bar = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  foo,</span><br><span class="line">  bar,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.foo(); <span class="comment">// window åœ¨å®šä¹‰æ—¶å°±ç¡®è®¤äº†</span></span><br><span class="line">obj.bar(); <span class="comment">// obj åœ¨ç¼–è¯‘æœŸå‘ç°æ˜¯objåœ¨è°ƒç”¨bar</span></span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„ç›¸å…³"><a href="#æ•°ç»„ç›¸å…³" class="headerlink" title="æ•°ç»„ç›¸å…³"></a>æ•°ç»„ç›¸å…³</h3><p>æ•°ç»„è¿™ä¸€å— æˆ‘ä»¬éœ€è¦æŒæ¡çš„å¸¸ç”¨ API æœ‰</p>
<ul>
<li><p><code>Array.prototype.map(item,index,array)</code></p>
<ul>
<li>æˆ‘ä»¬åœ¨åˆ—è¡¨æ¸²æŸ“æ—¶ éœ€è¦ä¾èµ–æ­¤ API æ¥ç”Ÿæˆæ¯ä¸€ä¸ªç»“ç‚¹</li>
</ul>
</li>
<li><p><code>Array.prototype.slice([begin[, end]])</code></p>
<ul>
<li>state ä¸­çš„çŠ¶æ€ æˆ‘ä»¬æ˜¯ä¸å¯ä»¥ä¿®æ”¹çš„ åªèƒ½ç”¨æ–°çŠ¶æ€å»è¦†ç›–æ—§çŠ¶æ€ å¯¹äºæ•°ç»„ æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ª API æ¥æ‹·è´ä¸€ä¸ªæ–°çŠ¶æ€ åŒç†è¿˜æœ‰ concat ç­‰ä¹Ÿå¯ (è¿™äº›æ–¹æ³•éƒ½åªèƒ½æ·±æ‹·è´ç¬¬ä¸€å±‚)</li>
</ul>
</li>
<li><p>å…¶ä»–çš„é«˜é˜¶ç”¨æ³•å¯ä»¥å‚è€ƒ MDN æˆ–è€…æˆ‘çš„ JS å°å†Œ(TODO)</p>
</li>
</ul>
<h3 id="å¯¹è±¡ç›¸å…³"><a href="#å¯¹è±¡ç›¸å…³" class="headerlink" title="å¯¹è±¡ç›¸å…³"></a>å¯¹è±¡ç›¸å…³</h3><ul>
<li><p>åŒæ ·çš„å¯¹äº çŠ¶æ€ä¸­çš„å¯¹è±¡ æˆ‘ä»¬ä¹Ÿä¸èƒ½ç›´æ¥ä¿®æ”¹ å¯ä»¥ç”¨<code>Object.assign(target, ...sources)</code>æ¥æ‹·è´ä¸€ä¸ªæ–°çŠ¶æ€(ä¹Ÿåªèƒ½æ·±æ‹·è´ç¬¬ä¸€å±‚)</p>
</li>
<li><p>å¯¹è±¡å­—é¢é‡ å†™æ³•</p>
<ul>
<li>å¦‚æœå¯¹è±¡çš„é”®å€¼åå­—ç›¸åŒ åœ¨èµ‹å€¼çš„æ—¶å€™ å¯ä»¥åªå†™ä¸€ä¸ª</li>
</ul>
</li>
<li><p>å¯¹è±¡è§£æ„</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> result = &#123;</span><br><span class="line">  case1: <span class="string">&#x27;A&#x27;</span>,</span><br><span class="line">  case2: <span class="string">&#x27;C&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; case1, case2 &#125; = result;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(case1); <span class="comment">// A</span></span><br><span class="line"><span class="built_in">console</span>.log(case2); <span class="comment">// C</span></span><br></pre></td></tr></table></figure>

<h3 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h3><p>ä¸»è¦éœ€è¦æŒæ¡çš„æ˜¯ ES6 çš„å¯¼å…¥/å¯¼å‡º</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// tools.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getParam</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">getAge</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="comment">// ä¸€ä¸ªæ¨¡å—ä¸­ åªå…è®¸ä½¿ç”¨ä¸€ä¸ªé»˜è®¤å¯¼å‡º</span></span><br><span class="line"><span class="comment">// é»˜è®¤å¯¼å‡ºçš„æ¨¡å—å¯ä»¥è‡ªå®šä¹‰åå­— å…¶ä»–çš„å¿…é¡»ä¸å¯¼å‡ºçš„åç§°ä¸€è‡´</span></span><br><span class="line"><span class="keyword">import</span> getAge, &#123;getName,getParam&#125; <span class="keyword">from</span> tools</span><br></pre></td></tr></table></figure>

<h3 id="èµ·æ­¥"><a href="#èµ·æ­¥" class="headerlink" title="èµ·æ­¥"></a>èµ·æ­¥</h3><p>å¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨ JSX è¯­æ³•</p>
<p>æˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®ä¸­å¼•å…¥</p>
<ul>
<li><p><code>&lt;script crossorigin src=&quot;https://unpkg.com/react@16/umd/react.development.js&quot;&gt;&lt;/script&gt;</code></p>
</li>
<li><p><code>&lt;script crossorigin src=&quot;https://unpkg.com/react-dom@16/umd/react-dom.development.js&quot;&gt;&lt;/script&gt;</code></p>
<ul>
<li>å°†ç»„ä»¶æŒ‚è½½åˆ°æ ¹èŠ‚ç‚¹ä¸Šè¿›è¡Œæ¸²æŸ“</li>
</ul>
</li>
<li><p><code>&lt;script src=&quot;https://unpkg.com/babel-standalone@6/babel.min.js&quot;&gt;&lt;/script&gt;</code></p>
<ul>
<li>å°† JSX è¯­æ³•è½¬æ¢ä¸º React.createElement</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>æ³¨æ„ï¼šåœ¨éœ€è¦ä½¿ç”¨ babel çš„ script å†… åŠ ä¸Š style=â€text/babelâ€</strong></p>
</blockquote>
<h3 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h3><h4 id="JSX-è¯­æ³•æœ¬è´¨"><a href="#JSX-è¯­æ³•æœ¬è´¨" class="headerlink" title="JSX è¯­æ³•æœ¬è´¨"></a>JSX è¯­æ³•æœ¬è´¨</h4><p>JSX æ˜¯ JS çš„è¯­æ³•æ‰©å±• ä¸èƒ½è¢«æµè§ˆå™¨ç›´æ¥æ‰§è¡Œ éœ€è¦ä½¿ç”¨ babel ç¼–è¯‘å æ‰å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æ­£å¸¸æ‰§è¡Œ</p>
<p>JSX åœ¨ React ä¸­ç”¨æ¥æè¿°ç”¨æˆ·ç•Œé¢ æœ€ç»ˆè¢« babel ç¼–è¯‘ä¸º<code>React.createElement(type,attrs,children)</code></p>
<ul>
<li><p>typeï¼šç”¨äºæ ‡è¯†èŠ‚ç‚¹çš„ç±»å‹ã€‚å®ƒå¯ä»¥æ˜¯ç±»ä¼¼â€œh1â€â€œdivâ€è¿™æ ·çš„æ ‡å‡† HTML æ ‡ç­¾å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ React ç»„ä»¶ç±»å‹æˆ– React fragment ç±»å‹ã€‚</p>
</li>
<li><p>configï¼šä»¥å¯¹è±¡å½¢å¼ä¼ å…¥ï¼Œç»„ä»¶æ‰€æœ‰çš„å±æ€§éƒ½ä¼šä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨åœ¨ config å¯¹è±¡ä¸­ã€‚</p>
</li>
<li><p>childrenï¼šä»¥å¯¹è±¡å½¢å¼ä¼ å…¥ï¼Œå®ƒè®°å½•çš„æ˜¯ç»„ä»¶æ ‡ç­¾ä¹‹é—´åµŒå¥—çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„â€œå­èŠ‚ç‚¹â€â€œå­å…ƒç´ â€ã€‚</p>
</li>
</ul>
<p>æ‰€ä»¥ JSX æœ¬è´¨æ˜¯åªæ˜¯ä¸€ç§è¯­æ³•ç³– æœ€ç»ˆè¿˜æ˜¯è¢«è½¬åŒ–ä¸ºäº†<code>React.createElement</code></p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨<a href="https://www.babeljs.cn/repl#?browsers=&build=&builtIns=false&spec=false&loose=false&code_lz=DwEwlgbgBAxgNgQwM5ILwCIAWBTBJsBO6AfAFACQoksiKGALmPXNiQCpMvAD04EZPPsSA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=false&fileSize=false&timeTravel=false&sourceType=module&lineWrap=true&presets=es2015%2Creact%2Cstage-2&prettier=false&targets=&version=7.12.3&externalPlugins=">babel</a>å®˜ç½‘ä¸­ æŸ¥çœ‹ JSX æœ€ç»ˆè¢«ç¼–è¯‘æˆäº†ä»€ä¹ˆ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;header&quot;</span>&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;title&quot;</span>&gt;Title&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»babelè½¬æ¢å</span></span><br><span class="line">(<span class="string">&#x27;use strict&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*#__PURE__*/</span></span><br><span class="line">React.createElement(</span><br><span class="line">  <span class="string">&#x27;div&#x27;</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    class: &#x27;header&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">/*#__PURE__*/</span> React.createElement(</span><br><span class="line">    <span class="string">&#x27;div&#x27;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      class: &#x27;title&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;Title&#x27;</span></span><br><span class="line">  )</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>createElement ä¸­å¹¶æ²¡æœ‰ååˆ†å¤æ‚çš„æ¶‰åŠç®—æ³•æˆ–çœŸå® DOM çš„é€»è¾‘ï¼Œå®ƒçš„æ¯ä¸€ä¸ªæ­¥éª¤å‡ ä¹éƒ½æ˜¯åœ¨æ ¼å¼åŒ–æ•°æ®</p>
<p>æœ€åå°†æ ¼å¼åŒ–åçš„æ•°æ®äº¤ç»™ React.render æ¥å¤„ç†</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ReactDOM.render(</span><br><span class="line">  <span class="comment">// éœ€è¦æ¸²æŸ“çš„å…ƒç´ ï¼ˆReactElementï¼‰</span></span><br><span class="line">  element,</span><br><span class="line">  <span class="comment">// å…ƒç´ æŒ‚è½½çš„ç›®æ ‡å®¹å™¨ï¼ˆä¸€ä¸ªçœŸå®DOMï¼‰</span></span><br><span class="line">  container,</span><br><span class="line">  <span class="comment">// å›è°ƒå‡½æ•°ï¼Œå¯é€‰å‚æ•°ï¼Œå¯ä»¥ç”¨æ¥å¤„ç†æ¸²æŸ“ç»“æŸåçš„é€»è¾‘</span></span><br><span class="line">  [callback]</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="JSX-è¡¨è¾¾å¼"><a href="#JSX-è¡¨è¾¾å¼" class="headerlink" title="JSX è¡¨è¾¾å¼"></a>JSX è¡¨è¾¾å¼</h4><p>JSX åœ¨<code>&#123;&#125;</code>ä¸­ä½¿ç”¨æˆ‘ä»¬çš„ JS è¡¨è¾¾å¼</p>
<p>åœ¨é‡Œé¢ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å˜é‡ è¿›è¡Œè¿ç®—ç¬¦çš„æ“ä½œ è°ƒç”¨æ–¹æ³• ç­‰ç­‰</p>
<h4 id="JSX-æ³¨é‡Š"><a href="#JSX-æ³¨é‡Š" class="headerlink" title="JSX æ³¨é‡Š"></a>JSX æ³¨é‡Š</h4><p>JSX æœ‰ç‰¹æ®Šçš„æ³¨é‡Šæ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div className=<span class="string">&quot;header&quot;</span>&gt;</span><br><span class="line">  &#123;<span class="comment">/* æˆ‘æ˜¯æ³¨é‡Š */</span>&#125;</span><br><span class="line">  æˆ‘æ˜¯å¤´éƒ¨</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="ç‰¹æ®Šç‚¹"><a href="#ç‰¹æ®Šç‚¹" class="headerlink" title="ç‰¹æ®Šç‚¹"></a>ç‰¹æ®Šç‚¹</h4><ul>
<li><p>ç”±äº JSX æ˜¯ JS çš„è¯­æ³•æ‰©å±• ä½†æ˜¯åœ¨é‡Œé¢æˆ‘ä»¬åˆå¯ä»¥ä¹¦å†™ç±»ä¼¼ HTML çš„ä¸œè¥¿ æ‰€ä»¥ä¸ºäº†é¿å…å†²çª</p>
<ul>
<li><p>HTML ä¸­ class åœ¨ JS ä¸­è¡¨ç¤ºç±» åœ¨ JSX ä¸­ æˆ‘ä»¬ç”¨<strong>className</strong>æ¥ä»£æ›¿</p>
</li>
<li><p>HTML ä¸­ label æ ‡ç­¾çš„ for åœ¨ JS ä¸­è¡¨ç¤ºå¾ªç¯ åœ¨ JSX ä¸­ç”¨<strong>htmlFor</strong>æ¥ä»£æ›¿</p>
</li>
</ul>
</li>
<li><p>undefined / boolean / null</p>
<ul>
<li><p>å¯¹äºä»¥ä¸Šå‡ ç§æ•°æ®ç±»å‹ JSX ä¸ä¼šå°†å…¶æ¸²æŸ“åˆ°é¡µé¢ä¸Š</p>
</li>
<li><p>åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ æˆ‘ä»¬å¯ä»¥å®ç°æ¡ä»¶æ¸²æŸ“</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> flag = <span class="literal">true</span></span><br><span class="line">&lt;div&gt;&#123;flag &amp;&amp; <span class="string">&quot;æ¬¢è¿å›æ¥~~~&quot;</span>&#125;&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h4 id="JSX-åˆ—è¡¨æ¸²æŸ“"><a href="#JSX-åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="JSX åˆ—è¡¨æ¸²æŸ“"></a>JSX åˆ—è¡¨æ¸²æŸ“</h4><p>è¿™ä¸€å—ä¸»è¦ä½¿ç”¨åˆ°äº†æ•°ç»„çš„é«˜é˜¶å‡½æ•° map</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/babel&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> _games = [<span class="string">&#x27;å‰‘ç›¾&#x27;</span>, <span class="string">&#x27;å¡å°”è¾¾&#x27;</span>, <span class="string">&#x27;é©¬é‡Œå¥¥åˆ¶é€ &#x27;</span>, <span class="string">&#x27;é£èŠ±é›ªæœˆ&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> gamesUI = _games.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div key=&#123;index&#125;&gt;&#123;item&#125;&lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    ReactDOM.render(gamesUI, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;root&#x27;</span>))</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåœ¨è„šæ‰‹æ¶ä¸­ æˆ‘ä»¬å¯ä»¥ä¹¦å†™æˆå¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Movies</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(props);</span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      games: [<span class="string">&#x27;å‰‘ç›¾&#x27;</span>, <span class="string">&#x27;å¡å°”è¾¾&#x27;</span>, <span class="string">&#x27;é©¬é‡Œå¥¥åˆ¶é€ &#x27;</span>, <span class="string">&#x27;é£èŠ±é›ªæœˆ&#x27;</span>],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; games &#125; = <span class="built_in">this</span>.state;</span><br><span class="line">    <span class="keyword">return</span> games.map(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">key</span>=<span class="string">&#123;index&#125;</span>&gt;</span>&#123;item&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="JSX-äº‹ä»¶ç»‘å®š"><a href="#JSX-äº‹ä»¶ç»‘å®š" class="headerlink" title="JSX äº‹ä»¶ç»‘å®š"></a>JSX äº‹ä»¶ç»‘å®š</h4><p>è¿™ä¸€å—æ˜¯ç±»ç»„ä»¶ä¸­çš„é‡ç‚¹ å› ä¸ºæˆ‘ä»¬æ€»æ˜¯éš¾å…è¦ä½¿ç”¨åˆ° this</p>
<p>å¼€å§‹å§ æˆ‘ä»¬ç”¨ä¸€ä¸ªè®¡æ•°å™¨æ¥å¼€å§‹æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ª React äº‹ä»¶ç»‘å®š</p>
<p>é¦–å…ˆ æ„å»ºæˆ‘ä»¬çš„ UI</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(props);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      counter: <span class="number">0</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; counter &#125; = <span class="built_in">this</span>.state;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div&gt;&#123;counter&#125;&lt;/div&gt;</span><br><span class="line">        &lt;button&gt;+<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Counter;</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬åˆ†åˆ«é€šè¿‡</p>
<ul>
<li><p>æ™®é€šå‡½æ•°</p>
</li>
<li><p>åŒ¿åå‡½æ•°</p>
</li>
</ul>
<p>æ¥ç»‘å®šäº‹ä»¶ å¹¶æ‰“å°å‡ºå†…éƒ¨çš„ this æŒ‡å‘</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;button onClick=&#123;<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="built_in">this</span>)&#125;&#125;&gt;+<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">&lt;button onClick=&#123;<span class="function">()=&gt;</span>&#123;<span class="built_in">console</span>.log(<span class="built_in">this</span>)&#125;&#125;&gt;+<span class="number">1</span>&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<p>å…¶ç»“æœåˆ†åˆ«æ˜¯</p>
<ul>
<li><p><code>undefined</code></p>
</li>
<li><p><code>Counter &#123;props: &#123;â€¦&#125;, context: &#123;â€¦&#125;, refs: &#123;â€¦&#125;, updater: &#123;â€¦&#125;, state: &#123;â€¦&#125;, â€¦&#125;</code></p>
</li>
</ul>
<p>é€šè¿‡æ‰“å°çš„ç»“æœ æˆ‘ä»¬å°±æœ‰äº†ä¸¤ç§ è§£å†³ this æŒ‡å‘çš„æ–¹æ³•</p>
<ul>
<li><p>é€šè¿‡ bind æ¥æ”¹å˜ this æŒ‡å‘</p>
</li>
<li><p>ç›´æ¥ä½¿ç”¨åŒ¿åå‡½æ•°</p>
</li>
</ul>
<p>ä»¥ä¸‹æ˜¯ä¸¤ç§æ–¹æ³•çš„å®Œæ•´ä»£ç </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(props);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      counter: <span class="number">0</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.increment = <span class="built_in">this</span>.increment.bind(<span class="built_in">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; counter &#125; = <span class="built_in">this</span>.state;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div&gt;&#123;counter&#125;&lt;/div&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="built_in">this</span>.increment&#125;&gt;+<span class="number">1</span>&lt;/button&gt;</span><br><span class="line">        &lt;button</span><br><span class="line">          onClick=&#123;<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.increment();</span><br><span class="line">          &#125;&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          +<span class="number">1</span></span><br><span class="line">        &lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">increment</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      counter: <span class="built_in">this</span>.state.counter + <span class="number">1</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Counter;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‰‹åŠ¨æ­å»ºä¸€ä¸ª React / Vue é¡¹ç›®</title>
    <url>/FE/Tools/webpack-react-vue/</url>
    <content><![CDATA[<p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/LuckyChou710/ReStart-FE/tree/main/webpack-demo">https://github.com/LuckyChou710/ReStart-FE/tree/main/webpack-demo</a></p>
<details yellow><summary> <p>React dev</p> </summary>
              <div class='content'>
              <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> htmlWebpackPlugin = <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">  template: path.resolve(__dirname, <span class="string">&#x27;../public/index.html&#x27;</span>),</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  mode: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">  entry: path.resolve(__dirname, <span class="string">&#x27;../src/index.js&#x27;</span>),</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;../build&#x27;</span>),</span><br><span class="line">    filename: <span class="string">&#x27;js/[name].[hash].bundle.js&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(mjs|js|jsx)$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        use: [<span class="string">&#x27;babel-loader&#x27;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  plugins: [htmlWebpackPlugin],</span><br><span class="line"></span><br><span class="line">  resolve: &#123;</span><br><span class="line">    extensions: [<span class="string">&#x27;.mjs&#x27;</span>, <span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.jsx&#x27;</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<details yellow><summary> <p>React prod</p> </summary>
              <div class='content'>
              <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; CleanWebpackPlugin &#125; = <span class="built_in">require</span>(<span class="string">&#x27;clean-webpack-plugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> htmlWebpackPlugin = <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">  template: path.resolve(__dirname, <span class="string">&#x27;../public/index.html&#x27;</span>),</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  mode: <span class="string">&#x27;production&#x27;</span>, <span class="comment">// å’Œå¼€å‘ç¯å¢ƒä¸‹çš„é…ç½®åªæ˜¯ä¿®æ”¹äº† mode</span></span><br><span class="line">  entry: path.resolve(__dirname, <span class="string">&#x27;../src/index.js&#x27;</span>),</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;../build&#x27;</span>),</span><br><span class="line">    filename: <span class="string">&#x27;js/[name].[hash].bundle.js&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(mjs|js|jsx)$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        use: [<span class="string">&#x27;babel-loader&#x27;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  plugins: [htmlWebpackPlugin, <span class="keyword">new</span> CleanWebpackPlugin()],</span><br><span class="line"></span><br><span class="line">  resolve: &#123;</span><br><span class="line">    extensions: [<span class="string">&#x27;.mjs&#x27;</span>, <span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.jsx&#x27;</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<details yellow><summary> <p>Vue dev</p> </summary>
              <div class='content'>
              <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> VueLoaderPlugin = <span class="built_in">require</span>(<span class="string">&#x27;vue-loader/lib/plugin&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> htmlWebpackPlugin = <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">  template: path.resolve(__dirname, <span class="string">&#x27;../public/index.html&#x27;</span>),</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  mode: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">  entry: path.resolve(__dirname, <span class="string">&#x27;../main.js&#x27;</span>),</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;../build&#x27;</span>),</span><br><span class="line">    filename: <span class="string">&#x27;js/[name].[hash].bundle.js&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        use: [<span class="string">&#x27;vue-loader&#x27;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [htmlWebpackPlugin, <span class="keyword">new</span> VueLoaderPlugin()],</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    extensions: [<span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.css&#x27;</span>, <span class="string">&#x27;.vue&#x27;</span>],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      vue$: <span class="string">&#x27;vue/dist/vue.esm.js&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
              </div>
            </details>

<details yellow><summary> <p>Vue prod</p> </summary>
              <div class='content'>
              <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; CleanWebpackPlugin &#125; = <span class="built_in">require</span>(<span class="string">&#x27;clean-webpack-plugin&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> VueLoaderPlugin = <span class="built_in">require</span>(<span class="string">&#x27;vue-loader/lib/plugin&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> htmlWebpackPlugin = <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">  template: path.resolve(__dirname, <span class="string">&#x27;../public/index.html&#x27;</span>),</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  mode: <span class="string">&#x27;production&#x27;</span>, <span class="comment">// å’Œå¼€å‘ç¯å¢ƒä¸‹çš„é…ç½®åªæ˜¯ä¿®æ”¹äº† mode</span></span><br><span class="line">  entry: path.resolve(__dirname, <span class="string">&#x27;../main.js&#x27;</span>),</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;../build&#x27;</span>),</span><br><span class="line">    filename: <span class="string">&#x27;js/[name].[hash].bundle.js&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">        exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        use: [<span class="string">&#x27;vue-loader&#x27;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  plugins: [htmlWebpackPlugin, <span class="keyword">new</span> CleanWebpackPlugin(), <span class="keyword">new</span> VueLoaderPlugin()],</span><br><span class="line"></span><br><span class="line">  resolve: &#123;</span><br><span class="line">    extensions: [<span class="string">&#x27;.vue&#x27;</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
              </div>
            </details>


<details yellow><summary> <p>package.json</p> </summary>
              <div class='content'>
              <figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;webpack-demo&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;main&quot;</span>: <span class="string">&quot;index.js&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;license&quot;</span>: <span class="string">&quot;MIT&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;@babel/core&quot;</span>: <span class="string">&quot;^7.13.16&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;@babel/preset-env&quot;</span>: <span class="string">&quot;^7.13.15&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;@babel/preset-react&quot;</span>: <span class="string">&quot;^7.13.13&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;babel-loader&quot;</span>: <span class="string">&quot;^8.2.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;clean-webpack-plugin&quot;</span>: <span class="string">&quot;^4.0.0-alpha.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;html-webpack-plugin&quot;</span>: <span class="string">&quot;4.5.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;react&quot;</span>: <span class="string">&quot;^17.0.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;react-dom&quot;</span>: <span class="string">&quot;^17.0.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;vue&quot;</span>: <span class="string">&quot;^2.6.12&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;vue-loader&quot;</span>: <span class="string">&quot;^15.9.6&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;vue-template-compiler&quot;</span>: <span class="string">&quot;^2.6.12&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;webpack&quot;</span>: <span class="string">&quot;4.44.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;webpack-cli&quot;</span>: <span class="string">&quot;3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;webpack-dev-server&quot;</span>: <span class="string">&quot;^3.11.2&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;start:react&quot;</span>: <span class="string">&quot;webpack-dev-server --config  ./react/config/webpack.config.dev.js --open&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;build:react&quot;</span>: <span class="string">&quot;webpack --config ./react/config/webpack.config.prod.js&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;start:vue&quot;</span>: <span class="string">&quot;webpack-dev-server --config  ./vue/config/webpack.config.dev.js --open&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;build:vue&quot;</span>: <span class="string">&quot;webpack --config ./vue/config/webpack.config.prod.js&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
              </div>
            </details>]]></content>
      <categories>
        <category>Tools</category>
      </categories>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title>npmå’Œyarnå‘½ä»¤å¯¹æ¯” ï¼ˆé€ŸæŸ¥ï¼‰</title>
    <url>/FE/Tools/yarn&amp;npm/</url>
    <content><![CDATA[<table>
<thead>
<tr>
<th align="center">yarn</th>
<th align="center">npm</th>
<th align="left">å‘½ä»¤åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong><code>yarn install</code></strong></td>
<td align="center"><strong><code>npm install</code></strong></td>
<td align="left"><strong>æ ¹æ®<code>pack.json</code>å®‰è£…é¡¹ç›®æ‰€éœ€çš„ä¾èµ–åŒ…</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn install --flat</code></strong></td>
<td align="center"><strong><code>--</code></strong></td>
<td align="left"><strong>æ³¨é‡Š 1</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn install --no-lockfile</code></strong></td>
<td align="center"><strong><code>npm install --no-package-lock</code></strong></td>
<td align="left"><strong>ä¸è¯»å–æˆ–ç”Ÿæˆ<code>yarn.lock</code>é”æ–‡ä»¶</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn install --pure-lockfile</code></strong></td>
<td align="center"><strong><code>--</code></strong></td>
<td align="left"><strong>ä¸è¦ç”Ÿæˆ<code>yarn.lock</code>é”æ–‡ä»¶</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn add [package]</code></strong></td>
<td align="center"><strong><code>npm install [package]</code></strong></td>
<td align="left"><strong>å®‰è£…éœ€è¦çš„ä¾èµ–åŒ…</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn add [package] --dev</code></strong></td>
<td align="center"><strong><code>npm install [package] --save-dev</code></strong></td>
<td align="left"><strong>æ³¨é‡Š 2</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn add [package] --D</code></strong></td>
<td align="center"><strong><code>npm install [package] --save-dev</code></strong></td>
<td align="left"><strong>åŒä¸Š</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn add [package] --peer</code></strong></td>
<td align="center"><strong><code>--</code></strong></td>
<td align="left"><strong>æ³¨é‡Š 3</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn add [package] --P</code></strong></td>
<td align="center"><strong><code>--</code></strong></td>
<td align="left"><strong>åŒä¸Š</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn add [package] --optional</code></strong></td>
<td align="center"><strong><code>npm install [package] --save-optional</code></strong></td>
<td align="left"><strong>æ³¨é‡Š 4</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn add [package] --O</code></strong></td>
<td align="center"><strong><code>npm install [package] --save-optional</code></strong></td>
<td align="left"><strong>åŒä¸Š</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn add [package] --exact</code></strong></td>
<td align="center"><strong><code>npm install [package] --save-exact</code></strong></td>
<td align="left"><strong>æ³¨é‡Š 5</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn add [package] --E</code></strong></td>
<td align="center"><strong><code>npm install [package] --save-exact</code></strong></td>
<td align="left"><strong>åŒä¸Š</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn global add [package]</code></strong></td>
<td align="center"><strong><code>npm install [package] --global</code></strong></td>
<td align="left"><strong>å…¨å±€å®‰è£…ä¾èµ–åŒ…</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn global upgrade</code></strong></td>
<td align="center"><strong><code>npm update --global</code></strong></td>
<td align="left"><strong>å…¨å±€æ›´æ–°ä¾èµ–åŒ…</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn add --force</code></strong></td>
<td align="center"><strong><code>npm rebuild</code></strong></td>
<td align="left"><strong>æ›´æ”¹åŒ…å†…å®¹åè¿›è¡Œé‡å»º</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn remove [package]</code></strong></td>
<td align="center"><strong><code>npm uninstall [package]</code></strong></td>
<td align="left"><strong>å¸è½½å·²ç»å®‰è£…çš„ä¾èµ–åŒ…</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn cache clean [package]</code></strong></td>
<td align="center"><strong><code>npm cache clean</code></strong></td>
<td align="left"><strong>æ³¨é‡Š 6</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn upgrade</code></strong></td>
<td align="center"><strong><code>rm -rf node_modules &amp;&amp; npm install</code></strong></td>
<td align="left"><strong>æ›´æ–°ä¾èµ–åŒ…</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn version --major</code></strong></td>
<td align="center"><strong><code>npm version major</code></strong></td>
<td align="left"><strong>æ›´æ–°ä¾èµ–åŒ…çš„ç‰ˆæœ¬</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn version --minor</code></strong></td>
<td align="center"><strong><code>npm version minor</code></strong></td>
<td align="left"><strong>æ›´æ–°ä¾èµ–åŒ…çš„ç‰ˆæœ¬</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn version --patch</code></strong></td>
<td align="center"><strong><code>npm version patch</code></strong></td>
<td align="left"><strong>æ›´æ–°ä¾èµ–åŒ…çš„ç‰ˆæœ¬</strong></td>
</tr>
<tr>
<td align="center"><strong><code>yarn config set registry</code></strong></td>
<td align="center"><strong><code>npm config set registry</code></strong></td>
<td align="left"><strong>ä¿®æ”¹æº</strong></td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>Tools</category>
      </categories>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title>TypeScript ç±»</title>
    <url>/FE/TS/class/</url>
    <content><![CDATA[<h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pet</span> </span>&#123;</span><br><span class="line">  name: <span class="built_in">string</span></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">move</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;moving&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Pet</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Dog(<span class="string">&quot;å“ˆå£«å¥‡&quot;</span>).move()</span><br></pre></td></tr></table></figure>


<a id="more"></a>

<h2 id="å…¬å…±ï¼Œç§æœ‰ä¸å—ä¿æŠ¤çš„ä¿®é¥°ç¬¦"><a href="#å…¬å…±ï¼Œç§æœ‰ä¸å—ä¿æŠ¤çš„ä¿®é¥°ç¬¦" class="headerlink" title="å…¬å…±ï¼Œç§æœ‰ä¸å—ä¿æŠ¤çš„ä¿®é¥°ç¬¦"></a>å…¬å…±ï¼Œç§æœ‰ä¸å—ä¿æŠ¤çš„ä¿®é¥°ç¬¦</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pet</span> </span>&#123;</span><br><span class="line">  <span class="comment">// å…¬æœ‰å±æ€§ æ‰€æœ‰åœ°æ–¹éƒ½å¯è®¿é—® é»˜è®¤åœ¨ä¸å£°æ˜çš„æƒ…å†µä¸‹ éƒ½æ˜¯public</span></span><br><span class="line">  <span class="keyword">public</span> name: <span class="built_in">string</span></span><br><span class="line">  <span class="comment">// ç§æœ‰å±æ€§ åªæœ‰åœ¨å£°æ˜ç±»çš„å†…éƒ¨æ‰å¯ä»¥è®¿é—®</span></span><br><span class="line">  <span class="keyword">private</span> color: <span class="built_in">string</span></span><br><span class="line">  <span class="comment">// å—ä¿æŠ¤çš„å±æ€§ åªæœ‰åœ¨å£°æ˜ç±»åŠå…¶å­ç±»æ‰å¯ä»¥è®¿é—®</span></span><br><span class="line">  <span class="keyword">protected</span> weight: <span class="built_in">number</span></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name: <span class="built_in">string</span>, color: <span class="built_in">string</span>, weight: <span class="built_in">number</span></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name</span><br><span class="line">    <span class="built_in">this</span>.color = color</span><br><span class="line">    <span class="built_in">this</span>.weight = weight</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">bark</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// å£°æ˜ç±»å†…éƒ¨ æ‰€æœ‰å±æ€§éƒ½å¯ä»¥è®¿é—®</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;I am &#x27;</span> + <span class="built_in">this</span>.name + <span class="string">&#x27; , &#x27;</span> + <span class="built_in">this</span>.color + <span class="built_in">this</span>.weight)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åœ¨å¤–éƒ¨ åªèƒ½è®¿é—® public ä¿®é¥°çš„å±æ€§ bark æ²¡æœ‰ä¿®é¥°ç¬¦ é»˜è®¤ä¸ºpublic</span></span><br><span class="line"><span class="keyword">new</span> Pet(<span class="string">&#x27;å“ˆå£«å¥‡&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>, <span class="number">10</span>).bark()</span><br><span class="line"><span class="keyword">new</span> Pet(<span class="string">&#x27;å“ˆå£«å¥‡&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>, <span class="number">10</span>).name = <span class="string">&#x27;è“è‰²å“ˆå£«å¥‡&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Pet</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name: <span class="built_in">string</span>, color: <span class="built_in">string</span>, weight: <span class="built_in">number</span></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(name, color, weight)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">bark</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// å­ç±»ä¸­ coloræ— æ³•è®¿é—® å› ä¸ºcoloræ˜¯çˆ¶ç±»çš„ç§æœ‰å±æ€§ ä½†æ˜¯å¯ä»¥è®¿é—®åˆ°çˆ¶ç±»å—ä¿æŠ¤çš„å±æ€§weight</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;I am &#x27;</span> + <span class="built_in">this</span>.name + <span class="string">&#x27; , &#x27;</span> + <span class="built_in">this</span>.weight)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="readonlyä¿®é¥°ç¬¦"><a href="#readonlyä¿®é¥°ç¬¦" class="headerlink" title="readonlyä¿®é¥°ç¬¦"></a>readonlyä¿®é¥°ç¬¦</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pet</span> </span>&#123;</span><br><span class="line">  <span class="keyword">readonly</span> name: <span class="built_in">string</span></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ— æ³•åˆ†é…åˆ° &quot;name&quot; ï¼Œå› ä¸ºå®ƒæ˜¯åªè¯»å±æ€§</span></span><br><span class="line"><span class="comment">// new Pet(&quot;å“ˆå£«å¥‡&quot;).name = &quot;äºŒå“ˆ&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½†æ˜¯å¯ä»¥è¯»å–</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> Pet(<span class="string">&#x27;å“ˆå£«å¥‡&#x27;</span>).name)</span><br></pre></td></tr></table></figure>

<h2 id="å­˜å–å™¨-setter-getter"><a href="#å­˜å–å™¨-setter-getter" class="headerlink" title="å­˜å–å™¨ setter getter"></a>å­˜å–å™¨ setter getter</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pet</span> </span>&#123;</span><br><span class="line">  name: <span class="built_in">string</span></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">get</span> <span class="title">fullName</span>() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;get&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">set</span> <span class="title">fullName</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;set&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> dog = <span class="keyword">new</span> Pet(<span class="string">&#x27;dog&#x27;</span>)</span><br><span class="line">dog.fullName = <span class="string">&#x27;lucky&#x27;</span> <span class="comment">// set</span></span><br><span class="line">dog.fullName <span class="comment">// get</span></span><br></pre></td></tr></table></figure>

<h2 id="é™æ€å±æ€§"><a href="#é™æ€å±æ€§" class="headerlink" title="é™æ€å±æ€§"></a>é™æ€å±æ€§</h2><p>é™æ€å±æ€§ ä¸éœ€è¦å®ä¾‹åŒ–å¯¹è±¡åå†ä½¿ç”¨ ç›´æ¥ç”¨ç±»åè°ƒç”¨å³å¯</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pet</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="function"><span class="title">move</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;moving&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Pet.move()</span><br></pre></td></tr></table></figure>

<h2 id="æŠ½è±¡ç±»-abstract"><a href="#æŠ½è±¡ç±»-abstract" class="headerlink" title="æŠ½è±¡ç±» abstract"></a>æŠ½è±¡ç±» abstract</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Pet</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>)</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// abstractå£°æ˜çš„æ–¹æ³•å¿…é¡»åœ¨å®ç°ç±»ä¸­å®ç°å®ƒ</span></span><br><span class="line">  <span class="keyword">abstract</span> bark(): <span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Pet</span> </span>&#123;</span><br><span class="line">  name: <span class="built_in">string</span></span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(name)</span><br><span class="line">    <span class="built_in">this</span>.name = name</span><br><span class="line">  &#125;</span><br><span class="line">  bark(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æŠŠç±»å½“åšæ¥å£ä½¿ç”¨"><a href="#æŠŠç±»å½“åšæ¥å£ä½¿ç”¨" class="headerlink" title="æŠŠç±»å½“åšæ¥å£ä½¿ç”¨"></a>æŠŠç±»å½“åšæ¥å£ä½¿ç”¨</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  x: <span class="built_in">number</span></span><br><span class="line">  y: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Point3d <span class="keyword">extends</span> Point &#123;</span><br><span class="line">  z: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> point3d: Point3d = &#123; <span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>, <span class="attr">z</span>: <span class="number">3</span> &#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>TypeScript</category>
      </categories>
      <tags>
        <tag>TypeScript</tag>
      </tags>
  </entry>
  <entry>
    <title>TypeScript æ¥å£</title>
    <url>/FE/TS/interface/</url>
    <content><![CDATA[<details yellow><summary> <p>ts interface</p> </summary>
              <div class='content'>
              <figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ¥å£</span></span><br><span class="line"><span class="comment"> * å¯¹è¡Œä¸ºçš„æŠ½è±¡</span></span><br><span class="line"><span class="comment"> * å®šä¹‰çš„å˜é‡å¿…é¡»å’Œæ¥å£ä¸­çš„å˜é‡ä¸€è‡´ ä¸èƒ½å¤šä¹Ÿä¸èƒ½å°‘</span></span><br><span class="line"><span class="comment"> * ç±»å‹æ£€æŸ¥å™¨ä¸ä¼šå»æ£€æŸ¥å±æ€§çš„é¡ºåºï¼Œåªè¦ç›¸åº”çš„å±æ€§å­˜åœ¨å¹¶ä¸”ç±»å‹ä¹Ÿæ˜¯å¯¹çš„å°±å¯ä»¥</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * å¯é€‰å±æ€§ ?</span></span><br><span class="line"><span class="comment"> * åªè¯»å±æ€§ readonly</span></span><br><span class="line"><span class="comment"> * ç»§æ‰¿æ¥å£ extends</span></span><br><span class="line"><span class="comment"> * ç±»å®ç°æ¥å£ implements</span></span><br><span class="line"><span class="comment"> * å¯ç´¢å¼•çš„ç±»å‹</span></span><br><span class="line"><span class="comment"> * æ··åˆç±»å‹</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">  height?: <span class="built_in">string</span>; <span class="comment">// å¯é€‰å±æ€§</span></span><br><span class="line">  <span class="keyword">readonly</span> gender: <span class="built_in">string</span>; <span class="comment">// åªè¯»å±æ€§</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> chou: Person = &#123;</span><br><span class="line">  name: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  gender: <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»§æ‰¿æ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> Student <span class="keyword">extends</span> Person &#123;</span><br><span class="line">  sno: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> stu: Student = &#123;</span><br><span class="line">  name: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  gender: <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">  sno: <span class="string">&#x27;001&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»å®ç°æ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> Counter &#123;</span><br><span class="line">  x: <span class="built_in">number</span>;</span><br><span class="line">  y: <span class="built_in">number</span>;</span><br><span class="line">  add(x: <span class="built_in">number</span>, <span class="attr">y</span>: <span class="built_in">number</span>): <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myCounter</span> <span class="title">implements</span> <span class="title">Counter</span> </span>&#123;</span><br><span class="line">  x: <span class="built_in">number</span>;</span><br><span class="line">  y: <span class="built_in">number</span>;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.x = x;</span><br><span class="line">    <span class="built_in">this</span>.y = y;</span><br><span class="line">  &#125;</span><br><span class="line">  add(x: <span class="built_in">number</span>, <span class="attr">y</span>: <span class="built_in">number</span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ç´¢å¼•çš„ç±»å‹</span></span><br><span class="line"><span class="comment">// è¡¨ç¤ºç”¨numberç´¢å¼•å»è®¿é—®å±æ€§æ—¶ ä¼šè¿”å›stringç±»å‹</span></span><br><span class="line"><span class="comment">// ä¾‹å¦‚ arr = [&#x27;chou&#x27;] arr[0] = &#x27;chou&#x27;</span></span><br><span class="line"><span class="comment">// tsæ”¯æŒä¸¤ç§ç´¢å¼•ç±»å‹ stringå’Œnumber ä½†æ˜¯æ•°å­—ç´¢å¼•çš„è¿”å›å€¼å¿…é¡»æ˜¯å­—ç¬¦ä¸²ç´¢å¼•è¿”å›å€¼ç±»å‹çš„å­ç±»å‹</span></span><br><span class="line"><span class="keyword">interface</span> StringArray &#123;</span><br><span class="line">  [index: <span class="built_in">number</span>]: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
              </div>
            </details>]]></content>
      <categories>
        <category>TypeScript</category>
      </categories>
      <tags>
        <tag>TypeScript</tag>
      </tags>
  </entry>
  <entry>
    <title>React In TypeScript</title>
    <url>/FE/TS/react-ts/</url>
    <content><![CDATA[<h2 id="èµ·æ­¥"><a href="#èµ·æ­¥" class="headerlink" title="èµ·æ­¥"></a>èµ·æ­¥</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npx create-react-app my-app --typescript</span><br><span class="line">yarn create react-app my-app --typescript</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h2 id="é…ç½®åˆ«å"><a href="#é…ç½®åˆ«å" class="headerlink" title="é…ç½®åˆ«å"></a>é…ç½®åˆ«å</h2><p>create-react-appå°†webpacké…ç½®æ–‡ä»¶éšè—èµ·æ¥äº†</p>
<p>å¦‚æœæƒ³ä½¿ç”¨webpacké…ç½®æ–‡ä»¶çš„è¯ éœ€è¦ä½¿ç”¨ejectå‘½ä»¤ å°†è¿™äº›é…ç½®æ–‡ä»¶æš´éœ²å‡ºæ¥ ä½†æ˜¯è¿™æ˜¯ä¸€ä¸ªä¸å¯é€†çš„æ“ä½œ ä½¿ç”¨å‰éœ€è¦è°¨æ…</p>
<p>éšååœ¨æˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°ä¸€ä¸ªconfigæ–‡ä»¶å¤¹ </p>
<p>æ‰¾åˆ°æ–‡ä»¶å¤¹ä¸‹çš„<code>webpack.config.js</code>æ–‡ä»¶</p>
<p>åœ¨aliasä¸‹å°±æ˜¯æˆ‘ä»¬çš„åˆ«åé…ç½®</p>
<p>ä¾‹å¦‚æˆ‘ä»¬å¯ä»¥æ’å…¥ä»¥ä¸‹å‡ è¡Œ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">alias: &#123;</span><br><span class="line">      <span class="comment">//......</span></span><br><span class="line">      ...(modules.webpackAliases || &#123;&#125;),</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: path.resolve(__dirname, <span class="string">&#x27;../src&#x27;</span>),</span><br><span class="line">      <span class="string">&#x27;@store&#x27;</span>: <span class="string">&quot;@/store&quot;</span>,</span><br><span class="line">      <span class="string">&#x27;@components&#x27;</span>: <span class="string">&quot;@/components&quot;</span>,</span><br><span class="line">      <span class="comment">//......</span></span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<p>éšååœ¨æ ¹ç›®å½•ä¸‹æ‰¾åˆ°<code>tsconfig.json</code>æ–‡ä»¶</p>
<p>åœ¨é‡Œé¢åšä¸Šå¯¹åº”çš„é…ç½®</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;baseUrl&quot;</span>: <span class="string">&quot;.&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;paths&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;@/*&quot;</span>: [<span class="string">&quot;./src/*&quot;</span>],</span><br><span class="line">      <span class="attr">&quot;@store/*&quot;</span>: [<span class="string">&quot;./src/store/*&quot;</span>],</span><br><span class="line">      <span class="attr">&quot;@components/*&quot;</span>: [<span class="string">&quot;./src/components/*&quot;</span>],</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å£°æ˜æ–‡ä»¶"><a href="#å£°æ˜æ–‡ä»¶" class="headerlink" title="å£°æ˜æ–‡ä»¶"></a>å£°æ˜æ–‡ä»¶</h2><p>ä¸€èˆ¬çš„ ç¬¬ä¸‰æ–¹æ¨¡å—éƒ½è‡ªå·±å†™äº†å£°æ˜æ–‡ä»¶ æ‰€ä»¥ä¸éœ€è¦æˆ‘ä»¬é¢å¤–ä¹¦å†™</p>
<p>å®ƒç”¨æ¥å‘Šè¯‰ç¼–è¯‘å™¨ æˆ‘ä»¬å¯¼å…¥çš„æ¨¡å—æ˜¯ä»€ä¹ˆ ä»¥æ­¤æ¥è·å–ä»£ç æç¤ºç­‰</p>
<h2 id="ç±»å‹å®šä¹‰"><a href="#ç±»å‹å®šä¹‰" class="headerlink" title="ç±»å‹å®šä¹‰"></a>ç±»å‹å®šä¹‰</h2><p>åœ¨tsä¸­ ä¸€èˆ¬çš„ æˆ‘ä»¬éœ€è¦ç»™æ¯ä¸€ä¸ªå˜é‡ å®šä¹‰ç±»å‹</p>
<p>ä¾‹å¦‚ä¸€ä¸ªå¾ˆæ™®é€šçš„ç»„ä»¶</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> Props &#123;</span><br><span class="line">  onClick(): <span class="built_in">void</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> AddList = <span class="function">(<span class="params">props: Props</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; onClick &#125; = props</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Button <span class="keyword">type</span>=<span class="string">&quot;dashed&quot;</span> onClick=&#123;onClick&#125;&gt;</span><br><span class="line">        ç»§ç»­æ·»åŠ </span><br><span class="line">      &lt;/Button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä½¿ç”¨interface å®šä¹‰äº†è¯¥ç»„ä»¶å¯ä»¥æ¥æ”¶propsçš„ç±»å‹ è¿™æ ·å°±å¯ä»¥æœ‰æ•ˆé¿å…ä¸å±äºè¯¥ç»„ä»¶çš„propsä¼ è¿›æ¥ åŒæ—¶å¦‚æœæ˜¯å¿…é¡»ä¼ å…¥çš„propsä¹Ÿèƒ½åšå‡ºæœ‰æ•ˆçš„æé†’</p>
<h2 id="css-module"><a href="#css-module" class="headerlink" title="css module"></a>css module</h2><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥å¼•å…¥ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¨¡å— æ¥å¤§å¤§æå‡æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡</p>
<p><code>typings-for-css-modules-loader</code></p>
<p>å®ƒå¯èƒ½å¸®åŠ©æˆ‘ä»¬å®ç°css moduleï¼ˆä¸éœ€è¦ä¿®æ”¹æ–‡ä»¶å.module.cssï¼‰ åŒæ—¶å¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆ.d.tså£°æ˜æ–‡ä»¶</p>
<p>ä½¿ç”¨ npm/yarn å®‰è£…å  æ‰¾åˆ°æˆ‘ä»¬åˆšåˆšé…ç½®è¿‡çš„<code>webpack.config.js</code>æ–‡ä»¶åšç›¸å…³é…ç½®</p>
<p>å› ä¸ºåœ¨æˆ‘çš„é¡¹ç›®ä¸­ cssé¢„ç¼–è¯‘å™¨ä½¿ç”¨çš„æ˜¯sass æ‰€ä»¥è¿˜éœ€è¦å¼•å…¥<code>sass-loader</code>å’Œ<code>dart-sass</code></p>
<p>æ³¨æ„ï¼šä½¿ç”¨<code>dart-sass</code>è€Œä¸æ˜¯<code>node-sass</code> å› ä¸º<code>node-sass</code>å’Œ<code>node</code>ç‰ˆæœ¬å¼ºå…³è” å¯èƒ½ä¼šå› ä¸ºç‰ˆæœ¬é—®é¢˜å¯¼è‡´æ•´ä¸ªé¡¹ç›®èµ·ä¸æ¥</p>
<p>é¦–å…ˆåœ¨<code>webpack.config.js</code>çš„moduleä¸‹åˆ é™¤æ‰åŸæœ‰çš„sassç›¸å…³çš„é…ç½® è¿™ä¸€æ­¥å¾ˆå…³é”® å› ä¸ºè„šæ‰‹æ¶é»˜è®¤ä¼šæœ‰ç›¸å…³çš„css moduleæ–¹æ¡ˆ å¯èƒ½ä¼šè¦†ç›–æ‰æˆ‘ä»¬çš„é…ç½®</p>
<p>ç„¶åæ’å…¥æˆ‘ä»¬æ–°çš„é…ç½®å³å¯ </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  test: <span class="regexp">/\.scss|sass$/</span>,</span><br><span class="line">  use: [</span><br><span class="line">    &#123;</span><br><span class="line">      loader: <span class="string">&#x27;style-loader&#x27;</span>, <span class="comment">// å°† JS å­—ç¬¦ä¸²ç”Ÿæˆä¸º style èŠ‚ç‚¹</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      loader: <span class="string">&#x27;typings-for-css-modules-loader&#x27;</span>,</span><br><span class="line">      options: &#123;</span><br><span class="line">        modules: <span class="literal">true</span>, <span class="comment">//classå±€éƒ¨ä½œç”¨åŸŸ</span></span><br><span class="line">        namedExport: <span class="literal">true</span>,</span><br><span class="line">        camelCase: <span class="literal">true</span>,</span><br><span class="line">        minimize: <span class="literal">true</span>,</span><br><span class="line">        localIdentName: <span class="string">&#x27;[local]_[hash:base64:5]&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      loader: <span class="string">&#x27;postcss-loader&#x27;</span>,</span><br><span class="line">      options: &#123;</span><br><span class="line">        config: &#123;</span><br><span class="line">          path: path.resolve(__dirname, <span class="string">&#x27;./postcss.config.js&#x27;</span>),</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      loader: <span class="string">&#x27;sass-loader&#x27;</span>, <span class="comment">// å°† Sass ç¼–è¯‘æˆ CSS</span></span><br><span class="line">      options: &#123;</span><br><span class="line">        implementation: <span class="built_in">require</span>(<span class="string">&#x27;sass&#x27;</span>), <span class="comment">//ä½¿ç”¨dart-sassä»£æ›¿node-sass</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>TypeScript</category>
      </categories>
      <tags>
        <tag>TypeScript</tag>
      </tags>
  </entry>
  <entry>
    <title>TypeScript æ•°æ®ç±»å‹</title>
    <url>/FE/TS/data-type/</url>
    <content><![CDATA[<h2 id="åŸºç¡€æ•°æ®ç±»å‹"><a href="#åŸºç¡€æ•°æ®ç±»å‹" class="headerlink" title="åŸºç¡€æ•°æ®ç±»å‹"></a>åŸºç¡€æ•°æ®ç±»å‹</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * boolean</span></span><br><span class="line"><span class="comment"> * ç”¨æ„é€ å‡½æ•°Booleanåˆ›é€ çš„æ˜¯å¯¹è±¡ä¸æ˜¯å¸ƒå°”å€¼</span></span><br><span class="line"><span class="comment"> * ç›´æ¥ä½¿ç”¨Booleanå¯ä»¥è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> isShow: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">let</span> isOk: <span class="built_in">boolean</span> = <span class="built_in">Boolean</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="comment">// let isTrue: boolean = new Boolean(false) é”™è¯¯å†™æ³• ç­‰å·å³è¾¹æ˜¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * number</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> age: <span class="built_in">number</span> = <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * string</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> username: <span class="built_in">string</span> = <span class="string">&#x27;chou&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * array</span></span><br><span class="line"><span class="comment"> * åœ¨ç±»å‹åé¢ç›´æ¥è·Ÿä¸Š[]</span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨æ•°ç»„æ³›å‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> list1: <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> list2: <span class="built_in">Array</span>&lt;<span class="built_in">number</span>&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * tuple</span></span><br><span class="line"><span class="comment"> * å…ƒç»„ç±»å‹å…è®¸æˆ‘ä»¬è¡¨ç¤ºä¸€ä¸ªå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ï¼Œå„å…ƒç´ çš„ç±»å‹ä¸å¿…ç›¸åŒ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> person: [<span class="built_in">string</span>, <span class="built_in">number</span>] = [<span class="string">&#x27;chou&#x27;</span>, <span class="number">18</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * null &amp;&amp; undefined</span></span><br><span class="line"><span class="comment"> * é»˜è®¤æƒ…å†µä¸‹ undefined å’Œ null æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±» å¯ä»¥ç»™å…¶ä»–ç±»å‹èµ‹å€¼</span></span><br><span class="line"><span class="comment"> * åœ¨tsconfig.jsonä¸­é…ç½®strictå å®ƒä»¬å°±åªèƒ½èµ‹å€¼ç»™voidå’Œå®ƒä»¬è‡ªå·±</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> u: <span class="literal">undefined</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">let</span> n: <span class="literal">null</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="comment">// let myString: string = undefined</span></span><br><span class="line"><span class="comment">// let myNumber: number = undefined</span></span><br><span class="line"><span class="keyword">let</span> myVoid: <span class="built_in">void</span> = <span class="literal">undefined</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * enum</span></span><br><span class="line"><span class="comment"> * é»˜è®¤æƒ…å†µä¸‹ ä»0å¼€å§‹ä¸ºå…ƒç´ ç¼–å·</span></span><br><span class="line"><span class="comment"> * æ‰‹åŠ¨ç¼–å·å åé¢çš„å…ƒç´ ä»æ‰‹åŠ¨ç¼–å·çš„é‚£ä¸ªå€¼å¼€å§‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">enum</span> myColor &#123;</span><br><span class="line">  Red,</span><br><span class="line">  Green = <span class="number">2</span>,</span><br><span class="line">  Blue,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> color: myColor = myColor.Blue;</span><br><span class="line"><span class="built_in">console</span>.log(color); <span class="comment">// 3 å› ä¸ºæˆ‘ä»¬æ‰‹åŠ¨ç»™myColorç¼–å·äº† Blueä¸º3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸¸é‡æšä¸¾ åœ¨ç¼–è¯‘åä¸ä¼šæœ‰ä»»ä½•å†…å®¹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">enum</span> mouth &#123;</span><br><span class="line">  Jan = <span class="number">1</span>,</span><br><span class="line">  Feb,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡å°‘é­”æ³•æ•°å­—</span></span><br><span class="line"><span class="built_in">enum</span> STATUS &#123;</span><br><span class="line">  READY = <span class="number">0</span>,</span><br><span class="line">  OK = <span class="number">1</span>,</span><br><span class="line">  FAILED = -<span class="number">1</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">type</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">type</span> === STATUS.READY) &#123;</span><br><span class="line">  <span class="comment">// TODO</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">type</span> === STATUS.OK) &#123;</span><br><span class="line">  <span class="comment">// TODO</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">type</span> === STATUS.FAILED) &#123;</span><br><span class="line">  <span class="comment">// TODO</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * any</span></span><br><span class="line"><span class="comment"> * å¯ä»¥å£°æ˜é‚£äº›åœ¨ç¼–ç¨‹é˜¶æ®µè¿˜ä¸ç¡®å®šçš„å˜é‡ç±»å‹</span></span><br><span class="line"><span class="comment"> * å¯ä»¥è°ƒç”¨ä»»æ„æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * å¯ä»¥è®¿é—®ä»»æ„å±æ€§</span></span><br><span class="line"><span class="comment"> * å˜é‡åœ¨å£°æ˜çš„æ—¶å€™ æœªæŒ‡å®šå…¶ç±»å‹ é‚£ä¹ˆå®ƒä¼šè¢«è¯†åˆ«ä¸ºä»»æ„å€¼ç±»å‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> notSure: <span class="built_in">any</span> = <span class="number">4</span>;</span><br><span class="line">notSure = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> password;</span><br><span class="line"><span class="comment">// ç­‰ä»·äº</span></span><br><span class="line"><span class="comment">// let password:any</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * void</span></span><br><span class="line"><span class="comment"> * å½“ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ é€šå¸¸ä¼šä¸ºå…¶å£°æ˜è¿”å›å€¼ä¸ºvoid</span></span><br><span class="line"><span class="comment"> * åªèƒ½ä¸ºvoidç±»å‹çš„å˜é‡ èµ‹äºˆundefinedå’Œnull</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showName</span>(<span class="params"></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">  alert(<span class="string">&#x27;chou&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * never</span></span><br><span class="line"><span class="comment"> * ä¸€èˆ¬æ˜¯é‚£äº›æŠ›å‡ºå¼‚å¸¸çš„å‡½æ•°</span></span><br><span class="line"><span class="comment"> * neveræ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»</span></span><br><span class="line"><span class="comment"> * neverç±»å‹æ²¡æœ‰å­ç±» å³ä½¿æ˜¯anyç±»å‹ ä¹Ÿä¸èƒ½ç»™neverèµ‹å€¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myError</span>(<span class="params">message: <span class="built_in">string</span></span>): <span class="title">never</span> </span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * object</span></span><br><span class="line"><span class="comment"> * é™¤numberï¼Œstringï¼Œbooleanï¼Œsymbolï¼Œnullæˆ–undefinedä¹‹å¤–çš„ç±»å‹</span></span><br><span class="line"><span class="comment"> * åœ¨tsconfig.jsonä¸­ æœªå¼€å¯strictæ—¶ å¯ä»¥å°†nullèµ‹äºˆobjectç±»å‹çš„å˜é‡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> myObject: <span class="built_in">object</span>;</span><br><span class="line"></span><br><span class="line">myObject = &#123; <span class="attr">name</span>: <span class="string">&#x27;chou&#x27;</span> &#125;;</span><br><span class="line"><span class="comment">// myObject = null</span></span><br></pre></td></tr></table></figure>

<h2 id="è”åˆç±»å‹"><a href="#è”åˆç±»å‹" class="headerlink" title="è”åˆç±»å‹"></a>è”åˆç±»å‹</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è”åˆç±»å‹</span></span><br><span class="line"><span class="comment"> * ç”¨ | éš”å¼€æ¯ä¸€ä¸ªç±»å‹</span></span><br><span class="line"><span class="comment"> * å½“è®¿é—®å±æ€§æˆ–è°ƒç”¨æ–¹æ³•æ—¶ tsä¸ç¡®å®šè¯¥å˜é‡æœ€åä»€ä¹ˆç±»å‹ æ‰€ä»¥åªèƒ½æ˜¯å…¬å…±çš„ç±»å‹æˆ–æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * è”åˆç±»å‹çš„å˜é‡åœ¨è¢«èµ‹å€¼çš„æ—¶å€™ï¼Œä¼šæ ¹æ®ç±»å‹æ¨è®ºçš„è§„åˆ™æ¨æ–­å‡ºä¸€ä¸ªç±»å‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showNumber</span>(<span class="params">myNumber: <span class="built_in">string</span> | <span class="built_in">number</span></span>): <span class="title">string</span> | <span class="title">number</span> </span>&#123;</span><br><span class="line">  <span class="comment">// myNumber.toFixed(3); é”™è¯¯</span></span><br><span class="line">  <span class="keyword">return</span> myNumber.toString(); <span class="comment">// åªèƒ½ä½¿ç”¨stringå’Œnumberå…±æœ‰çš„ç±»å‹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äº¤å‰ç±»å‹"><a href="#äº¤å‰ç±»å‹" class="headerlink" title="äº¤å‰ç±»å‹"></a>äº¤å‰ç±»å‹</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> Props1 &#123;</span><br><span class="line">  className: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Props2 &#123;</span><br><span class="line">  onClick: <span class="function">() =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &amp;äº¤å‰ç±»å‹ å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªç±»å‹ï¼Œæ–°çš„ç±»å‹å°†å…·æœ‰æ‰€æœ‰ç±»å‹çš„ç‰¹æ€§</span></span><br><span class="line"><span class="keyword">const</span> props: Props1 &amp; Props2 = &#123;</span><br><span class="line">  onClick: <span class="function">() =&gt;</span> &#123;&#125;,</span><br><span class="line">  className: <span class="string">&#x27;luckyship-btn&#x27;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="ç±»å‹æ–­è¨€"><a href="#ç±»å‹æ–­è¨€" class="headerlink" title="ç±»å‹æ–­è¨€"></a>ç±»å‹æ–­è¨€</h2><figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  ç±»å‹æ–­è¨€</span></span><br><span class="line"><span class="comment"> *  ç±»å‹æ–­è¨€å¥½æ¯”å…¶ä»–è¯­è¨€ä¸­çš„ç±»å‹è½¬æ¢</span></span><br><span class="line"><span class="comment"> *  å®ƒç”¨åœ¨å¼€å‘è€…æ˜ç¡®çŸ¥é“ç±»å‹çš„æ—¶å€™</span></span><br><span class="line"><span class="comment"> *  æ–¹æ³•ä¸€: &lt;&gt;</span></span><br><span class="line"><span class="comment"> *  æ–¹æ³•äºŒ: as</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getType = <span class="function"><span class="keyword">function</span> (<span class="params">val: <span class="built_in">string</span> | <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> val === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> val.length;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (val <span class="keyword">as</span> <span class="built_in">number</span>).toFixed(<span class="number">2</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>TypeScript</category>
      </categories>
      <tags>
        <tag>TypeScript</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue ç»„ä»¶ä¼ å€¼</title>
    <url>/FE/Vue/Vue%20%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%80%BC/</url>
    <content><![CDATA[<h2 id="çˆ¶ä¼ å­"><a href="#çˆ¶ä¼ å­" class="headerlink" title="çˆ¶ä¼ å­"></a>çˆ¶ä¼ å­</h2><ul>
<li><p>çˆ¶ç»„ä»¶é€šè¿‡Propå‘å­ç»„ä»¶ä¼ é€’æ•°æ®</p>
</li>
<li><p>å­ç»„ä»¶åœ¨propsä¸­å®šä¹‰è¦æ¥æ”¶çš„å€¼</p>
</li>
</ul>
<a id="more"></a>

<p>å­ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h3&gt;è¿™æ˜¯å­ç»„ä»¶&lt;&#x2F;h3&gt;</span><br><span class="line">    &lt;ul v-for&#x3D;&quot;item in number&quot; :key&#x3D;&quot;item&quot;&gt;</span><br><span class="line">      &lt;li&gt;</span><br><span class="line">        &#123;&#123;item&#125;&#125;</span><br><span class="line">      &lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    number: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      required: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>çˆ¶ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;è¿™æ˜¯çˆ¶ç»„ä»¶&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;hr &#x2F;&gt;</span><br><span class="line">    &lt;Children :number&#x3D;&quot;number&quot; &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Children from &#39;@&#x2F;components&#x2F;Children&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    Children</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &#39;chou&#39;,</span><br><span class="line">      number: [1, 2, 3]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Prop-éªŒè¯"><a href="#Prop-éªŒè¯" class="headerlink" title="Prop éªŒè¯"></a>Prop éªŒè¯</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Vue.component(&quot;example&quot;, &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    &#x2F;&#x2F; åŸºç¡€ç±»å‹æ£€æµ‹ (&#96;null&#96; æŒ‡å…è®¸ä»»ä½•ç±»å‹)</span><br><span class="line">    propA: Number,</span><br><span class="line">    &#x2F;&#x2F; å¯èƒ½æ˜¯å¤šç§ç±»å‹</span><br><span class="line">    propB: [String, Number],</span><br><span class="line">    &#x2F;&#x2F; å¿…ä¼ ä¸”æ˜¯å­—ç¬¦ä¸²</span><br><span class="line">    propC: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      required: true</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; æ•°å€¼ä¸”æœ‰é»˜è®¤å€¼</span><br><span class="line">    propD: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      default: 100</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; æ•°ç»„&#x2F;å¯¹è±¡çš„é»˜è®¤å€¼åº”å½“ç”±ä¸€ä¸ªå·¥å‚å‡½æ•°è¿”å›</span><br><span class="line">    propE: &#123;</span><br><span class="line">      type: Object,</span><br><span class="line">      default: function() &#123;</span><br><span class="line">        return &#123; message: &quot;hello&quot; &#125;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; è‡ªå®šä¹‰éªŒè¯å‡½æ•°</span><br><span class="line">    propF: &#123;</span><br><span class="line">      validator: function(value) &#123;</span><br><span class="line">        return value &gt; 10;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="å­ä¼ çˆ¶"><a href="#å­ä¼ çˆ¶" class="headerlink" title="å­ä¼ çˆ¶"></a>å­ä¼ çˆ¶</h2><ul>
<li><p>å­ç»„ä»¶é€šè¿‡this.$emitè‡ªå®šä¹‰äº‹ä»¶</p>
</li>
<li><p>çˆ¶ç»„ä»¶ç»‘å®šè¯¥è‡ªå®šä¹‰äº‹ä»¶</p>
</li>
</ul>
<p>çˆ¶ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Children @showItem&#x3D;&quot;showItem&quot;&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Children from &quot;@&#x2F;components&#x2F;Children&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;Children&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    showItem(item) &#123;</span><br><span class="line">      console.log(item);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>å­ç»„ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div v-for&#x3D;&quot;item in list&quot; :key&#x3D;&quot;item&quot;&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;showItem(item)&quot;&gt;&#123;&#123; item &#125;&#125;&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;children&#39;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      list: [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    showItem(item) &#123;</span><br><span class="line">      &#x2F;&#x2F; console.log(item)</span><br><span class="line">      this.$emit(&#39;showItem&#39;,item)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="å…„å¼Ÿä¹‹é—´"><a href="#å…„å¼Ÿä¹‹é—´" class="headerlink" title="å…„å¼Ÿä¹‹é—´"></a>å…„å¼Ÿä¹‹é—´</h2><p>EventBus</p>
<p>TODO</p>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript æ‰‹å†™bind call apply</title>
    <url>/FE/JS/bind-call-apply/</url>
    <content><![CDATA[<h2 id="æ‰‹å†™call"><a href="#æ‰‹å†™call" class="headerlink" title="æ‰‹å†™call"></a>æ‰‹å†™call</h2><h3 id="åŸç”Ÿcall"><a href="#åŸç”Ÿcall" class="headerlink" title="åŸç”Ÿcall"></a>åŸç”Ÿcall</h3><p>æˆ‘ä»¬é¦–å…ˆæ¥çœ‹çœ‹callæ–¹æ³•å®ç°äº†ä»€ä¹ˆ</p>
<a id="more"></a>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">  name: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sayName.call(foo) <span class="comment">// chou</span></span><br></pre></td></tr></table></figure>

<p>ä¸éš¾çœ‹å‡º</p>
<ul>
<li><p>callæ”¹å˜äº†thisçš„æŒ‡å‘ï¼ŒæŒ‡å‘åˆ°fooå¯¹è±¡</p>
</li>
<li><p>sayNameæ–¹æ³•æ‰§è¡Œäº†</p>
</li>
</ul>
<h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">  name: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">------------------------</span><br><span class="line"><span class="comment">// æ”¹é€ fooå¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">  name: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">  <span class="function"><span class="title">sayName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo.sayName() <span class="comment">// chou</span></span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥ å¦‚æœæˆ‘ä»¬</p>
<ul>
<li><p>å°†å‡½æ•°è®¾ç½®ä¸ºå¯¹è±¡çš„å±æ€§</p>
</li>
<li><p>æ‰§è¡Œè¯¥å‡½æ•°</p>
</li>
<li><p>åˆ é™¤è¯¥å‡½æ•°</p>
</li>
</ul>
<p>å¥½å•¦ åŠ¨æ‰‹å®ç°å§</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype._call = <span class="function"><span class="keyword">function</span> (<span class="params">context</span>) </span>&#123;</span><br><span class="line">  context.fn = <span class="built_in">this</span></span><br><span class="line">  context.fn()</span><br><span class="line">  <span class="keyword">delete</span> context.fn</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯callçš„ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ¥æ”¶ä¸€ä¸ªå˜é‡ </p>
<p>åŒæ—¶ å¦‚æœä¸ä¼ é€’å‚æ•° é»˜è®¤ä¼šç»‘å®šwindow</p>
<p>å¥½å•¦ æˆ‘ä»¬ç»§ç»­æ¨¡æ‹Ÿ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype._call = <span class="function"><span class="keyword">function</span> (<span class="params">context</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> args = []</span><br><span class="line">  <span class="comment">// ä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹ å› ä¸ºç¬¬ä¸€ä¸ªå­˜æ”¾çš„æ˜¯æˆ‘ä»¬çš„å‡½æ•°</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; <span class="built_in">arguments</span>.length; i++) &#123;</span><br><span class="line">    args.push(<span class="built_in">arguments</span>[i])</span><br><span class="line">  &#125;</span><br><span class="line">  context = context || <span class="built_in">window</span></span><br><span class="line">  context.fn = <span class="built_in">this</span></span><br><span class="line">  context.fn(...args)</span><br><span class="line">  <span class="keyword">delete</span> context.fn</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="æ‰‹å†™apply"><a href="#æ‰‹å†™apply" class="headerlink" title="æ‰‹å†™apply"></a>æ‰‹å†™apply</h2><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>applyå’Œcallçš„åŒºåˆ«åœ¨äº apply çš„å‚æ•°æ¥æ”¶ä¸€ä¸ªæ•°ç»„å‚æ•° è€Œ call åˆ™æ˜¯å‚æ•°åˆ—è¡¨</p>
<p>æˆ‘ä»¬å¯ä»¥å–argumentçš„ç¬¬ä¸€ä¸ªå…ƒç´  å› ä¸ºå¦‚æœæ­£ç¡®çš„ä¼ é€’ åˆ™argumentçš„ç¬¬ä¸€ä¸ªå…ƒç´ åº”è¯¥æ˜¯æˆ‘ä»¬æƒ³è¦çš„ é‚£ä¸ªä½œä¸ºå‚æ•°çš„æ•°ç»„</p>
<p>æˆ‘ä»¬å¯ä»¥å¯¹è¿™ä¸ªå€¼è¿›è¡Œæ ¡éªŒ </p>
<ul>
<li><p>å¦‚æœä¸æ˜¯æ•°ç»„ åˆ™æŠ›å‡ºå¼‚å¸¸</p>
</li>
<li><p>å¦‚æœä¸ä¼  åˆ™é»˜è®¤åªè°ƒç”¨è¯¥æ–¹æ³•</p>
</li>
<li><p>å¦‚æœæ˜¯æ•°ç»„ åˆ™æŒ‰æ­£ç¡®çš„å¤„ç†</p>
</li>
</ul>
<h3 id="å®ç°-1"><a href="#å®ç°-1" class="headerlink" title="å®ç°"></a>å®ç°</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype._apply = <span class="function"><span class="keyword">function</span> (<span class="params">context</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> args = <span class="built_in">arguments</span>[<span class="number">1</span>]</span><br><span class="line">  context = context || <span class="built_in">window</span></span><br><span class="line">  context.fn = <span class="built_in">this</span></span><br><span class="line">  <span class="keyword">if</span> (!args) &#123;</span><br><span class="line">    context.fn()</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (args <span class="keyword">instanceof</span> <span class="built_in">Array</span>) &#123;</span><br><span class="line">      context.fn(...args)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;CreateListFromArrayLike called on non-object&#x27;</span>)</span><br><span class="line">      &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(e)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">delete</span> context.fn</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ‰‹å†™bind"><a href="#æ‰‹å†™bind" class="headerlink" title="æ‰‹å†™bind"></a>æ‰‹å†™bind</h2><h3 id="ç¬¬ä¸€ç‰ˆ"><a href="#ç¬¬ä¸€ç‰ˆ" class="headerlink" title="ç¬¬ä¸€ç‰ˆ"></a>ç¬¬ä¸€ç‰ˆ</h3><p>æˆ‘ä»¬å€Ÿç”¨ apply æˆ– call è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°å³å¯</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype._bind = <span class="function"><span class="keyword">function</span> (<span class="params">context</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> self = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> self.apply(context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬äºŒç‰ˆ"><a href="#ç¬¬äºŒç‰ˆ" class="headerlink" title="ç¬¬äºŒç‰ˆ"></a>ç¬¬äºŒç‰ˆ</h3><p>æˆ‘ä»¬æ¨¡æ‹Ÿbindè°ƒç”¨ä¸­å¯ä»¥ä¼ é€’å‚æ•°çš„å½¢å¼</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype._bind = <span class="function"><span class="keyword">function</span> (<span class="params">context</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> self = <span class="built_in">this</span>;</span><br><span class="line">    <span class="comment">// è·å–ç¬¬äºŒä¸ªå‚æ•°åˆ°æœ€åä¸€ä¸ªå‚æ•° ç¬¬ä¸€ä¸ªä¸ºå‡½æ•° æˆ‘ä»¬éœ€è¦ä¼ å…¥çš„å˜é‡</span></span><br><span class="line">    <span class="keyword">var</span> args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// è¿™ä¸ªæ—¶å€™çš„argumentsæ˜¯æŒ‡bindè¿”å›çš„å‡½æ•°ä¼ å…¥çš„å‚æ•°</span></span><br><span class="line">        <span class="keyword">var</span> bindArgs = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">        <span class="comment">// ç”¨concatåˆå¹¶ä¸¤æ¬¡çš„å‚æ•°</span></span><br><span class="line">        <span class="keyword">return</span> self.apply(context, args.concat(bindArgs));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬ä¸‰ç‰ˆ"><a href="#ç¬¬ä¸‰ç‰ˆ" class="headerlink" title="ç¬¬ä¸‰ç‰ˆ"></a>ç¬¬ä¸‰ç‰ˆ</h3><p>bindç»‘å®šçš„å‡½æ•° è¿˜èƒ½ç”¨ new å…³é”®å­— æ¥åˆ›å»ºå¯¹è±¡</p>
<p>TODO æ­¤éƒ¨åˆ†æ¢ç´¢ä¸­</p>
]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript [] ==! []</title>
    <url>/FE/JS/JS%20%E7%B1%BB%E5%9E%8B%E6%AF%94%E8%BE%83/</url>
    <content><![CDATA[<p>é¦–å…ˆï¼Œ== çš„å®šä¹‰æ˜¯ï¼š</p>
<br />

<img src="https://pic1.zhimg.com/cf1e9188f66186ecd77fb31ac0c5400f_r.jpg?source=1940ef5c" />

<br />

<a id="more"></a>

<p>GetValue ä¼šè·å–ä¸€ä¸ªå­è¡¨è¾¾å¼çš„å€¼ï¼ˆæ¶ˆé™¤æ‰å·¦å€¼å¼•ç”¨ï¼‰ï¼Œåœ¨è¡¨è¾¾å¼ [] == ![] ä¸­ï¼Œ[] çš„ç»“æœå°±æ˜¯ä¸€ä¸ªç©ºæ•°ç»„çš„å¼•ç”¨ï¼Œè€Œ ![] å°±æœ‰æ„æ€äº†ï¼Œå®ƒä¼šæŒ‰ç…§ 11.4.9 å’Œ 9.2 èŠ‚çš„è¦æ±‚å¾—åˆ° falseã€‚æ¯”è¾ƒçš„è¡Œä¸ºåœ¨ 11.9.3 èŠ‚é‡Œï¼Œæ‰€ä»¥ç¿»åˆ° 11.9.3ï¼š</p>
<br />

<img src="https://pic4.zhimg.com/2d0d90f2d9549f5f13ad53be3f75ace8_r.jpg?source=1940ef5c" />

<br />

<p>åœ¨è¿™æ®µç®—æ³•é‡Œï¼Œå’Œã€Œ[] == ![]ã€åŒ¹é…çš„æ˜¯æ¡ä»¶ 7ï¼Œæ‰€ä»¥ä¼šé€’å½’åœ°è°ƒç”¨ã€Œ[] == ToNumber(false)ã€è¿›è¡Œæ¯”è¾ƒã€‚</p>
<p>åœ¨ 9.3 èŠ‚ä¸­å®šä¹‰äº† ToNumber åŸè¯­ï¼ŒToNumber(false) ç­‰äº 0ï¼Œäºæ˜¯æ¯”è¾ƒå˜ä¸ºã€Œ[] == 0ã€ã€‚</p>
<p>åœ¨æ­¤å¤„å› ä¸º [] æ˜¯å¯¹è±¡ï¼Œæ¯”è¾ƒè¿‡ç¨‹èµ°åˆ†æ”¯ 9ï¼Œä¾ã€ŒToPrimitive([]) == 0ã€æ¯”è¾ƒã€‚</p>
<p>ToPrimitive é»˜è®¤æ˜¯è°ƒç”¨ toString æ–¹æ³•çš„ï¼ˆä¾ 8.2.8ï¼‰ï¼Œäºæ˜¯ ToPrimitice([]) ç­‰äºç©ºå­—ç¬¦ä¸²ã€‚</p>
<p>ç»“æœï¼Œ[] == ![] çš„æ¯”è¾ƒæœ€åè½åˆ°äº† â€˜â€™==false ä¸Šï¼Œ</p>
<p>æŒ‰ç…§ 11.9.3 ä¸­çš„å®šä¹‰ä¼šä¾åˆ†æ”¯ 5 æ¯”è¾ƒ ã€ŒToNumber(â€˜â€™)==0ã€ï¼ŒToNumber(â€˜â€™) ä¾ 9.3.1 ç­‰äº 0ï¼Œæ‰€ä»¥ç»“æœä¸º trueã€‚</p>
]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript å‡½æ•°èŠ‚æµ é˜²æŠ–</title>
    <url>/FE/JS/debounce-throttle/</url>
    <content><![CDATA[<h2 id="å‡½æ•°é˜²æŠ–"><a href="#å‡½æ•°é˜²æŠ–" class="headerlink" title="å‡½æ•°é˜²æŠ–"></a>å‡½æ•°é˜²æŠ–</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">    å‡½æ•°é˜²æŠ–ï¼šä¸€ä¸ªé¢‘ç¹è§¦å‘çš„å‡½æ•°ï¼Œåœ¨è§„å®šæ—¶é—´å†…ï¼Œåªè®©å‡½æ•°æœ€åä¸€æ¬¡è§¦å‘ ä¾‹å¦‚ï¼š</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    - ç”¨æˆ·è¾“å…¥æœç´¢æ¡† é¿å…æ¯æ¬¡æ•²å‡»é”®ç›˜éƒ½å‘é€è¯·æ±‚</span></span><br><span class="line"><span class="comment">    - ç™»å½•ã€å‘çŸ­ä¿¡ç­‰æŒ‰é’®é¿å…ç”¨æˆ·ç‚¹å‡»å¤ªå¿«ï¼Œä»¥è‡´äºå‘é€äº†å¤šæ¬¡è¯·æ±‚</span></span><br><span class="line"><span class="comment">    - è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°æ—¶ï¼Œresize æ¬¡æ•°è¿‡äºé¢‘ç¹</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    æ€è·¯ï¼šå…³é”®åœ¨äºæ¸…é›¶ ä¾‹å¦‚ç™»å½•æŒ‰é’®ç‚¹å‡»ä¸€ç§’åå‘é€ç™»å½•è¯·æ±‚ æˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ æ¯æ¬¡ç”¨æˆ·ç‚¹å‡»çš„æ—¶å€™éƒ½æ¸…é™¤è¿™ä¸ªå®šæ—¶å™¨ è®©å®šæ—¶å™¨é‡ç½®</span></span><br><span class="line"><span class="comment">         è¿™æ ·å°±ä¿è¯äº†è¿™ä¸€ç§’å†…ä¸ä¼šå› ä¸ºç”¨æˆ·éƒ½é¢‘ç¹ç‚¹å‡»è€Œä¸€ç›´å‘é€è¯·æ±‚ ä»£ç å¦‚ä¸‹</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é˜²æŠ–å‡½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>fn  è¦æ‰§è¡Œçš„å‡½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>delay å»¶è¿Ÿçš„æ—¶é—´</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      fn.call(<span class="built_in">this</span>);</span><br><span class="line">    &#125;, delay);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‡½æ•°èŠ‚æµ"><a href="#å‡½æ•°èŠ‚æµ" class="headerlink" title="å‡½æ•°èŠ‚æµ"></a>å‡½æ•°èŠ‚æµ</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">    å‡½æ•°èŠ‚æµï¼šä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¸€æ¬¡åï¼Œåªæœ‰å¤§äºè®¾å®šçš„æ‰§è¡Œå‘¨æœŸæ‰ä¼šæ‰§è¡Œç¬¬äºŒæ¬¡</span></span><br><span class="line"><span class="comment">    é€‚ç”¨åœºæ™¯ï¼šæœ‰ä¸€ä¸ªé¢‘ç¹è§¦å‘çš„å‡½æ•°ï¼Œåœ¨è§„å®šæ—¶é—´å†…ï¼Œåªè®©å‡½æ•°è§¦å‘ä¸€æ¬¡ ä¼˜åŒ–æ€§èƒ½ ä¾‹å¦‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    - scrollæ—¶é—´ æ¯éš”1sé‡æ–°è®¡ç®—ä½ç½® è€Œä¸æ˜¯ä¸€ç›´è®¡ç®—</span></span><br><span class="line"><span class="comment">    - æµè§ˆå™¨æ’­æ”¾æ—¶é—´ æ¯éš”1sé‡æ–°è®¡ç®—ä¸€æ¬¡æ’­æ”¾è¿›åº¦</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    æ€è·¯ï¼šéœ€è¦ä¸¤ä¸ªæ—¶é—´ lastTime å’Œ nowTime æ¥è®¡ç®—æ—¶é—´å·® ç”±æ­¤æ¥åˆ¤æ–­æ˜¯å¦æ‰§è¡Œäº‹ä»¶</span></span><br><span class="line"><span class="comment">         å…ˆå°†lastTimeåˆå§‹åŒ–ä¸º0 ç„¶åè·å–ç³»ç»Ÿæ—¶é—´ åšå·®åˆ¤æ–­æ˜¯å¦å¤§äºdelay å¦‚æœå¤§äºåˆ™æ‰§è¡Œäº‹ä»¶å¹¶å°†nowTimeèµ‹äºˆlastTime ç”±æ­¤å®ŒæˆèŠ‚æµ</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * èŠ‚æµå‡½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>fn  è¦æ‰§è¡Œçš„å‡½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>delay å»¶è¿Ÿçš„æ—¶é—´</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> lastTime = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> nowTime = <span class="built_in">Date</span>.now();</span><br><span class="line">    <span class="keyword">if</span> (nowTime - lastTime &gt; delay) &#123;</span><br><span class="line">      fn.call(<span class="built_in">this</span>);</span><br><span class="line">      lastTime = nowTime;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>JS</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript é—­åŒ…</title>
    <url>/FE/JS/closure/</url>
    <content><![CDATA[<h2 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h2><ul>
<li><p>é—­åŒ…çš„å½¢æˆæ¡ä»¶</p>
<ul>
<li><p>å‡½æ•°åµŒå¥—</p>
</li>
<li><p>å†…éƒ¨å‡½æ•°å¼•ç”¨å¤–éƒ¨å‡½æ•°çš„å±€éƒ¨å˜é‡</p>
</li>
</ul>
</li>
<li><p>é—­åŒ…çš„ç¼ºç‚¹</p>
<ul>
<li> å®¹æ˜“é€ æˆå†…å­˜æ³„æ¼ ï¼ˆç°ä»£æµè§ˆå™¨æ€§èƒ½ï¼Ÿï¼Ÿï¼Ÿï¼‰</li>
</ul>
</li>
<li><p>é—­åŒ…çš„ä¼˜ç‚¹</p>
<ul>
<li>å»¶é•¿å¤–éƒ¨å‡½æ•°å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</li>
</ul>
</li>
<li><p>ä»€ä¹ˆæ˜¯é—­åŒ…</p>
<ul>
<li><p>å¯†é—­çš„å®¹å™¨ å­˜å‚¨æ•°æ®</p>
</li>
<li><p>é—­åŒ…æ˜¯ä¸€ä¸ªå¯¹è±¡ é”®å€¼å¯¹</p>
</li>
</ul>
</li>
</ul>
<a id="more"></a>


<h3 id="case1"><a href="#case1" class="headerlink" title="case1"></a>case1</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">inner</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(a);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> inner;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo()();<span class="comment">//123</span></span><br></pre></td></tr></table></figure>

<p>åˆä¸Šè¿°ä»£ç å¯çŸ¥</p>
<p>é—­åŒ…å»¶é•¿äº†å˜é‡açš„ç”Ÿå‘½å‘¨æœŸ è®©å¤–éƒ¨ä½œç”¨åŸŸæœ‰èƒ½åŠ›è·å–åˆ°å‡½æ•°å†…éƒ¨çš„å˜é‡</p>
<p>é—­åŒ…å°±æ˜¯å°†å‡½æ•°å†…éƒ¨å’Œå‡½æ•°å¤–éƒ¨è¿æ¥èµ·æ¥çš„ä¸€åº§æ¡¥æ¢</p>
<h3 id="case2"><a href="#case2" class="headerlink" title="case2"></a>case2</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">var</span> i = <span class="number">1</span> ;i &lt;=<span class="number">5</span> ;i++</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(i);</span><br><span class="line">	&#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ä»£ç æƒ³å®ç° æ¯ç§’è¾“å‡ºä¸€ä¸ªæ•°å­— ä»1 - 5</p>
<p>ä½†æ˜¯äº‹å®ä¸Šæ¯ç§’è¾“å‡ºä¸€ä¸ª6</p>
<p>å› ä¸ºsetTimeoutæ˜¯å¼‚æ­¥é˜Ÿåˆ— æ‰§è¡Œæ—¶ forå¾ªç¯é‡Œiçš„å€¼å·²ç»å˜æˆäº†å‡ºå¾ªç¯çš„å€¼</p>
<p>è§£å†³æ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">  (<span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;)(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å› ä¸ºå‡½æ•°æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ä½œç”¨åŸŸ å¯ä»¥è®°å½•æ¯ä¸€ä¸ªiçš„å€¼ æ‹¿åˆ°å±äºè‡ªå·±çš„a</p>
]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript æ·±æµ…æ‹·è´</title>
    <url>/FE/JS/deep-clone/</url>
    <content><![CDATA[<h2 id="concat-slice"><a href="#concat-slice" class="headerlink" title="concat / slice"></a>concat / slice</h2><p>ä½¿ç”¨ concat / slice å¯ä»¥å®ç°å¯¹ä¸€ä¸ªæ•°ç»„çš„æµ…æ‹·è´</p>
<p>ä½†æ˜¯ç¬¬ä¸€å±‚ä¸ºæ·±æ‹·è´ å¦‚ä½•ç†è§£å‘¢</p>
<p>æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªæ•°ç»„</p>
<ul>
<li><p>arr1 åªæœ‰ä¸€å±‚çš„æ•°ç»„</p>
</li>
<li><p>arr2 æœ‰ä¸¤å±‚çš„æ•°ç»„</p>
</li>
</ul>
<p>ç„¶åæˆ‘ä»¬ç”¨ concat() æˆ– slice() åˆ†åˆ«æ‹·è´ä¸¤ä»½æ•°ç»„</p>
<p>ç„¶åæˆ‘ä»¬æ¥ä¿®æ”¹æ‹·è´åçš„æ•°ç»„</p>
<p>é€šè¿‡åŸæ•°ç»„æ˜¯å¦ä¼šè¢«å½±å“ æ¥éªŒè¯æ˜¯å¦ä¸ºæ·±æ‹·è´</p>
<a id="more"></a>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> copyArr1 = arr1.concat();</span><br><span class="line"><span class="keyword">var</span> copyArr2 = arr2.concat();</span><br><span class="line"></span><br><span class="line">copyArr1.push(<span class="number">10</span>);</span><br><span class="line">copyArr2[<span class="number">3</span>].push(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr1); <span class="comment">// [1, 2, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr2); <span class="comment">// [ 1, 2, 4, [ 5, 6, 7, 8, 9, 10 ] ]</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡æœ€ç»ˆçš„è¾“å‡º æ˜¾ç„¶æ˜“è§ è¿™ä¸¤ä¸ªæ–¹æ³•åªèƒ½å¯¹ç¬¬ä¸€å±‚è¿›è¡Œæ·±æ‹·è´</p>
<h2 id="Object-assign-target-sourceâ€¦â€¦"><a href="#Object-assign-target-sourceâ€¦â€¦" class="headerlink" title="Object.assign(target, sourceâ€¦â€¦)"></a>Object.assign(target, sourceâ€¦â€¦)</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  hobby: &#123;</span><br><span class="line">    color: <span class="string">&#x27;blue&#x27;</span>,</span><br><span class="line">    game: <span class="string">&#x27;basketball&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> copyObj = <span class="built_in">Object</span>.assign(&#123;&#125;, obj);</span><br><span class="line"></span><br><span class="line">copyObj.name = <span class="string">&#x27;LuckyChou&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> copyObj.hobby.color;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj); <span class="comment">// &#123; name: &#x27;chou&#x27;, age: 18, hobby: &#123; game: &#x27;basketball&#x27; &#125; &#125;</span></span><br></pre></td></tr></table></figure>

<p>åŒæ ·çš„ é€šè¿‡ç»“æœ æˆ‘ä»¬ä¸éš¾å‘ç° Object.assign() ä¹Ÿåªæ˜¯å®ç°äº†å¯¹è±¡ç¬¬ä¸€å±‚çš„æ·±æ‹·è´</p>
<p>ä¹Ÿå°±æ˜¯å¯¹å±æ€§çš„æ·±æ‹·è´ å¦‚æœå±æ€§å€¼æ˜¯å¼•ç”¨ç±»å‹çš„è¯ é‚£ä¹ˆè¿˜æ˜¯æ‹·è´äº†å®ƒçš„åœ°å€</p>
<h2 id="æ‰©å±•è¿ç®—ç¬¦â€¦"><a href="#æ‰©å±•è¿ç®—ç¬¦â€¦" class="headerlink" title="æ‰©å±•è¿ç®—ç¬¦â€¦"></a>æ‰©å±•è¿ç®—ç¬¦â€¦</h2><p>æ‰©å±•è¿ç®—ç¬¦ä¹Ÿèƒ½è¾¾åˆ°ç±»ä¼¼ä¸Šè¿°çš„æ•ˆæœ ä½†æ˜¯éƒ½æ˜¯æµ…æ‹·è´</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  name: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">  age: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">&#123;...obj&#125;</span><br><span class="line">[...arr]</span><br></pre></td></tr></table></figure>

<h2 id="JSON-parse-JSON-stringify-obj"><a href="#JSON-parse-JSON-stringify-obj" class="headerlink" title="JSON.parse(JSON.stringify(obj))"></a>JSON.parse(JSON.stringify(obj))</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  hobby: &#123;</span><br><span class="line">    color: <span class="string">&#x27;blue&#x27;</span>,</span><br><span class="line">    game: <span class="string">&#x27;basketball&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> copyObj = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj));</span><br><span class="line"></span><br><span class="line">copyObj.name = <span class="string">&#x27;LuckyChou&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> copyObj.hobby.color;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj); <span class="comment">// &#123; name: &#x27;chou&#x27;, age: 18, hobby: &#123; color: &#x27;blue&#x27;, game: &#x27;basketball&#x27; &#125; &#125;</span></span><br></pre></td></tr></table></figure>

<p>Wow! é€šè¿‡ç»“æœ æˆ‘ä»¬å‘ç°è¯¥æ–¹æ³•å±…ç„¶å®ç°äº†æ·±æ‹·è´ emmmmm é‚£ä¹ˆå®ƒæœ‰ç¼ºç‚¹å—</p>
<p>é€šè¿‡æŸ¥é˜…<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify">MDN</a> æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°è¿™æ ·ä¸€å¥è¯</p>
<blockquote>
<p>undefinedã€ä»»æ„çš„å‡½æ•°ä»¥åŠ symbol å€¼ï¼Œåœ¨åºåˆ—åŒ–è¿‡ç¨‹ä¸­ä¼šè¢«å¿½ç•¥</p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´å¯¹äº undefined å‡½æ•° symbol ç”¨è¿™ç§æ–¹æ³•å°†æ— èƒ½ä¸ºåŠ›</p>
<h2 id="DIY"><a href="#DIY" class="headerlink" title="DIY"></a>DIY</h2><p>æ—¢ç„¶æ²¡æœ‰å®Œç¾çš„æ–¹æ¡ˆå¯ä»¥å®ç°æ·±æ‹·è´ é‚£ä¹ˆæˆ‘ä»¬è‡ªå·±åŠ¨æ‰‹å®ç°ä¸€ä¸ªå§</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">isObject</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="keyword">typeof</span> o === <span class="string">&#x27;object&#x27;</span> || <span class="keyword">typeof</span> o === <span class="string">&#x27;function&#x27;</span>) &amp;&amp; o !== <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!isObject(obj)) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;éå¯¹è±¡&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> isArray = <span class="built_in">Array</span>.isArray(obj);</span><br><span class="line">  <span class="keyword">let</span> newObj = isArray ? [...obj] : &#123; ...obj &#125;;</span><br><span class="line">  <span class="built_in">Reflect</span>.ownKeys(newObj).forEach(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">    newObj[key] = isObject(obj[key]) ? deepClone(obj[key]) : obj[key];</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> newObj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”±äºæ·±æ‹·è´éœ€è¦è€ƒè™‘åˆ°å¤šç§åœºæ™¯ å®ç°èµ·æ¥ä¹Ÿå¾ˆå›°éš¾ å¦‚æœç”¨äºç”Ÿäº§ç¯å¢ƒ æ¨èä½¿ç”¨ lodash çš„_clone å‡½æ•°</p>
]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue Vuex</title>
    <url>/FE/Vue/Vuex/</url>
    <content><![CDATA[<h2 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h2><p>å€Ÿç”¨å®˜ç½‘çš„ä¸€æ®µè¯</p>
<ul>
<li><p>Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ã€‚</p>
<p>å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œè‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–°ã€‚</p>
</li>
<li><p>ä½ ä¸èƒ½ç›´æ¥æ”¹å˜ store ä¸­çš„çŠ¶æ€ã€‚æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤ (commit) mutationã€‚</p>
<p>è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ï¼Œä»è€Œè®©æˆ‘ä»¬èƒ½å¤Ÿå®ç°ä¸€äº›å·¥å…·å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°äº†è§£æˆ‘ä»¬çš„åº”ç”¨ã€‚</p>
</li>
</ul>
<a id="more"></a>

<h2 id="Vuex-å†…å®¹"><a href="#Vuex-å†…å®¹" class="headerlink" title="Vuex å†…å®¹"></a>Vuex å†…å®¹</h2><ul>
<li><p>state</p>
<ul>
<li>ç®¡ç†ç€å…¬å…±çš„å±æ€§</li>
</ul>
</li>
<li><p>action</p>
<ul>
<li><p>å¤„ç†å¼‚æ­¥äº‹ä»¶</p>
</li>
<li><p>ç»„ä»¶é€šè¿‡dispatchæäº¤äº‹ä»¶  äº‹ä»¶å†…éƒ¨å†ç”¨commitæäº¤åŒæ­¥äº‹ä»¶</p>
</li>
</ul>
</li>
<li><p>mutation</p>
<ul>
<li><p>å¤„ç†åŒæ­¥äº‹ä»¶</p>
</li>
<li><p>ç»„ä»¶é€šè¿‡commitæäº¤äº‹ä»¶</p>
</li>
</ul>
</li>
<li><p>getter</p>
<ul>
<li>å¯ä»¥å¤„ç†stateä¸­çš„æ•°æ®</li>
</ul>
</li>
<li><p>modules</p>
<ul>
<li>å¯ä»¥åˆ›å»ºå¤šä¸ªstate</li>
</ul>
</li>
</ul>
<h3 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      number : &#123;&#123; $store.state.number &#125;&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      reverseNumber : &#123;&#123; $store.getters.reverseNum &#125;&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;add&quot;&gt;+&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;sub(5)&quot;&gt;-&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;auto&quot;&gt;AUTO&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    add() &#123;</span><br><span class="line">      this.$store.commit(&#39;add&#39;)</span><br><span class="line">    &#125;,</span><br><span class="line">    sub(count) &#123;</span><br><span class="line">      this.$store.commit(&#39;sub&#39;,count)</span><br><span class="line">    &#125;,</span><br><span class="line">    auto() &#123;</span><br><span class="line">      this.$store.dispatch(&#39;auto&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    state: &#123;</span><br><span class="line">        number: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    mutations: &#123;</span><br><span class="line">        <span class="function"><span class="title">sub</span>(<span class="params">state, count</span>)</span> &#123;</span><br><span class="line">            state.number -= count</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">add</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">            state.number++</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">autoAdd</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">            state.number++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    actions: &#123;</span><br><span class="line">        <span class="function"><span class="title">auto</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">            <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                state.commit(<span class="string">&#x27;autoAdd&#x27;</span>)</span><br><span class="line">            &#125;, <span class="number">1000</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    getters: &#123;</span><br><span class="line">        <span class="function"><span class="title">reverseNum</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> [...(state.number + <span class="string">&#x27;&#x27;</span>)].reverse().join(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="æ”¹é€ "><a href="#æ”¹é€ " class="headerlink" title="æ”¹é€ "></a>æ”¹é€ </h3><p>ä¸Šè¿°æ‰€æœ‰æ“ä½œä¸­æ¶‰åŠåˆ°dispatchå’Œcommitæ—¶</p>
<p>å¯ä»¥å°†æ‰€æœ‰çš„dispatchå’Œcommit(â€˜xxxâ€™)ä¸­çš„xxxå®šä¹‰æˆä¸€ä¸ªå¸¸é‡</p>
<p>å¹¶å°†æ‰€æœ‰çš„é™¤äº†stateä»¥å¤–çš„éƒ¨åˆ†æŠ½ç¦»æˆä¸€ä¸ªä¸ªå•ç‹¬çš„æ–‡ä»¶</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ index.html</span><br><span class="line">â”œâ”€â”€ main.js</span><br><span class="line">â”œâ”€â”€ api</span><br><span class="line">â”‚   â””â”€â”€ ... <span class="comment"># æŠ½å–å‡ºAPIè¯·æ±‚</span></span><br><span class="line">â”œâ”€â”€ components</span><br><span class="line">â”‚   â”œâ”€â”€ App.vue</span><br><span class="line">â”‚   â””â”€â”€ ...</span><br><span class="line">â””â”€â”€ store</span><br><span class="line">    â”œâ”€â”€ index.js          <span class="comment"># æˆ‘ä»¬ç»„è£…æ¨¡å—å¹¶å¯¼å‡º store çš„åœ°æ–¹</span></span><br><span class="line">    â”œâ”€â”€ actions.js        <span class="comment"># æ ¹çº§åˆ«çš„ action</span></span><br><span class="line">    â”œâ”€â”€ mutations.js      <span class="comment"># æ ¹çº§åˆ«çš„ mutation</span></span><br><span class="line">    â””â”€â”€ modules</span><br><span class="line">        â”œâ”€â”€ cart.js       <span class="comment"># è´­ç‰©è½¦æ¨¡å—</span></span><br><span class="line">        â””â”€â”€ products.js   <span class="comment"># äº§å“æ¨¡å—</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript defineProperty ä¸ proxy</title>
    <url>/FE/JS/defineProperty-Proxy/</url>
    <content><![CDATA[<p>æˆ‘ä»¬å¯ä»¥å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œèµ‹å€¼å’Œå–å€¼</p>
<p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬åœ¨èµ‹å€¼æˆ–å–å€¼çš„æ—¶å€™ éœ€è¦è¿›è¡Œä¸€äº›æ“ä½œ</p>
<p>æ­¤æ—¶ æˆ‘ä»¬è¯¥å¦‚ä½•ç›‘å¬åˆ°æ•°æ®çš„æ”¹å˜å‘¢ å®ç°æ•°æ®ç›‘å¬å‘¢</p>
<h2 id="defineProperty"><a href="#defineProperty" class="headerlink" title="defineProperty"></a>defineProperty</h2><blockquote>
<p>Object.defineProperty(obj, prop, descriptor)</p>
</blockquote>
<ul>
<li><p>obj: è¦åœ¨å…¶ä¸Šå®šä¹‰å±æ€§çš„å¯¹è±¡ã€‚</p>
</li>
<li><p>prop: è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„åç§°ã€‚</p>
</li>
<li><p>descriptor: å°†è¢«å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„æè¿°ç¬¦ã€‚</p>
<ul>
<li><p>value: ç›´æ¥ç»™è¿™ä¸ªå±æ€§èµ‹å€¼</p>
</li>
<li><p>writable: æ˜¯å¦å¯ä¿®æ”¹ é»˜è®¤ false</p>
</li>
<li><p>enumerable: æ˜¯å¦å¯æšä¸¾(éå†æ‹¿å€¼) é»˜è®¤ false</p>
</li>
<li><p>configurable: æ˜¯å¦å¯åˆ é™¤ é»˜è®¤ false</p>
</li>
<li><p>set</p>
</li>
<li><p>get</p>
</li>
</ul>
</li>
</ul>
<a id="more"></a>

<p><strong>æ³¨æ„ï¼švalue/writable å’Œ set/get ä¸èƒ½åŒæ—¶å‡ºç°</strong></p>
<p><strong>å¯ç†è§£ä¸ºæ—¢ç„¶å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹ åˆ™ value å¿…å®šä¼šæœ‰å€¼ ä¸”æ˜¯å¯è¯»å†™çš„</strong></p>
<p><strong>ç›´æ¥ä½¿ç”¨å¯¹è±¡å­—é¢é‡åˆ™é»˜è®¤ descriptor éƒ½ä¸º true è‹¥åªæŒ‡å®š value åˆ™é»˜è®¤ descriptor éƒ½ä¸º false</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">o.a = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// ç­‰åŒäºï¼š</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(o, <span class="string">&#x27;a&#x27;</span>, &#123;</span><br><span class="line">  value: <span class="number">1</span>,</span><br><span class="line">  writable: <span class="literal">true</span>,</span><br><span class="line">  configurable: <span class="literal">true</span>,</span><br><span class="line">  enumerable: <span class="literal">true</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦ä¸€æ–¹é¢ï¼Œ</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(o, <span class="string">&#x27;a&#x27;</span>, &#123; <span class="attr">value</span>: <span class="number">1</span> &#125;);</span><br><span class="line"><span class="comment">// ç­‰åŒäºï¼š</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(o, <span class="string">&#x27;a&#x27;</span>, &#123;</span><br><span class="line">  value: <span class="number">1</span>,</span><br><span class="line">  writable: <span class="literal">false</span>,</span><br><span class="line">  configurable: <span class="literal">false</span>,</span><br><span class="line">  enumerable: <span class="literal">false</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">&#x27;name&#x27;</span>, &#123;</span><br><span class="line">  <span class="comment">// value: &#x27;chou&#x27;,</span></span><br><span class="line">  <span class="comment">// writable: true,</span></span><br><span class="line">  enumerable: <span class="literal">true</span>,</span><br><span class="line">  configurable: <span class="literal">true</span>,</span><br><span class="line">  <span class="function"><span class="title">set</span>(<span class="params">newValue</span>)</span> &#123;</span><br><span class="line">    value = newValue;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;setæ–¹æ³•æ‰§è¡Œäº†&#x27;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;getæ–¹æ³•æ‰§è¡Œäº†&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">obj.name = <span class="string">&#x27;chou&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj.name);</span><br><span class="line"></span><br><span class="line"><span class="comment">// output</span></span><br><span class="line"><span class="comment">// setæ–¹æ³•æ‰§è¡Œäº†</span></span><br><span class="line"><span class="comment">// getæ–¹æ³•æ‰§è¡Œäº†</span></span><br><span class="line"><span class="comment">// chou</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬éœ€è¦ä¸€æ¬¡å®šä¹‰å¤šä¸ªå±æ€§ åˆ™å¯ä»¥ä½¿ç”¨<code>Object.defineProperties(obj, props)</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperties(obj, &#123;</span><br><span class="line">  property1: &#123;</span><br><span class="line">    value: <span class="string">&#x27;Hello&#x27;</span>,</span><br><span class="line">    writable: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  property2: &#123;</span><br><span class="line">    value: <span class="string">&#x27;Chou&#x27;</span>,</span><br><span class="line">    writable: <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// etc. etc.</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Vue2 å°±æ˜¯ä½¿ç”¨äº†è¿™ä¸ª Api æ¥å®ç°äº†æ•°æ®ç›‘å¬ ä»è€Œå®ç°äº†å®ƒçš„å“åº”å¼ä½“ç³»</p>
<h2 id="proxy"><a href="#proxy" class="headerlink" title="proxy"></a>proxy</h2><p>Vue3 å¼€å§‹ å°†ç”¨ proxy ä»£æ›¿ defineProperty é‚£ä¹ˆå®ƒå¯¹æ¯” defineProperty æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢</p>
<p>proxy å¯¹æ¯” defineProperty å®ƒçš„ä¼˜åŠ¿åœ¨äº defineProperty åªèƒ½æˆªå–åˆ° set å’Œ get</p>
<p>è€Œ proxy æœ‰ 13 ç§ æ‹¦æˆªå™¨å¯ä¾›é€‰æ‹© å…·ä½“çš„æ¯ç§æ‹¦æˆªå™¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy">å¯å‚è€ƒ</a></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> handler = &#123;</span><br><span class="line">  <span class="function"><span class="title">set</span>(<span class="params">obj, prop, value</span>)</span> &#123;</span><br><span class="line">    obj[prop] = value;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;prop&#125;</span>å±æ€§çš„setæ–¹æ³•æ‰§è¡Œäº†`</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">get</span>(<span class="params">obj, prop</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;prop&#125;</span>å±æ€§çš„getæ–¹æ³•æ‰§è¡Œäº†`</span>);</span><br><span class="line">    <span class="keyword">return</span> obj[prop];</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">has</span>(<span class="params">obj, key</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;hasæ–¹æ³•æ‰§è¡Œäº†&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Proxy</span>(&#123;&#125;, handler);</span><br><span class="line"></span><br><span class="line">obj.name = <span class="string">&#x27;chou&#x27;</span>;</span><br><span class="line">obj.age = <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj.name);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;name&#x27;</span> <span class="keyword">in</span> obj);</span><br><span class="line"></span><br><span class="line"><span class="comment">// output</span></span><br><span class="line"><span class="comment">// nameå±æ€§çš„setæ–¹æ³•æ‰§è¡Œäº†</span></span><br><span class="line"><span class="comment">// ageå±æ€§çš„setæ–¹æ³•æ‰§è¡Œäº†</span></span><br><span class="line"><span class="comment">// nameå±æ€§çš„getæ–¹æ³•æ‰§è¡Œäº†</span></span><br><span class="line"><span class="comment">// chou</span></span><br><span class="line"><span class="comment">// hasæ–¹æ³•æ‰§è¡Œäº†</span></span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript å¸¸è§é”™è¯¯ç±»</title>
    <url>/FE/JS/error/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æœ€è¿‘ åœ¨åšJSç¬”è¯•é¢˜çš„æ—¶å€™ ä¸€ç›´åˆ†ä¸æ¸…æ¥šæ¯ä¸ªé”™è¯¯ç±» æ‰€ä»¥åœ¨æŸ¥é˜…èµ„æ–™å å†™ä¸‹äº†è¿™ç¯‡ç¬”è®°</p>
<a id="more"></a>

<h2 id="SyntaxError"><a href="#SyntaxError" class="headerlink" title="SyntaxError"></a>SyntaxError</h2><p>SyntaxErroræ˜¯è§£æä»£ç æ—¶å‘ç”Ÿçš„è¯­æ³•é”™è¯¯</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å˜é‡åé”™è¯¯ </span></span><br><span class="line"><span class="keyword">var</span> <span class="number">1</span>a; </span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¼ºå°‘æ‹¬å· </span></span><br><span class="line"><span class="built_in">console</span>.log <span class="string">&#x27;hello&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="ReferenceError"><a href="#ReferenceError" class="headerlink" title="ReferenceError"></a>ReferenceError</h2><p>ReferenceErroræ˜¯å¼•ç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„å˜é‡æ—¶å‘ç”Ÿçš„é”™è¯¯</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ¯”å¦‚æˆ‘ä»¬ç›´æ¥æ‰“å°ä¸€ä¸ªæœªå£°æ˜çš„å˜é‡</span></span><br><span class="line"><span class="built_in">console</span>.log(unknownVariable) <span class="comment">// ReferenceError: unknownVariable is not defined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦ä¸€ç§è§¦å‘åœºæ™¯æ˜¯ï¼Œå°†ä¸€ä¸ªå€¼åˆ†é…ç»™æ— æ³•åˆ†é…çš„å¯¹è±¡ï¼Œæ¯”å¦‚å¯¹å‡½æ•°çš„è¿è¡Œç»“æœæˆ–è€…thisèµ‹å€¼ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log() = <span class="number">1</span> <span class="comment">// ReferenceError: Invalid left-hand side in assignment </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">this</span> = <span class="number">1</span> <span class="comment">// ReferenceError: Invalid left-hand side in assignment</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸Šé¢ä»£ç å¯¹å‡½æ•°console.logçš„è¿è¡Œç»“æœå’Œthisèµ‹å€¼ï¼Œç»“æœéƒ½å¼•å‘äº†ReferenceErroré”™è¯¯</span></span><br></pre></td></tr></table></figure>

<h2 id="RangeError"><a href="#RangeError" class="headerlink" title="RangeError"></a>RangeError</h2><p>RangeErroræ˜¯å½“ä¸€ä¸ªå€¼è¶…å‡ºæœ‰æ•ˆèŒƒå›´æ—¶å‘ç”Ÿçš„é”™è¯¯ã€‚ä¸»è¦æœ‰å‡ ç§æƒ…å†µï¼Œä¸€æ˜¯æ•°ç»„é•¿åº¦ä¸ºè´Ÿæ•°ï¼ŒäºŒæ˜¯Numberå¯¹è±¡çš„æ–¹æ³•å‚æ•°è¶…å‡ºèŒƒå›´ï¼Œä»¥åŠå‡½æ•°å †æ ˆè¶…è¿‡æœ€å¤§å€¼</p>
<h2 id="TypeError"><a href="#TypeError" class="headerlink" title="TypeError"></a>TypeError</h2><p>TypeErroræ˜¯å˜é‡æˆ–å‚æ•°ä¸æ˜¯é¢„æœŸç±»å‹æ—¶å‘ç”Ÿçš„é”™è¯¯ã€‚æ¯”å¦‚ï¼Œå¯¹å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ã€æ•°å€¼ç­‰åŸå§‹ç±»å‹çš„å€¼ä½¿ç”¨newå‘½ä»¤ï¼Œå°±ä¼šæŠ›å‡ºè¿™ç§é”™è¯¯ï¼Œå› ä¸ºnewå‘½ä»¤çš„å‚æ•°åº”è¯¥æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="number">123</span> <span class="comment">//TypeError: number is not a func</span></span><br></pre></td></tr></table></figure>

<h2 id="URIError"><a href="#URIError" class="headerlink" title="URIError"></a>URIError</h2><p>URIErroræ˜¯URIç›¸å…³å‡½æ•°çš„å‚æ•°ä¸æ­£ç¡®æ—¶æŠ›å‡ºçš„é”™è¯¯ï¼Œä¸»è¦æ¶‰åŠencodeURI()ã€decodeURI()ã€encodeURIComponent()ã€decodeURIComponent()ã€escape()å’Œunescape()è¿™å…­ä¸ªå‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">decodeURI</span>(<span class="string">&#x27;%2&#x27;</span>) <span class="comment">// URIError: URI malformed</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript æ•°ç»„å¸¸ç”¨æ–¹æ³•ä»¥åŠæ•°ç»„æ’åº/é€†åº/å»é‡/ä¹±åº/æ‰å¹³åŒ–</title>
    <url>/FE/JS/array/</url>
    <content><![CDATA[<p>æˆ‘ä»¬çŸ¥é“æ•°ç»„çš„æœ¬è´¨æ˜¯ä¸€ä¸ªå¯¹è±¡ å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹æ•°ç»„ æ¥è·å–å®ƒçš„é”®åè¯•è¯•</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(arr))</span><br><span class="line"></span><br><span class="line"><span class="comment">//[ &#x27;0&#x27;, &#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27; ]</span></span><br></pre></td></tr></table></figure>

<p>è·å–åˆ°æ•°ç»„çš„ key ä¸º [ â€˜0â€™, â€˜1â€™, â€˜2â€™, â€˜3â€™ ]</p>
<a id="more"></a>

<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨ arr[0]æ¥è·å–æ•°ç»„ä¸­çš„å…ƒç´ </p>
<p>æœ¬è´¨ä¸Šæ˜¯ Object[key]çš„å½¢å¼è·å–äº† value</p>
<p>è€Œ arr[0]ä¼šè¢«è½¬æ¢æˆ arr[â€˜0â€™] å› ä¸ºå¯¹è±¡çš„é”®åéƒ½æ˜¯stringç±»å‹</p>
<h2 id="length-å±æ€§"><a href="#length-å±æ€§" class="headerlink" title="length å±æ€§"></a>length å±æ€§</h2><p>æˆ‘ä»¬æ€è€ƒä¸€ä¸ªé—®é¢˜ arr.lengthå¾—åˆ°çš„ä¸€å®šæ˜¯æ•°ç»„çš„å®é™…é•¿åº¦å—</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br><span class="line"><span class="built_in">console</span>.log(arr.length) <span class="comment">//4</span></span><br><span class="line">arr[<span class="number">100</span>] = <span class="string">&#x27;z&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.length) <span class="comment">//101</span></span><br></pre></td></tr></table></figure>

<p><strong>length å±æ€§æ°¸è¿œæ¯” key æœ€å¤§å€¼ å¤§ä¸€ä¸ª</strong></p>
<p>æ³¨æ„ å› ä¸ºæ•°ç»„æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¯¹è±¡ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿›è¡Œå¦‚ä¸‹èµ‹å€¼</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">arr[<span class="string">&#x27;a&#x27;</span>] = <span class="string">&#x27;6&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr) <span class="comment">// [ 1, 2, 3, a: 6 ]</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°æ“ä½œä¼šå¢åŠ ä¸€ä¸ªå…ƒç´  a</p>
<p>ä½†æ˜¯æ•°ç»„ length ä¾ç„¶ä¸º 5 å› ä¸º length = Maxï¼ˆkeyï¼‰ + 1</p>
<h2 id="in"><a href="#in" class="headerlink" title="in"></a>in</h2><p>ä¹Ÿé€‚ç”¨äºæ•°ç»„ å› ä¸ºå®ƒæ˜¯å¯¹è±¡</p>
<h3 id="forâ€¦â€¦in"><a href="#forâ€¦â€¦in" class="headerlink" title="forâ€¦â€¦in"></a>forâ€¦â€¦in</h3><p>å¾ªç¯éå†æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> arr) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(arr[i])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ forâ€¦â€¦in å¾ªç¯éå† ä¼šè·å–æ‰€æœ‰ key åŒ…æ‹¬éæ•°å­— key</p>
<h2 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h2><p>æ³¨æ„</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">delete</span> arr[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">console</span>.log(arr[<span class="number">0</span>]) <span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.length) <span class="comment">//3</span></span><br></pre></td></tr></table></figure>

<p>delete ä¸ä¼šå½±å“æ•°ç»„çš„é•¿åº¦ åªæ˜¯åˆ é™¤äº†æ•°ç»„å¯¹åº” key çš„ value å˜æˆ undefined</p>
<p>ä½†æ˜¯éå†çš„æ—¶å€™ä¼šè·³è¿‡è¿™ä¸ªç©ºä½ ä¸ä¼šäº§ç”Ÿä»»ä½•è¾“å‡º</p>
<h2 id="ä¼ªæ•°ç»„"><a href="#ä¼ªæ•°ç»„" class="headerlink" title="ä¼ªæ•°ç»„"></a>ä¼ªæ•°ç»„</h2><p>ä¼ªæ•°ç»„ä¸å…·å¤‡ä»»ä½•æ•°ç»„çš„æ–¹æ³• å¦‚æœè°ƒç”¨ä¼šæŠ¥é”™</p>
<p>å¸¸è§çš„ä¼ªæ•°ç»„æœ‰</p>
<ul>
<li><p>å‡½æ•°å†…éƒ¨çš„arguments</p>
</li>
<li><p>é€šè¿‡é€‰æ‹©å™¨è·å–åˆ°çš„nodeList</p>
</li>
</ul>
<p>ä½†æ˜¯ä¼ªæ•°ç»„æœ‰ length å±æ€§</p>
<p>å°†ä¼ªæ•°ç»„è½¬æ¢ä¸ºçœŸæ­£çš„æ•°ç»„æœ‰å¦‚ä¸‹æ–¹æ³•</p>
<p><code>Array.prototype.slice.call ( arrayLike )</code></p>
<p><code>Array.from ( arrayLike )</code> </p>
<h2 id="æ•°ç»„API"><a href="#æ•°ç»„API" class="headerlink" title="æ•°ç»„API"></a>æ•°ç»„API</h2><h3 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h3><h4 id="Array-from-arrayLike-mapFn-thisArg"><a href="#Array-from-arrayLike-mapFn-thisArg" class="headerlink" title="Array.from(arrayLike[, mapFn[, thisArg]])"></a>Array.from(arrayLike[, mapFn[, thisArg]])</h4><p>æ–¹æ³•ä»ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œæµ…æ‹·è´çš„æ•°ç»„å®ä¾‹</p>
<ul>
<li><p>arrayLike</p>
<ul>
<li>æƒ³è¦è½¬æ¢æˆæ•°ç»„çš„ä¼ªæ•°ç»„å¯¹è±¡æˆ–å¯è¿­ä»£å¯¹è±¡ã€‚</li>
</ul>
</li>
<li><p>mapFn å¯é€‰</p>
<ul>
<li>å¦‚æœæŒ‡å®šäº†è¯¥å‚æ•°ï¼Œæ–°æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä¼šæ‰§è¡Œè¯¥å›è°ƒå‡½æ•°ã€‚</li>
</ul>
</li>
<li><p>thisArg å¯é€‰</p>
<ul>
<li>å¯é€‰å‚æ•°ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•° mapFn æ—¶ this å¯¹è±¡ã€‚</li>
</ul>
</li>
</ul>
<p>åŠŸèƒ½ï¼šå°†ç±»æ•°ç»„å˜æˆçœŸæ­£çš„æ•°ç»„ å¿«é€Ÿç”Ÿæˆæœ‰åºæ•°ç»„</p>
<p>ä¾‹å¦‚ å¿«é€Ÿç”Ÿæˆä¸€ä¸ª1-10çš„æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(<span class="built_in">Array</span>(<span class="number">10</span>), <span class="function">(<span class="params">val, index</span>) =&gt;</span> index + <span class="number">1</span>); <span class="comment">// [1,2....,10]</span></span><br></pre></td></tr></table></figure>

<p>å› ä¸ºä¼ªæ•°ç»„ä¹Ÿæœ‰lengthå±æ€§ æ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥æ”¹å†™æˆå¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: <span class="number">10</span> &#125;, <span class="function">(<span class="params">val, index</span>) =&gt;</span> index + <span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h4 id="Array-isArray"><a href="#Array-isArray" class="headerlink" title="Array.isArray()"></a>Array.isArray()</h4><h4 id="Array-of-element0-element1-â€¦-elementN"><a href="#Array-of-element0-element1-â€¦-elementN" class="headerlink" title="Array.of(element0[, element1[, â€¦[, elementN]]])"></a>Array.of(element0[, element1[, â€¦[, elementN]]])</h4><p>è¿”å›å€¼: ä¸€ä¸ªæ–°çš„æ•°ç»„å®ä¾‹</p>
<h3 id="æˆå‘˜æ–¹æ³•"><a href="#æˆå‘˜æ–¹æ³•" class="headerlink" title="æˆå‘˜æ–¹æ³•"></a>æˆå‘˜æ–¹æ³•</h3><h4 id="arr-concat"><a href="#arr-concat" class="headerlink" title="arr.concat()"></a>arr.concat()</h4><p>åŠŸèƒ½: åˆå¹¶æ•°ç»„ ä¹Ÿå¯ç”¨äºæµ…æ‹·è´</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æµ…æ‹·è´ åªæ‹·è´æœ€å¤–å±‚</span></span><br><span class="line"><span class="keyword">const</span> NewArray = orgArray.concat()</span><br></pre></td></tr></table></figure>

<h4 id="arr-every-callback-element-index-array-thisArg"><a href="#arr-every-callback-element-index-array-thisArg" class="headerlink" title="arr.every(callback(element[, index[, array]])[, thisArg])"></a>arr.every(callback(element[, index[, array]])[, thisArg])</h4><ul>
<li><p>callback</p>
<p>  ç”¨æ¥æµ‹è¯•æ¯ä¸ªå…ƒç´ çš„å‡½æ•°ï¼Œå®ƒå¯ä»¥æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š</p>
<ul>
<li><p>element</p>
<p>ç”¨äºæµ‹è¯•çš„å½“å‰å€¼ã€‚</p>
</li>
<li><p>indexå¯é€‰</p>
<p>ç”¨äºæµ‹è¯•çš„å½“å‰å€¼çš„ç´¢å¼•ã€‚</p>
</li>
<li><p>arrayå¯é€‰</p>
<p>è°ƒç”¨ every çš„å½“å‰æ•°ç»„ã€‚ </p>
</li>
</ul>
</li>
</ul>
<p>è¿”å›å€¼: å¦‚æœå›è°ƒå‡½æ•°çš„æ¯ä¸€æ¬¡è¿”å›éƒ½ä¸º truthy å€¼ï¼Œè¿”å› true ï¼Œå¦åˆ™è¿”å› falseã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].every(<span class="function"><span class="params">x</span> =&gt;</span> x &gt; <span class="number">0</span>) <span class="comment">// true</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].every(<span class="function"><span class="params">x</span> =&gt;</span> x &gt; <span class="number">1</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="arr-some"><a href="#arr-some" class="headerlink" title="arr.some()"></a>arr.some()</h4><p>åŒevery</p>
<p>è¿”å›å€¼: æœ‰ä¸€ä¸ªé€šè¿‡å°±è¿”å›true</p>
<h4 id="arr-fill"><a href="#arr-fill" class="headerlink" title="arr.fill()"></a>arr.fill()</h4><p>å‚æ•°: arr.fill(value[, start[, end]])</p>
<ul>
<li><p>value</p>
<p>ç”¨æ¥å¡«å……æ•°ç»„å…ƒç´ çš„å€¼ã€‚</p>
</li>
<li><p>start å¯é€‰</p>
<p>èµ·å§‹ç´¢å¼•ï¼Œé»˜è®¤å€¼ä¸º0ã€‚</p>
</li>
<li><p>end å¯é€‰</p>
<p>ç»ˆæ­¢ç´¢å¼•ï¼Œé»˜è®¤å€¼ä¸º this.lengthã€‚</p>
</li>
</ul>
<p>è¿”å›å€¼: ä¿®æ”¹åçš„æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¯ç”¨äºåˆå§‹åŒ–æ•°ç»„</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">3</span>).fill(<span class="number">0</span>);   <span class="comment">// [0, 0, 0]</span></span><br></pre></td></tr></table></figure>

<h4 id="arr-filter-callback-element-index-array-thisArg"><a href="#arr-filter-callback-element-index-array-thisArg" class="headerlink" title="arr.filter(callback(element[, index[, array]])[, thisArg])"></a>arr.filter(callback(element[, index[, array]])[, thisArg])</h4><p>è¿”å›å€¼: ä¸€ä¸ªæ–°çš„ã€ç”±é€šè¿‡æµ‹è¯•çš„å…ƒç´ ç»„æˆçš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•æ•°ç»„å…ƒç´ é€šè¿‡æµ‹è¯•ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].filter(<span class="function"><span class="params">x</span> =&gt;</span> x &gt; <span class="number">1</span>) <span class="comment">//Â [2, 3, 4, 5]</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].filter(<span class="function"><span class="params">x</span> =&gt;</span> x &gt; <span class="number">6</span>) <span class="comment">// []</span></span><br></pre></td></tr></table></figure>

<h4 id="arr-find-callback-thisArg"><a href="#arr-find-callback-thisArg" class="headerlink" title="arr.find(callback[, thisArg])"></a>arr.find(callback[, thisArg])</h4><p>è¿”å›å€¼: æ•°ç»„ä¸­<strong>ç¬¬ä¸€ä¸ª</strong>æ»¡è¶³æ‰€æä¾›æµ‹è¯•å‡½æ•°çš„å…ƒç´ çš„å€¼ï¼Œå¦åˆ™è¿”å› undefinedã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].find(<span class="function"><span class="params">x</span> =&gt;</span> x &gt; <span class="number">6</span>) <span class="comment">//undefined</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].find(<span class="function"><span class="params">x</span> =&gt;</span> x &gt; <span class="number">2</span>) <span class="comment">//3</span></span><br></pre></td></tr></table></figure>

<h4 id="arr-findIndex"><a href="#arr-findIndex" class="headerlink" title="arr.findIndex()"></a>arr.findIndex()</h4><p>åŒfind åŒºåˆ«åœ¨äºè¿”å›å€¼</p>
<p>æ•°ç»„ä¸­é€šè¿‡æä¾›æµ‹è¯•å‡½æ•°çš„<strong>ç¬¬ä¸€ä¸ª</strong>å…ƒç´ çš„ç´¢å¼•ã€‚å¦åˆ™ï¼Œè¿”å›-1ã€‚</p>
<h4 id="arr-flat-depth"><a href="#arr-flat-depth" class="headerlink" title="arr.flat([depth])"></a>arr.flat([depth])</h4><ul>
<li>depth: æ·±åº¦ é»˜è®¤ä¸º1</li>
</ul>
<p>å°†æ•°ç»„æ‰å¹³åŒ–</p>
<p>è¿”å›å€¼: ä¸€ä¸ªæ–°çš„æ•°ç»„å®ä¾‹ã€‚</p>
<h4 id="arr-flatMap"><a href="#arr-flatMap" class="headerlink" title="arr.flatMap()"></a>arr.flatMap()</h4><p>flatMap() = map() + flat(1)</p>
<h4 id="arr-forEach-callback-currentValue-index-array-thisArg"><a href="#arr-forEach-callback-currentValue-index-array-thisArg" class="headerlink" title="arr.forEach(callback(currentValue [, index [, array]])[, thisArg])"></a>arr.forEach(callback(currentValue [, index [, array]])[, thisArg])</h4><p>è¿”å›å€¼: æ²¡æœ‰è¿”å›å€¼ undefined</p>
<h4 id="arr-map"><a href="#arr-map" class="headerlink" title="arr.map()"></a>arr.map()</h4><p>æ•ˆæœåŒforEach() åŒºåˆ«åœ¨äºmap()æœ‰è¿”å›å€¼</p>
<p>è¿”å›å€¼: åŸæ•°ç»„æ¯ä¸ªå…ƒç´ æ‰§è¡Œå›è°ƒå‡½æ•°çš„ç»“æœç»„æˆçš„æ–°æ•°ç»„</p>
<h4 id="arr-includes"><a href="#arr-includes" class="headerlink" title="arr.includes()"></a>arr.includes()</h4><p>è¿”å›å€¼: boolean</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].includes(<span class="number">2</span>);     <span class="comment">// true</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].includes(<span class="number">4</span>);     <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="arr-indexOf-searchElement-fromIndex"><a href="#arr-indexOf-searchElement-fromIndex" class="headerlink" title="arr.indexOf(searchElement[, fromIndex])"></a>arr.indexOf(searchElement[, fromIndex])</h4><ul>
<li><p>fromIndex(å¯é€‰)</p>
<ul>
<li>æŒ‡å®šå¼€å§‹æŸ¥æ‰¾çš„ä½ç½®</li>
</ul>
</li>
</ul>
<p>è¿”å›å€¼: æŸ¥æ‰¾å…ƒç´ çš„ç´¢å¼•ä¸‹æ ‡ è‹¥æ‰¾ä¸åˆ°åˆ™ä¸º-1</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> array = [<span class="number">2</span>, <span class="number">5</span>, <span class="number">9</span>];</span><br><span class="line">array.indexOf(<span class="number">2</span>);     <span class="comment">// 0</span></span><br><span class="line">array.indexOf(<span class="number">7</span>);     <span class="comment">// -1</span></span><br><span class="line">array.indexOf(<span class="number">9</span>, <span class="number">2</span>);  <span class="comment">// 2</span></span><br><span class="line">array.indexOf(<span class="number">2</span>, -<span class="number">1</span>); <span class="comment">// -1</span></span><br><span class="line">array.indexOf(<span class="number">2</span>, -<span class="number">3</span>); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<h4 id="arr-join"><a href="#arr-join" class="headerlink" title="arr.join()"></a>arr.join()</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="string">&#x27;Wind&#x27;</span>, <span class="string">&#x27;Rain&#x27;</span>, <span class="string">&#x27;Fire&#x27;</span>];</span><br><span class="line"><span class="keyword">var</span> myVar1 = a.join();      <span class="comment">// myVar1çš„å€¼å˜ä¸º&quot;Wind,Rain,Fire&quot;</span></span><br><span class="line"><span class="keyword">var</span> myVar2 = a.join(<span class="string">&#x27;, &#x27;</span>);  <span class="comment">// myVar2çš„å€¼å˜ä¸º&quot;Wind, Rain, Fire&quot;</span></span><br><span class="line"><span class="keyword">var</span> myVar3 = a.join(<span class="string">&#x27; + &#x27;</span>); <span class="comment">// myVar3çš„å€¼å˜ä¸º&quot;Wind + Rain + Fire&quot;</span></span><br><span class="line"><span class="keyword">var</span> myVar4 = a.join(<span class="string">&#x27;&#x27;</span>);    <span class="comment">// myVar4çš„å€¼å˜ä¸º&quot;WindRainFire&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="arr-reduce-callback-accumulator-currentValue-index-array-initialValue"><a href="#arr-reduce-callback-accumulator-currentValue-index-array-initialValue" class="headerlink" title="arr.reduce(callback(accumulator, currentValue[, index[, array]])[, initialValue])"></a>arr.reduce(callback(accumulator, currentValue[, index[, array]])[, initialValue])</h4><ul>
<li><p>accumulator: ç´¯åŠ å™¨ å³å‡½æ•°ä¸Šä¸€æ¬¡è°ƒç”¨çš„è¿”å›å€¼ã€‚</p>
<p>ç¬¬ä¸€æ¬¡çš„æ—¶å€™ä¸º initialValue || arr[0]</p>
</li>
<li><p>currentValue: æ•°ç»„ä¸­å‡½æ•°æ­£åœ¨å¤„ç†çš„çš„å€¼ã€‚</p>
<p>ç¬¬ä¸€æ¬¡çš„æ—¶å€™ initialValue || arr[1]</p>
</li>
<li><p>currentIndex: (å¯é€‰)æ•°æ®ä¸­æ­£åœ¨å¤„ç†çš„å…ƒç´ ç´¢å¼•</p>
<p>å¦‚æœæä¾›äº† initialValue ä» 0 å¼€å§‹ å¦åˆ™ä» 1 å¼€å§‹</p>
</li>
<li><p>array: (å¯é€‰)è°ƒç”¨ reduce çš„æ•°ç»„</p>
</li>
<li><p>initialValue: (å¯é€‰)ç´¯åŠ å™¨çš„åˆå§‹å€¼ã€‚æ²¡æœ‰æ—¶ ç´¯åŠ å™¨ç¬¬ä¸€æ¬¡çš„å€¼ä¸º currentValue</p>
<p>æ³¨æ„: åœ¨å¯¹æ²¡æœ‰è®¾ç½®åˆå§‹å€¼çš„ç©ºæ•°ç»„è°ƒç”¨ reduce æ–¹æ³•æ—¶ä¼šæŠ¥é”™ã€‚</p>
</li>
</ul>
<p>è¿”å›å€¼: å‡½æ•°ç´¯è®¡å¤„ç†çš„ç»“æœ</p>
<p>ä¸ºäº†æ›´ç›´è§‚çš„æ„Ÿå— æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æœ‰åˆå§‹å€¼</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].reduce(<span class="function"><span class="keyword">function</span> (<span class="params">accumulator, currentValue, currentIndex, array</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> accumulator + currentValue</span><br><span class="line">&#125;, <span class="number">10</span>) <span class="comment">// 20</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>callback</th>
<th>accumulator</th>
<th>currentValue</th>
<th>currentIndex</th>
<th>array</th>
<th>return value</th>
</tr>
</thead>
<tbody><tr>
<td>first call</td>
<td>10(åˆå§‹å€¼)</td>
<td>1(æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ )</td>
<td>0(æœ‰åˆå§‹å€¼ä¸º 0)</td>
<td>[1, 2, 3, 4]</td>
<td>11</td>
</tr>
<tr>
<td>second call</td>
<td>11</td>
<td>2</td>
<td>1</td>
<td>[1, 2, 3, 4]</td>
<td>13</td>
</tr>
<tr>
<td>third call</td>
<td>13</td>
<td>3</td>
<td>2</td>
<td>[1, 2, 3, 4]</td>
<td>16</td>
</tr>
<tr>
<td>fourth call</td>
<td>16</td>
<td>4</td>
<td>3</td>
<td>[1, 2, 3, 4]</td>
<td>20</td>
</tr>
</tbody></table>
<h4 id="arr-reverse"><a href="#arr-reverse" class="headerlink" title="arr.reverse()"></a>arr.reverse()</h4><p>è¿”å›å€¼: é¢ å€’åçš„æ•°ç»„(ä¼šç›´æ¥ä¿®æ”¹åŸæ•°ç»„)</p>
<h4 id="arr-slice-begin-end"><a href="#arr-slice-begin-end" class="headerlink" title="arr.slice([begin[, end]])"></a>arr.slice([begin[, end]])</h4><p>è‹¥çœç•¥ åˆ™é»˜è®¤ä»0å¼€å§‹</p>
<p>è¿”å›å€¼: ä¸€ä¸ªæ–°çš„æ•°ç»„å®ä¾‹(ä¸ä¼šä¿®æ”¹åŸæ•°ç»„)</p>
<p>åŠŸèƒ½: åˆ‡å‰²æ•°ç»„/æµ…æ‹·è´/è½¬åŒ–ä¸ºçœŸæ­£çš„æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>)</span><br></pre></td></tr></table></figure>

<h4 id="arr-sort-compareFunction"><a href="#arr-sort-compareFunction" class="headerlink" title="arr.sort([compareFunction])"></a>arr.sort([compareFunction])</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers = [<span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>]; </span><br><span class="line">numbers.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b); <span class="comment">// å‡åº </span></span><br><span class="line">numbers.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> b - a); <span class="comment">// é™åº </span></span><br></pre></td></tr></table></figure>

<p>è¿”å›å€¼: æ’åºåçš„æ•°ç»„(ä¿®æ”¹åŸæ•°ç»„)</p>
<h4 id="array-splice-start-deleteCount-item1-item2-â€¦"><a href="#array-splice-start-deleteCount-item1-item2-â€¦" class="headerlink" title="array.splice(start[, deleteCount[, item1[, item2[, â€¦]]]])"></a>array.splice(start[, deleteCount[, item1[, item2[, â€¦]]]])</h4><ul>
<li><p>deleteCount(å¯é€‰)</p>
<p>æ•´æ•°ï¼Œè¡¨ç¤ºè¦ç§»é™¤çš„æ•°ç»„å…ƒç´ çš„ä¸ªæ•°ã€‚</p>
<ul>
<li><p><code>&gt;0 åˆ é™¤å…ƒç´ </code></p>
</li>
<li><p><code>&lt;0 æ·»åŠ å…ƒç´ </code></p>
</li>
</ul>
</li>
</ul>
<h4 id="å¢åŠ -åˆ é™¤"><a href="#å¢åŠ -åˆ é™¤" class="headerlink" title="å¢åŠ /åˆ é™¤"></a>å¢åŠ /åˆ é™¤</h4><ul>
<li><p>pop() åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´  è¿”å›å€¼ä¸ºè¢«åˆ é™¤å…ƒç´ </p>
</li>
<li><p>push() åœ¨æ•°ç»„æœ€åæ·»åŠ ä¸€ä¸ªå…ƒç´  è¿”å›å€¼ä¸ºæ–°æ•°ç»„çš„é•¿åº¦</p>
</li>
<li><p>shift() åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´  è¿”å›å€¼ä¸ºè¢«åˆ é™¤çš„å…ƒç´ </p>
</li>
<li><p>unshift() åœ¨æ•°ç»„å¼€å¤´æ·»åŠ ä¸€ä¸ªå…ƒç´  è¿”å›å€¼ä¸ºæ–°æ•°ç»„çš„é•¿åº¦</p>
</li>
</ul>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><img src="https://gitee.com/LuckyChou/blog-images/raw/master/js/data-type/array.png" />

<h2 id="æ•°ç»„æ’åº"><a href="#æ•°ç»„æ’åº" class="headerlink" title="æ•°ç»„æ’åº"></a>æ•°ç»„æ’åº</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å‡åº</span></span><br><span class="line">arr.sort(<span class="function">(<span class="params">x,y</span>) =&gt;</span> x-y)</span><br><span class="line"><span class="comment">// é™åº</span></span><br><span class="line">arr.sort(<span class="function">(<span class="params">x,y</span>) =&gt;</span> y-x)</span><br></pre></td></tr></table></figure>

<h2 id="æ•°ç»„åè½¬"><a href="#æ•°ç»„åè½¬" class="headerlink" title="æ•°ç»„åè½¬"></a>æ•°ç»„åè½¬</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®ç°ä¸€</span></span><br><span class="line">arr.reverse()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ç°äºŒ</span></span><br><span class="line">arr.reduce(<span class="function">(<span class="params">prev, curr</span>) =&gt;</span> &#123;</span><br><span class="line">    prev.unshift(curr);</span><br><span class="line">    <span class="keyword">return</span> prev;</span><br><span class="line">  &#125;, [])</span><br></pre></td></tr></table></figure>

<h2 id="æ•°ç»„å»é‡"><a href="#æ•°ç»„å»é‡" class="headerlink" title="æ•°ç»„å»é‡"></a>æ•°ç»„å»é‡</h2><h3 id="å®ç°ä¸€"><a href="#å®ç°ä¸€" class="headerlink" title="å®ç°ä¸€"></a>å®ç°ä¸€</h3><p>ç”¨ ES6 Set çš„ç‰¹æ€§ æ²¡æœ‰é‡å¤çš„å…ƒç´ </p>
<h3 id="å®ç°äºŒ"><a href="#å®ç°äºŒ" class="headerlink" title="å®ç°äºŒ"></a>å®ç°äºŒ</h3><p>å…ˆå°†æ•°ç»„æ’åº ç„¶åæ¯”è¾ƒç›¸é‚»å…ƒç´  å¦‚æœç›¸åŒ å°±ç§»åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ </p>
<h3 id="å®ç°ä¸‰"><a href="#å®ç°ä¸‰" class="headerlink" title="å®ç°ä¸‰"></a>å®ç°ä¸‰</h3><p>åŒé‡forå¾ªç¯ </p>
<h3 id="æ¯”è¾ƒ"><a href="#æ¯”è¾ƒ" class="headerlink" title="æ¯”è¾ƒ"></a>æ¯”è¾ƒ</h3><p>å…·ä½“ä»£ç å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getArr</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> timer = <span class="number">10000</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; timer; i++) &#123;</span><br><span class="line">    arr[i] = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">100</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr1 = []</span><br><span class="line"><span class="keyword">let</span> arr2 = []</span><br><span class="line"><span class="keyword">let</span> arr3 = []</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿæˆäº† 3ä¸ª æ•°ç»„é•¿åº¦ä¸ºtimerçš„æ•°ç»„</span></span><br><span class="line">arr1 = getArr(arr1)</span><br><span class="line">arr2 = getArr(arr2)</span><br><span class="line">arr3 = getArr(arr3)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// case 1</span></span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">&#x27;case1&#x27;</span>)</span><br><span class="line">arr = [...new <span class="built_in">Set</span>(arr1)]</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">&#x27;case1&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// case 2</span></span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">&#x27;case2&#x27;</span>)</span><br><span class="line">arr2 = arr2.sort(<span class="function">(<span class="params">x, y</span>) =&gt;</span> x - y)</span><br><span class="line"><span class="keyword">const</span> res2 = []</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr2.length; i++) &#123;</span><br><span class="line">  <span class="keyword">if</span> (arr2[i] !== arr2[i + <span class="number">1</span>]) &#123;</span><br><span class="line">    res2.push(arr2[i])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">&#x27;case2&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// case3</span></span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">&#x27;case3&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> res3 = []</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr3.length; i++) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; arr3.length; j++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (arr3[i] == arr3[j]) &#123;</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (j == arr3.length - <span class="number">1</span>) &#123;</span><br><span class="line">      res3.push(arr3[i])</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">&#x27;case3&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// output</span></span><br><span class="line"><span class="comment">// case1: 0.467ms</span></span><br><span class="line"><span class="comment">// case2: 5.254ms</span></span><br><span class="line"><span class="comment">// case3: 11.034ms</span></span><br></pre></td></tr></table></figure>

<p>å¯è§ åˆ©ç”¨ES6çš„Setæ˜¯æ•ˆç‡æœ€é«˜çš„ä¸€ç§æ–¹æ³•</p>
<h2 id="æ•°ç»„ä¹±åº"><a href="#æ•°ç»„ä¹±åº" class="headerlink" title="æ•°ç»„ä¹±åº"></a>æ•°ç»„ä¹±åº</h2><h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>å–ä¸¤ä¸ªæ•°ç»„é•¿åº¦èŒƒå›´å†…çš„ä¸‹æ ‡  äº¤æ¢ä½ç½®</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">random</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> timer = <span class="number">1000</span></span><br><span class="line">  <span class="keyword">var</span> x, y, temp</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; timer; i++) &#123;</span><br><span class="line">    x = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * arr.length)</span><br><span class="line">    y = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * arr.length)</span><br><span class="line">    temp = arr[x]</span><br><span class="line">    arr[x] = arr[y]</span><br><span class="line">    arr[y] = temp</span><br><span class="line">    <span class="comment">// ES6 å†™æ³•</span></span><br><span class="line">    <span class="comment">// ;[arr[x], arr[y]] = [arr[y], arr[x]]</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ•°ç»„æ‰å¹³åŒ–"><a href="#æ•°ç»„æ‰å¹³åŒ–" class="headerlink" title="æ•°ç»„æ‰å¹³åŒ–"></a>æ•°ç»„æ‰å¹³åŒ–</h2><h3 id="å®ç°ä¸€-1"><a href="#å®ç°ä¸€-1" class="headerlink" title="å®ç°ä¸€"></a>å®ç°ä¸€</h3><p>è°ƒç”¨ <code>Array.prototype.flat</code></p>
<h3 id="å®ç°äºŒ-1"><a href="#å®ç°äºŒ-1" class="headerlink" title="å®ç°äºŒ"></a>å®ç°äºŒ</h3><p>å¦‚æœéƒ½æ˜¯æ•°å­— å¯ä»¥ç”¨ toString æ–¹æ³• è½¬åŒ–ä¸ºå­—ç¬¦ä¸² å†ç”¨ split åˆ‡å‰²</p>
<h3 id="å®ç°ä¸‰-1"><a href="#å®ç°ä¸‰-1" class="headerlink" title="å®ç°ä¸‰"></a>å®ç°ä¸‰</h3><p>é€’å½’è°ƒç”¨ </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">var</span> res = []</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flat</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// case 1</span></span><br><span class="line">  <span class="comment">// return arr.flat()</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// case 2</span></span><br><span class="line">  <span class="comment">// return arr</span></span><br><span class="line">  <span class="comment">//   .toString()</span></span><br><span class="line">  <span class="comment">//   .split(&#x27;,&#x27;)</span></span><br><span class="line">  <span class="comment">//   .map((item) =&gt; +item)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// case 3</span></span><br><span class="line">  <span class="comment">// for (var i = 0; i &lt; arr.length; i++) &#123;</span></span><br><span class="line">  <span class="comment">//   if (arr[i] instanceof Array) &#123;</span></span><br><span class="line">  <span class="comment">//     flat(arr[i])</span></span><br><span class="line">  <span class="comment">//   &#125; else &#123;</span></span><br><span class="line">  <span class="comment">//     res.push(arr[i])</span></span><br><span class="line">  <span class="comment">//   &#125;</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// return res</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript é‡å­¦ES6</title>
    <url>/FE/JS/es6/</url>
    <content><![CDATA[<h2 id="let-const"><a href="#let-const" class="headerlink" title="let const"></a>let const</h2><h3 id="globalThis-é¡¶çº§å¯¹è±¡"><a href="#globalThis-é¡¶çº§å¯¹è±¡" class="headerlink" title="globalThis é¡¶çº§å¯¹è±¡"></a>globalThis é¡¶çº§å¯¹è±¡</h3><ul>
<li><p>æµè§ˆå™¨é‡Œé¢ï¼Œé¡¶å±‚å¯¹è±¡æ˜¯ windowï¼Œä½† Node å’Œ Web Worker æ²¡æœ‰ window</p>
</li>
<li><p>æµè§ˆå™¨å’Œ Web Worker é‡Œé¢ï¼Œself ä¹ŸæŒ‡å‘é¡¶å±‚å¯¹è±¡ï¼Œä½†æ˜¯ Node æ²¡æœ‰ self</p>
</li>
<li><p>Node é‡Œé¢ï¼Œé¡¶å±‚å¯¹è±¡æ˜¯ globalï¼Œä½†å…¶ä»–ç¯å¢ƒéƒ½ä¸æ”¯æŒ</p>
</li>
</ul>
<h2 id="å˜é‡çš„è§£æ„èµ‹å€¼"><a href="#å˜é‡çš„è§£æ„èµ‹å€¼" class="headerlink" title="å˜é‡çš„è§£æ„èµ‹å€¼"></a>å˜é‡çš„è§£æ„èµ‹å€¼</h2><h3 id="æ•°ç»„è§£æ„"><a href="#æ•°ç»„è§£æ„" class="headerlink" title="æ•°ç»„è§£æ„"></a>æ•°ç»„è§£æ„</h3><p>æŒ‰ç…§å¯¹åº”ä½ç½®ï¼Œå¯¹å˜é‡èµ‹å€¼</p>
<h4 id="è§£æ„èµ‹å€¼å…è®¸é»˜è®¤å€¼"><a href="#è§£æ„èµ‹å€¼å…è®¸é»˜è®¤å€¼" class="headerlink" title="è§£æ„èµ‹å€¼å…è®¸é»˜è®¤å€¼"></a>è§£æ„èµ‹å€¼å…è®¸é»˜è®¤å€¼</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> [foo = <span class="literal">true</span>] = [];</span><br><span class="line">foo; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> [x, y = <span class="string">&#x27;b&#x27;</span>] = [<span class="string">&#x27;a&#x27;</span>]; <span class="comment">// x=&#x27;a&#x27;, y=&#x27;b&#x27;</span></span><br><span class="line"><span class="keyword">let</span> [x, y = <span class="string">&#x27;b&#x27;</span>] = [<span class="string">&#x27;a&#x27;</span>, <span class="literal">undefined</span>]; <span class="comment">// x=&#x27;a&#x27;, y=&#x27;b&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="æƒ°æ€§æ±‚å€¼"><a href="#æƒ°æ€§æ±‚å€¼" class="headerlink" title="æƒ°æ€§æ±‚å€¼"></a>æƒ°æ€§æ±‚å€¼</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;aaa&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> [x = f()] = [<span class="number">1</span>];</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç ä¸ä¼šæ‰§è¡Œå‡½æ•° f è¾“å‡º aaa å› ä¸ºè¯¥æ•°ç»„è§£æ„å¯ä»¥æ­£å¸¸å–åˆ°å€¼ å¦‚æœä»£ç æ”¹ä¸º</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;aaa&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> [x = f()] = [];</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ ä¼šå»æ‰§è¡Œ f å‡½æ•° è¿›è¡Œé»˜è®¤èµ‹å€¼</p>
<h3 id="å¯¹è±¡è§£æ„"><a href="#å¯¹è±¡è§£æ„" class="headerlink" title="å¯¹è±¡è§£æ„"></a>å¯¹è±¡è§£æ„</h3><p>å˜é‡å¿…é¡»ä¸å±æ€§åŒå è¿›è¡Œè§£æ„</p>
<h4 id="è§£æ„åµŒå¥—çš„å¯¹è±¡"><a href="#è§£æ„åµŒå¥—çš„å¯¹è±¡" class="headerlink" title="è§£æ„åµŒå¥—çš„å¯¹è±¡"></a>è§£æ„åµŒå¥—çš„å¯¹è±¡</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  success: <span class="literal">true</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    username: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">    age: <span class="number">18</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  code: <span class="number">200</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">  data: &#123; username &#125;,</span><br><span class="line">&#125; = obj;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(username); <span class="comment">// chou</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å¦‚æœä½ è¦è¾“å‡º data æ­¤æ—¶å°±ä¼šæŠ¥é”™ data å˜é‡æœªå®šä¹‰</p>
<p>å› ä¸ºæ­¤æ—¶ data ä½œä¸ºåŒ¹é…çš„æ¨¡å¼ å¦‚æœéœ€è¦å°† data èµ‹å€¼ é‚£ä¹ˆå¯ä»¥å†™æˆå¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">  data,</span><br><span class="line">  data: &#123; username &#125;,</span><br><span class="line">&#125; = obj;</span><br></pre></td></tr></table></figure>

<h3 id="å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼"><a href="#å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼" class="headerlink" title="å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼"></a>å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">[x, y]</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line">add([<span class="number">1</span>, <span class="number">2</span>]); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p>ä¸ªäººå»ºè®®ä½¿ç”¨å¯¹è±¡è§£æ„çš„ä¼ å‚æ–¹å¼ ä¾‹å¦‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">&#123; x, y &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line">add(&#123; x, y &#125;);</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å¯ä»¥è§„é¿æ‰ä¼ å‚æ—¶ éœ€è¦æŒ‰é¡ºåºä¼ å‚çš„éº»çƒ¦ ä½†æ˜¯ä½¿ç”¨ TS çš„è¯ å°±å¦è¯´å•¦</p>
<h3 id="ç”¨é€”"><a href="#ç”¨é€”" class="headerlink" title="ç”¨é€”"></a>ç”¨é€”</h3><h4 id="äº¤æ¢å˜é‡çš„å€¼"><a href="#äº¤æ¢å˜é‡çš„å€¼" class="headerlink" title="äº¤æ¢å˜é‡çš„å€¼"></a>äº¤æ¢å˜é‡çš„å€¼</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> y = <span class="number">2</span>;</span><br><span class="line">[x, y] = [y, x];</span><br></pre></td></tr></table></figure>

<h4 id="éå†-Map-ç»“æ„"><a href="#éå†-Map-ç»“æ„" class="headerlink" title="éå† Map ç»“æ„"></a>éå† Map ç»“æ„</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">map.set(<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">map.set(<span class="string">&#x27;second&#x27;</span>, <span class="string">&#x27;world&#x27;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key + <span class="string">&#x27; is &#x27;</span> + value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// first is hello</span></span><br><span class="line"><span class="comment">// second is world</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–é”®å</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key] <span class="keyword">of</span> map) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è·å–é”®å€¼</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [, value] <span class="keyword">of</span> map) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å­—ç¬¦ä¸²çš„æ‰©å±•"><a href="#å­—ç¬¦ä¸²çš„æ‰©å±•" class="headerlink" title="å­—ç¬¦ä¸²çš„æ‰©å±•"></a>å­—ç¬¦ä¸²çš„æ‰©å±•</h2><p>ES6 ä¸ºå­—ç¬¦ä¸²æ·»åŠ äº†éå†å™¨æ¥å£ ä½¿å¾—å­—ç¬¦ä¸²å¯ä»¥è¢« forâ€¦of å¾ªç¯éå†</p>
<p>å¦‚æœéœ€è¦å¼•ç”¨æ¨¡æ¿å­—ç¬¦ä¸²æœ¬èº«ï¼Œåœ¨éœ€è¦æ—¶æ‰§è¡Œï¼Œå¯ä»¥å†™æˆå‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> func = <span class="function">(<span class="params">name</span>) =&gt;</span> <span class="string">`Hello <span class="subst">$&#123;name&#125;</span>!`</span>;</span><br><span class="line">func(<span class="string">&#x27;Jack&#x27;</span>); <span class="comment">// &quot;Hello Jack!&quot;</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²å†™æˆäº†ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ã€‚æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå°±ç›¸å½“äºæ‰§è¡Œè¿™ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²äº†ã€‚ è¿™çœ‹ä¸Šå»å¾ˆé…·<del>~</del></p>
<h3 id="æ ‡ç­¾æ¨¡æ¿"><a href="#æ ‡ç­¾æ¨¡æ¿" class="headerlink" title="æ ‡ç­¾æ¨¡æ¿"></a>æ ‡ç­¾æ¨¡æ¿</h3><p>æ ‡ç­¾æ¨¡æ¿æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°è°ƒç”¨</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tag</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">tag<span class="string">`<span class="subst">$&#123;a - b&#125;</span> Hello <span class="subst">$&#123;a + b&#125;</span> world <span class="subst">$&#123;a * b&#125;</span>`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// output</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&#x27;0&#x27;</span>: [ <span class="string">&#x27;&#x27;</span>, <span class="string">&#x27; Hello &#x27;</span>, <span class="string">&#x27; world &#x27;</span>, <span class="string">&#x27;&#x27;</span> ],</span><br><span class="line">  <span class="string">&#x27;1&#x27;</span>: -<span class="number">5</span>,</span><br><span class="line">  <span class="string">&#x27;2&#x27;</span>: <span class="number">15</span>,</span><br><span class="line">  <span class="string">&#x27;3&#x27;</span>: <span class="number">50</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å®ä¾‹æ–¹æ³•"><a href="#å®ä¾‹æ–¹æ³•" class="headerlink" title="å®ä¾‹æ–¹æ³•"></a>å®ä¾‹æ–¹æ³•</h3><h4 id="padStart-ï¼ŒpadEnd"><a href="#padStart-ï¼ŒpadEnd" class="headerlink" title="padStart()ï¼ŒpadEnd()"></a>padStart()ï¼ŒpadEnd()</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;x&#x27;</span>.padStart(<span class="number">5</span>, <span class="string">&#x27;ab&#x27;</span>); <span class="comment">// &#x27;ababx&#x27;</span></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>.padStart(<span class="number">4</span>, <span class="string">&#x27;ab&#x27;</span>); <span class="comment">// &#x27;abax&#x27;</span></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>.padEnd(<span class="number">5</span>, <span class="string">&#x27;ab&#x27;</span>); <span class="comment">// &#x27;xabab&#x27;</span></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>.padEnd(<span class="number">4</span>, <span class="string">&#x27;ab&#x27;</span>); <span class="comment">// &#x27;xaba&#x27;</span></span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ å¯ä»¥ç”¨äºæ—¶é—´æ ¼å¼åŒ– æ¯”å¦‚ æ—¶åˆ†ç§’å¦‚æœéœ€è¦ä¸¤ä½ ä¸è¶³ä¸¤ä½è¡¥ 0</p>
<h2 id="æ•°å€¼çš„æ‰©å±•"><a href="#æ•°å€¼çš„æ‰©å±•" class="headerlink" title="æ•°å€¼çš„æ‰©å±•"></a>æ•°å€¼çš„æ‰©å±•</h2><h3 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h3><h4 id="Math-trunc"><a href="#Math-trunc" class="headerlink" title="Math.trunc()"></a>Math.trunc()</h4><p>Math.trunc æ–¹æ³•ç”¨äºå»é™¤ä¸€ä¸ªæ•°çš„å°æ•°éƒ¨åˆ†ï¼Œè¿”å›æ•´æ•°éƒ¨åˆ†</p>
<h3 id="BigInt"><a href="#BigInt" class="headerlink" title="BigInt"></a>BigInt</h3><ul>
<li><p>BigInt åªç”¨æ¥è¡¨ç¤ºæ•´æ•°ï¼Œæ²¡æœ‰ä½æ•°çš„é™åˆ¶ï¼Œä»»ä½•ä½æ•°çš„æ•´æ•°éƒ½å¯ä»¥ç²¾ç¡®è¡¨ç¤º</p>
</li>
<li><p>ä¸ºäº†ä¸ Number ç±»å‹åŒºåˆ«ï¼ŒBigInt ç±»å‹çš„æ•°æ®å¿…é¡»æ·»åŠ åç¼€ n</p>
</li>
<li><p>BigInt ä¸æ™®é€šæ•´æ•°æ˜¯ä¸¤ç§å€¼ï¼Œå®ƒä»¬ä¹‹é—´å¹¶ä¸ç›¸ç­‰</p>
</li>
<li><p>BigInt å¯ä»¥ä½¿ç”¨è´Ÿå·ï¼ˆ-ï¼‰ï¼Œä½†æ˜¯ä¸èƒ½ä½¿ç”¨æ­£å·ï¼ˆ+ï¼‰</p>
</li>
<li><p>æ•°å­¦è¿ç®—æ–¹é¢ï¼ŒBigInt ç±»å‹çš„+ã€-ã€*å’Œ**è¿™å››ä¸ªäºŒå…ƒè¿ç®—ç¬¦ï¼Œä¸ Number ç±»å‹çš„è¡Œä¸ºä¸€è‡´ã€‚é™¤æ³•è¿ç®—/ä¼šèˆå»å°æ•°éƒ¨åˆ†ï¼Œè¿”å›ä¸€ä¸ªæ•´æ•°</p>
</li>
<li><p>BigInt å¯¹åº”çš„å¸ƒå°”å€¼ï¼Œä¸ Number ç±»å‹ä¸€è‡´ï¼Œå³ 0n ä¼šè½¬ä¸º falseï¼Œå…¶ä»–å€¼è½¬ä¸º true</p>
</li>
</ul>
<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><h3 id="å‡½æ•°çš„å±æ€§"><a href="#å‡½æ•°çš„å±æ€§" class="headerlink" title="å‡½æ•°çš„å±æ€§"></a>å‡½æ•°çš„å±æ€§</h3><h4 id="length"><a href="#length" class="headerlink" title="length"></a>length</h4><p>å‡½æ•°çš„ length å±æ€§å°†è¿”å›å‡½æ•°çš„å‚æ•°ä¸ªæ•° ä½†æ˜¯è¿™ä¸ªå±æ€§ä¹Ÿä¸æ€»æ˜¯å‡†ç¡®çš„ åœ¨å‡½æ•°å‚æ•°æŒ‡å®šé»˜è®¤å€¼å è¿™ä¸ªå‚æ•°å°±ä¸ä¼šè¢« length è€ƒè™‘å…¶ä¸­</p>
<h4 id="name"><a href="#name" class="headerlink" title="name"></a>name</h4><p>å‡½æ•°çš„ name å±æ€§ï¼Œè¿”å›è¯¥å‡½æ•°çš„å‡½æ•°å</p>
<h3 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h3><p>å¦‚æœç®­å¤´å‡½æ•°ç›´æ¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¿…é¡»åœ¨å¯¹è±¡å¤–é¢åŠ ä¸Šæ‹¬å·</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> getTempItem = <span class="function">(<span class="params">id</span>) =&gt;</span> (&#123; <span class="attr">id</span>: id, <span class="attr">name</span>: <span class="string">&#x27;Temp&#x27;</span> &#125;);</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ1ï¼‰å‡½æ•°ä½“å†…çš„ this å¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚</p>
<p>ï¼ˆ2ï¼‰ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨ new å‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p>
<p>ï¼ˆ3ï¼‰ä¸å¯ä»¥ä½¿ç”¨ arguments å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨ rest å‚æ•°ä»£æ›¿ã€‚</p>
<p>ï¼ˆ4ï¼‰ä¸å¯ä»¥ä½¿ç”¨ yield å‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°ã€‚</p>
<h2 id="æ•°ç»„çš„æ‰©å±•"><a href="#æ•°ç»„çš„æ‰©å±•" class="headerlink" title="æ•°ç»„çš„æ‰©å±•"></a>æ•°ç»„çš„æ‰©å±•</h2><h3 id="ES6-æ˜ç¡®å°†ç©ºä½è½¬ä¸º-undefined"><a href="#ES6-æ˜ç¡®å°†ç©ºä½è½¬ä¸º-undefined" class="headerlink" title="ES6 æ˜ç¡®å°†ç©ºä½è½¬ä¸º undefined"></a>ES6 æ˜ç¡®å°†ç©ºä½è½¬ä¸º undefined</h3><h3 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from"></a>Array.from</h3><p>è¿˜å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œä½œç”¨ç±»ä¼¼äºæ•°ç»„çš„ map æ–¹æ³•ï¼Œç”¨æ¥å¯¹æ¯ä¸ªå…ƒç´ è¿›è¡Œå¤„ç†ï¼Œå°†å¤„ç†åçš„å€¼æ”¾å…¥è¿”å›çš„æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: <span class="number">10</span> &#125;, <span class="function">(<span class="params">item, idx</span>) =&gt;</span> idx + <span class="number">1</span>); <span class="comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></span><br></pre></td></tr></table></figure>

<h3 id="æ”¹å˜æ•°ç»„è‡ªèº«çš„æ–¹æ³•"><a href="#æ”¹å˜æ•°ç»„è‡ªèº«çš„æ–¹æ³•" class="headerlink" title="æ”¹å˜æ•°ç»„è‡ªèº«çš„æ–¹æ³•"></a>æ”¹å˜æ•°ç»„è‡ªèº«çš„æ–¹æ³•</h3><img src="https://gitee.com/LuckyChou/blog-images/raw/master/js/data-type/array.png" />

<h2 id="å¯¹è±¡çš„æ‰©å±•"><a href="#å¯¹è±¡çš„æ‰©å±•" class="headerlink" title="å¯¹è±¡çš„æ‰©å±•"></a>å¯¹è±¡çš„æ‰©å±•</h2><h3 id="å±æ€§åè¡¨è¾¾å¼"><a href="#å±æ€§åè¡¨è¾¾å¼" class="headerlink" title="å±æ€§åè¡¨è¾¾å¼"></a>å±æ€§åè¡¨è¾¾å¼</h3><p>ES6 å æ”¯æŒ å±æ€§åæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  [<span class="keyword">new</span> <span class="built_in">Date</span>()]: <span class="string">&#x27;welcome&#x27;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign"></a>Object.assign</h3><p>Object.assign åŒåå±æ€§ä¼šè¢«åè€…è¦†ç›–è€Œä¸æ˜¯åˆå¹¶</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Object</span>.assign([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]); <span class="comment">// [4, 5, 3]</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ç®€åŒ–æ“ä½œ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Object</span>.assign(SomeClass.prototype, &#123;</span><br><span class="line"><span class="function"><span class="title">someMethod</span>(<span class="params">arg1, arg2</span>)</span> &#123;</span><br><span class="line">Â·Â·Â·</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">anotherMethod</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â·Â·Â·</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// ç­‰åŒäºä¸‹é¢çš„å†™æ³•</span></span><br><span class="line">SomeClass.prototype.someMethod = <span class="function"><span class="keyword">function</span> (<span class="params">arg1, arg2</span>) </span>&#123;</span><br><span class="line">Â·Â·Â·</span><br><span class="line">&#125;;</span><br><span class="line">SomeClass.prototype.anotherMethod = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">Â·Â·Â·</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="Object-fromEntries"><a href="#Object-fromEntries" class="headerlink" title="Object.fromEntries"></a>Object.fromEntries</h3><p>Object.fromEntries()æ–¹æ³•æ˜¯ Object.entries()çš„é€†æ“ä½œï¼Œç”¨äºå°†ä¸€ä¸ªé”®å€¼å¯¹æ•°ç»„è½¬ä¸ºå¯¹è±¡ã€‚<br>è¯¥æ–¹æ³•çš„ä¸»è¦ç›®çš„ï¼Œæ˜¯å°†é”®å€¼å¯¹çš„æ•°æ®ç»“æ„è¿˜åŸä¸ºå¯¹è±¡ï¼Œå› æ­¤ç‰¹åˆ«é€‚åˆå°† Map ç»“æ„è½¬ä¸ºå¯¹è±¡ã€‚</p>
<h2 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h2><p>Symbol æ— æ³•è¢«éšå¼çš„è½¬æ¢æˆå­—ç¬¦ä¸² å¦‚ä¸‹ä»£ç ä¼šæŠ¥é”™</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> symbol = <span class="built_in">Symbol</span>(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line">symbol + <span class="string">&#x27;world; // Uncaught TypeError: Cannot convert a Symbol value to a string</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å¯ä»¥æ˜¾ç¤ºçš„è½¬æ¢ä¸º string å’Œ å¸ƒå°”å€¼ æ— æ³•è½¬æ¢æˆæ•°å­—</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">symbol.toString(); <span class="comment">// &quot;Symbol(hello)&quot;</span></span><br><span class="line">!!symbol; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="Symbol-prototype-description"><a href="#Symbol-prototype-description" class="headerlink" title="Symbol.prototype.description"></a>Symbol.prototype.description</h3><p>è¿”å›æè¿°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> sym = <span class="built_in">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line">sym.description; <span class="comment">// &quot;foo&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Symbol-for-Symbol-keyFor"><a href="#Symbol-for-Symbol-keyFor" class="headerlink" title="Symbol.for / Symbol.keyFor"></a>Symbol.for / Symbol.keyFor</h3><p>éå¸¸é€‚åˆå•ä¾‹æ¨¡å¼</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿”å›ä¸€ä¸ªå·²ç™»è®°çš„Symbol å¦‚æœæ²¡æœ‰ç™»è®°å°±æ³¨å†Œä¸€ä¸ª</span></span><br><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">Symbol</span>.for(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> s2 = <span class="built_in">Symbol</span>.for(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line">s1 === s2; <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›ä¸€ä¸ªå·²ç™»è®° Symbol çš„ key</span></span><br><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">Symbol</span>.for(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"><span class="built_in">Symbol</span>.keyFor(s1); <span class="comment">// &quot;foo&quot;</span></span><br><span class="line"><span class="keyword">let</span> s2 = <span class="built_in">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line"><span class="built_in">Symbol</span>.keyFor(s2); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<h3 id="æ¶ˆé™¤é­”æ³•å­—ç¬¦ä¸²"><a href="#æ¶ˆé™¤é­”æ³•å­—ç¬¦ä¸²" class="headerlink" title="æ¶ˆé™¤é­”æ³•å­—ç¬¦ä¸²"></a>æ¶ˆé™¤é­”æ³•å­—ç¬¦ä¸²</h3><h2 id="Set-Map"><a href="#Set-Map" class="headerlink" title="Set / Map"></a>Set / Map</h2><p>ES6 æä¾›äº†æ–°çš„æ•°æ®ç»“æ„ Set / Map æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„</p>
<p>å†…éƒ¨ä½¿ç”¨ç²¾ç¡®ç›¸ç­‰ NaN ä¼šç­‰äºè‡ªèº« +0 å’Œ-0 éƒ½ä¼šå˜æˆ 0</p>
<h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><ul>
<li><p>size -&gt; é•¿åº¦</p>
</li>
<li><p>add æ·»åŠ  -&gt; Set / Map é“¾å¼è°ƒç”¨</p>
</li>
<li><p>delete åˆ é™¤ -&gt; boolean</p>
</li>
<li><p>clear æ¸…ç©º -&gt; void</p>
</li>
<li><p>has -&gt; boolean</p>
</li>
</ul>
<h3 id="WeakSet-WeakMap"><a href="#WeakSet-WeakMap" class="headerlink" title="WeakSet / WeakMap"></a>WeakSet / WeakMap</h3><ul>
<li><p>æˆå‘˜ / é”®åå¿…é¡»æ˜¯å¯¹è±¡</p>
</li>
<li><p>è¿™äº›å¯¹è±¡éƒ½æ˜¯å¼±å¼•ç”¨ å¦‚æœå…¶ä»–å¯¹è±¡éƒ½ä¸å†å¼•ç”¨è¯¥å¯¹è±¡ï¼Œé‚£ä¹ˆåƒåœ¾å›æ”¶æœºåˆ¶ä¼šè‡ªåŠ¨å›æ”¶è¯¥å¯¹è±¡æ‰€å ç”¨çš„å†…</p>
</li>
</ul>
<h2 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h2><p>Proxy å¯ä»¥ç†è§£æˆï¼Œåœ¨ç›®æ ‡å¯¹è±¡ä¹‹å‰æ¶è®¾ä¸€å±‚â€œæ‹¦æˆªâ€ï¼Œå¤–ç•Œå¯¹è¯¥å¯¹è±¡çš„è®¿é—®ï¼Œéƒ½å¿…é¡»å…ˆé€šè¿‡è¿™å±‚æ‹¦æˆªï¼Œå› æ­¤æä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥å¯¹å¤–ç•Œçš„è®¿é—®è¿›è¡Œè¿‡æ»¤å’Œæ”¹å†™</p>
<p>Proxy è¿™ä¸ªè¯çš„åŸæ„æ˜¯ä»£ç†ï¼Œç”¨åœ¨è¿™é‡Œè¡¨ç¤ºç”±å®ƒæ¥â€œä»£ç†â€æŸäº›æ“ä½œï¼Œå¯ä»¥è¯‘ä¸ºâ€œä»£ç†å™¨â€</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> handler = &#123;</span><br><span class="line">  <span class="function"><span class="title">set</span>(<span class="params">obj, prop, value</span>)</span> &#123;</span><br><span class="line">    obj[prop] = value;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;prop&#125;</span>å±æ€§çš„setæ–¹æ³•æ‰§è¡Œäº†`</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">get</span>(<span class="params">obj, prop</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;prop&#125;</span>å±æ€§çš„getæ–¹æ³•æ‰§è¡Œäº†`</span>);</span><br><span class="line">    <span class="keyword">return</span> obj[prop];</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">has</span>(<span class="params">obj, key</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;hasæ–¹æ³•æ‰§è¡Œäº†&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Proxy</span>(&#123;&#125;, handler);</span><br><span class="line">obj.name = <span class="string">&#x27;chou&#x27;</span>;</span><br><span class="line">obj.age = <span class="number">18</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;name&#x27;</span> <span class="keyword">in</span> obj);</span><br><span class="line"><span class="comment">// output</span></span><br><span class="line"><span class="comment">// nameå±æ€§çš„setæ–¹æ³•æ‰§è¡Œäº†</span></span><br><span class="line"><span class="comment">// ageå±æ€§çš„setæ–¹æ³•æ‰§è¡Œäº†</span></span><br><span class="line"><span class="comment">// nameå±æ€§çš„getæ–¹æ³•æ‰§è¡Œäº†</span></span><br><span class="line"><span class="comment">// chou</span></span><br><span class="line"><span class="comment">// hasæ–¹æ³•æ‰§è¡Œäº†</span></span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h2 id="Reflect"><a href="#Reflect" class="headerlink" title="Reflect"></a>Reflect</h2><h3 id="Reflect-ownKeys"><a href="#Reflect-ownKeys" class="headerlink" title="Reflect.ownKeys"></a>Reflect.ownKeys</h3><p>Reflect.ownKeys æ–¹æ³•ç”¨äºè¿”å›å¯¹è±¡çš„æ‰€æœ‰å±æ€§ï¼ŒåŸºæœ¬ç­‰åŒäº Object.getOwnPropertyNames ä¸ Object.getOwnPropertySymbols ä¹‹å’Œ</p>
<h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><h3 id="Promise-allSettled"><a href="#Promise-allSettled" class="headerlink" title="Promise.allSettled"></a>Promise.allSettled</h3><p>åœ¨æ‰€æœ‰å¼‚æ­¥æ“ä½œéƒ½æ‰§è¡Œå®Œæ¯•å æ‰§è¡Œçš„å›è°ƒ</p>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¸å…³å¿ƒå¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œåªå…³å¿ƒè¿™äº›æ“ä½œæœ‰æ²¡æœ‰ç»“æŸã€‚</p>
<p>è¿™æ—¶ï¼ŒPromise.allSettled()æ–¹æ³•å°±å¾ˆæœ‰ç”¨ã€‚å¦‚æœæ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œæƒ³è¦ç¡®ä¿æ‰€æœ‰æ“ä½œéƒ½ç»“æŸï¼Œå°±å¾ˆéº»çƒ¦ã€‚Promise.all()æ–¹æ³•æ— æ³•åšåˆ°è¿™ä¸€ç‚¹ã€‚</p>
<h2 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">helloWorldGenerator</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">&#x27;world&#x27;</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;ending&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> hw = helloWorldGenerator();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(hw.next()); <span class="comment">// &#123; value: &#x27;hello&#x27;, done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(hw.next()); <span class="comment">// &#123; value: &#x27;world&#x27;, done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(hw.next()); <span class="comment">// &#123; value: &#x27;ending&#x27;, done: true &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(hw.next()); <span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="Generator-ä¸çŠ¶æ€æœº-çœŸçš„éå¸¸ä¼˜é›…"><a href="#Generator-ä¸çŠ¶æ€æœº-çœŸçš„éå¸¸ä¼˜é›…" class="headerlink" title="Generator ä¸çŠ¶æ€æœº (çœŸçš„éå¸¸ä¼˜é›…)"></a>Generator ä¸çŠ¶æ€æœº (çœŸçš„éå¸¸ä¼˜é›…)</h3><p>ä¼ ç»Ÿçš„ Tick Tock çŠ¶æ€æœº ï¼ˆä¼šå—åˆ°å¤–éƒ¨ ticking çŠ¶æ€çš„å½±å“ï¼‰</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> ticking = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> clock = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (ticking) <span class="built_in">console</span>.log(<span class="string">&#x27;Tick!&#x27;</span>);</span><br><span class="line">  <span class="keyword">else</span> <span class="built_in">console</span>.log(<span class="string">&#x27;Tock!&#x27;</span>);</span><br><span class="line">  ticking = !ticking;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ generator å‡½æ•°æ”¹é€ </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> clock = <span class="function"><span class="keyword">function</span>* (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Tick!&#x27;</span>);</span><br><span class="line">    <span class="keyword">yield</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Tock!&#x27;</span>);</span><br><span class="line">    <span class="keyword">yield</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript äº‹ä»¶</title>
    <url>/FE/JS/event/</url>
    <content><![CDATA[<h2 id="JS-äº‹ä»¶çš„ä¸‰ä¸ªé˜¶æ®µ"><a href="#JS-äº‹ä»¶çš„ä¸‰ä¸ªé˜¶æ®µ" class="headerlink" title="JS äº‹ä»¶çš„ä¸‰ä¸ªé˜¶æ®µ"></a>JS äº‹ä»¶çš„ä¸‰ä¸ªé˜¶æ®µ</h2><h3 id="æ•è·"><a href="#æ•è·" class="headerlink" title="æ•è·"></a>æ•è·</h3><h3 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><h3 id="å†’æ³¡"><a href="#å†’æ³¡" class="headerlink" title="å†’æ³¡"></a>å†’æ³¡</h3><a id="more"></a>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>event<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.father</span> &#123;</span></span><br><span class="line">      width: 500px;</span><br><span class="line">      height: 500px;</span><br><span class="line"><span class="css">      <span class="selector-tag">background</span>: <span class="selector-id">#ccc</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="selector-class">.son</span> &#123;</span></span><br><span class="line">      width: 200px;</span><br><span class="line">      height: 200px;</span><br><span class="line"><span class="css">      <span class="selector-tag">background</span>: <span class="selector-id">#888</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.father&#x27;</span>).onclick = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;Father&quot;</span>)</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(e.target)</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.son&#x27;</span>).onclick = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;Son&quot;</span>)</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(e.target)</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.body.onclick = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;Body&quot;</span>)</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(e.target)</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.documentElement.onclick = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;Html&quot;</span>)</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(e.target)</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ä¾‹å­ æˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªdiv åˆ†åˆ«æ˜¯ çˆ¶ç›’å­ å’Œ å­ç›’å­</p>
<p>æ•ˆæœå›¾å¦‚ä¸‹</p>
<img src="https://gitee.com/LuckyChou/blog-images/raw/master/js/event.gif" alt="Event Table" style="zoom:80%;" />

<p>ç°åœ¨ æˆ‘ä»¬è¦æœ‰ä¸€ä¸ªæ¸…æ™°çš„å±‚çº§å…³ç³»</p>
<p>è‡ªåº•å‘ä¸Š åˆ†åˆ«ä¸º son&gt;father&gt;body&gt;html</p>
<p>ç°åœ¨ æˆ‘ä»¬ç‚¹å‡»å­ç›’å­ è§¦å‘å­ç›’å­çš„ç‚¹å‡»äº‹ä»¶</p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° ç‚¹å‡»äº‹ä»¶ åƒæ°”æ³¡ä¸€æ ·è‡ªåº•å‘ä¸Š  ä¼ é€’åˆ°äº†é¡¶éƒ¨</p>
<p>è¿™å°±æ˜¯äº‹ä»¶å†’æ³¡</p>
<p>åŒç† äº‹ä»¶æ•è· ä¸ºè‡ªé¡¶å‘ä¸‹ä¼ é€’äº‹ä»¶</p>
<hr />

<p>addEventListener(â€œclickâ€,function,â€trueâ€)æ–¹æ³•</p>
<p>è‹¥ç¬¬ä¸‰å‚æ•°ä¸ºtrue,åˆ™é‡‡ç”¨äº‹ä»¶æ•è·ã€‚è‹¥ä¸ºfalseï¼Œåˆ™é‡‡ç”¨äº‹ä»¶å†’æ³¡ã€‚</p>
<p>IEæµè§ˆå™¨ä¸æ”¯æŒäº‹ä»¶æ•è· åªæ”¯æŒäº‹ä»¶å†’æ³¡</p>
<h2 id="é˜»æ­¢äº‹ä»¶ä¼ æ’­"><a href="#é˜»æ­¢äº‹ä»¶ä¼ æ’­" class="headerlink" title="é˜»æ­¢äº‹ä»¶ä¼ æ’­"></a>é˜»æ­¢äº‹ä»¶ä¼ æ’­</h2><h3 id="é˜»æ­¢å†’æ³¡"><a href="#é˜»æ­¢å†’æ³¡" class="headerlink" title="é˜»æ­¢å†’æ³¡"></a>é˜»æ­¢å†’æ³¡</h3><p>åœ¨W3Cä¸­ï¼Œä½¿ç”¨stopPropagation()æ–¹æ³•</p>
<p>åœ¨IEä¸‹ä½¿ç”¨cancelBubble = trueæ–¹æ³•</p>
<h2 id="JS-äº‹ä»¶ä»£ç†"><a href="#JS-äº‹ä»¶ä»£ç†" class="headerlink" title="JS äº‹ä»¶ä»£ç†"></a>JS äº‹ä»¶ä»£ç†</h2><p>JSäº‹ä»¶å§”æ‰˜</p>
<p>åˆ©ç”¨äº‹ä»¶å†’æ³¡  ç”¨çˆ¶å…ƒç´ æ¥è§¦å‘æ¯ä¸ªå­å…ƒç´ çš„äº‹ä»¶</p>
<p>æˆ‘ä»¬è®¾æƒ³ä¸€ä¸ªåœºæ™¯  æœ‰äº”ä¸ªinputè¾“å…¥æ¡†</p>
<p>ç°åœ¨çš„éœ€æ±‚æ˜¯  æ¯å½“æœ‰ä¸€ä¸ªè¾“å…¥æ¡†è¢«è¾“å…¥äº†  æˆ‘ä»¬è¦çŸ¥é“æ˜¯å“ªä¸ªè¾“å…¥æ¡†</p>
<p>å¦‚æœä¸ç”¨äº‹ä»¶å§”æ‰˜  æˆ‘ä»¬ä¹Ÿå¯ä»¥å¾ˆè½»æ¾çš„è§£å†³é—®é¢˜   é‚£å°±æ˜¯ä¸ºæ¯ä¸ªinputç»‘å®šonchangeäº‹ä»¶</p>
<p>å¯æ˜¯è®¾æƒ³ä¸€ä¸‹ å¦‚æœæˆ‘ä»¬æœ‰å¤§é‡çš„è¾“å…¥æ¡†å‘¢ æ‰‹åŠ¨ç»‘å®šæ˜¾ç„¶å°±å˜å¾—ä¸åˆ‡å®é™…äº†</p>
<p>è¿™ä¸ªæ—¶å€™  æˆ‘ä»¬å°±å¯ä»¥ç”¨åˆ°äº‹ä»¶å§”æ‰˜äº†  ç»™çˆ¶å…ƒç´ ç»‘å®šonchangeäº‹ä»¶</p>
<p>åˆ©ç”¨äº‹ä»¶å†’æ³¡  è®©å­å…ƒç´ çš„äº‹ä»¶ä¼ é€’åˆ°çˆ¶å…ƒç´   æœ€ç»ˆåœ¨çˆ¶å…ƒç´ è§¦å‘äº‹ä»¶</p>
<p>ä»£ç   å’Œ  æ•ˆæœå›¾  å¦‚ä¸‹</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;_ul&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;1&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;2&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;3&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;4&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;5&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">&#x27;._ul&#x27;</span>).onchange = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e.target)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br />

<img src="https://gitee.com/LuckyChou/blog-images/raw/master/js/%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98.gif" alt="Event Table" style="zoom:80%;" />]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript è½®è¯¢æœºåˆ¶</title>
    <url>/FE/JS/event-loop/</url>
    <content><![CDATA[<h2 id="JavaScriptè½®è¯¢æœºåˆ¶"><a href="#JavaScriptè½®è¯¢æœºåˆ¶" class="headerlink" title="JavaScriptè½®è¯¢æœºåˆ¶"></a>JavaScriptè½®è¯¢æœºåˆ¶</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€æ®µä»£ç </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;******************** start *******************&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeout&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i)</span><br><span class="line">  &#125;</span><br><span class="line">  resolve()</span><br><span class="line">&#125;).then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Promise Success&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;******************** end *******************&#x27;</span>)</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>å¥½äº† ä¸Šé¢ç¨‹åºçš„æ‰§è¡Œç»“æœæ˜¯</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">******************** start *******************</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line">******************** end *******************</span><br><span class="line"><span class="built_in">Promise</span> Success</span><br><span class="line"><span class="built_in">setTimeout</span></span><br></pre></td></tr></table></figure>



<p>è€Œä¸”ä¸ç®¡å®šæ—¶å™¨å’Œpromiseè¯­å¥çš„é¡ºåºå¦‚ä½• æ‰§è¡Œç»“æœéƒ½ä¸ä¼šå‘ç”Ÿå˜åŒ–</p>
<p>ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ç§ç°è±¡å‘¢</p>
<h3 id="å¼•å…¥ï¼š"><a href="#å¼•å…¥ï¼š" class="headerlink" title="å¼•å…¥ï¼š"></a>å¼•å…¥ï¼š</h3><ul>
<li><p>Event Loop</p>
</li>
<li><p>Task  /  MicroTask</p>
</li>
</ul>
<h4 id="Event-Loop"><a href="#Event-Loop" class="headerlink" title="Event Loop"></a>Event Loop</h4><p>Event Loopå°±æ˜¯äº‹ä»¶å¾ªç¯ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“JavaScriptæ˜¯ä¸€é—¨å•çº¿ç¨‹è¯­è¨€ï¼Œè€Œä¾‹å¦‚Ajaxè¯·æ±‚éƒ½æ˜¯è€—æ—¶çš„æ“ä½œï¼Œä¸ºäº†é˜»æ­¢é¡µé¢å†»ç»“çš„æƒ…å†µï¼ŒJavaScriptæœ‰å¼‚æ­¥çš„è§£å†³æ–¹æ¡ˆï¼Œè€ŒEvent Loopå°±æ˜¯ä¸€ç§è§£å†³JavaScriptå•çº¿ç¨‹è¿è¡Œæ—¶ä¸ä¼šé˜»å¡çš„ä¸€ç§æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æåˆ°å¼‚æ­¥çš„åŸç†ã€‚</p>
<h4 id="Task"><a href="#Task" class="headerlink" title="Task"></a>Task</h4><p>Taské˜Ÿåˆ—åˆç§°å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå®ä»»åŠ¡é˜Ÿåˆ—å¯ä»¥æœ‰å¤šä¸ªï¼Œæ‰€æœ‰çš„JavaScriptä¸»çº¿ç¨‹ä¸Šçš„ä»£ç éƒ½åœ¨<strong>ç¬¬ä¸€ä¸ª</strong>å®ä»»åŠ¡é˜Ÿåˆ—ä¸Š</p>
<p>å®ä»»åŠ¡é˜Ÿåˆ—ä¸»è¦æ˜¯ï¼šæ•´ä½“ä»£ç <code>script</code>ï¼Œ<code>setTimeout</code>ï¼Œ<code>setInterval</code>ã€<code>I/O</code>ã€<code>UI render</code></p>
<h4 id="MicroTask"><a href="#MicroTask" class="headerlink" title="MicroTask"></a>MicroTask</h4><p>MicroTaské˜Ÿåˆ—åˆç§°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ³¨æ„ï¼Œå’Œå®ä»»åŠ¡é˜Ÿåˆ—ä¸åŒçš„æ˜¯ï¼Œå¾®ä»»åŠ¡é˜Ÿåˆ—åªæœ‰ä¸€ä¸ªã€‚</p>
<p>å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸»è¦æ˜¯ï¼š<code>Promise</code>ã€<code>Object.observe</code>ã€<code>MutationObserver</code></p>
<p>æœ‰äº†è¿™äº›çŸ¥è¯†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥æ­£å¼è®²è®²JSè½®è¯¢æœºåˆ¶äº†</p>
<hr>
<h3 id="JSè½®è¯¢æœºåˆ¶"><a href="#JSè½®è¯¢æœºåˆ¶" class="headerlink" title="JSè½®è¯¢æœºåˆ¶"></a>JSè½®è¯¢æœºåˆ¶</h3><p>JSçš„æ‰§è¡Œæœºåˆ¶(ä¸€)ï¼š</p>
<ol>
<li><p>é¦–å…ˆåˆ¤æ–­JSæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥,åŒæ­¥å°±è¿›å…¥ä¸»è¿›ç¨‹,å¼‚æ­¥å°±è¿›å…¥event table</p>
</li>
<li><p>å¼‚æ­¥ä»»åŠ¡åœ¨event tableä¸­æ³¨å†Œå‡½æ•°,å½“æ»¡è¶³è§¦å‘æ¡ä»¶å,è¢«æ¨å…¥event queue</p>
</li>
<li><p>åŒæ­¥ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹åä¸€ç›´æ‰§è¡Œ,ç›´åˆ°ä¸»çº¿ç¨‹ç©ºé—²æ—¶,æ‰ä¼šå»event queueä¸­æŸ¥çœ‹æ˜¯å¦æœ‰å¯æ‰§è¡Œçš„å¼‚æ­¥ä»»åŠ¡,å¦‚æœæœ‰å°±æ¨å…¥ä¸»è¿›ç¨‹ä¸­ï¼ˆæ‰€ä»¥å›è°ƒå‡½æ•°ä¹Ÿè¢«ç§°ä¸ºé’©å­å‡½æ•°ï¼‰</p>
</li>
</ol>
<p>JSçš„æ‰§è¡Œæœºåˆ¶(äºŒ)</p>
<ol>
<li>æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡,è¿‡ç¨‹ä¸­å¦‚æœé‡åˆ°å¾®ä»»åŠ¡,å°±å°†å…¶æ”¾åˆ°å¾®ä»»åŠ¡çš„ã€äº‹ä»¶é˜Ÿåˆ—ã€‘é‡Œ</li>
<li>å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œæˆå,ä¼šæŸ¥çœ‹å¾®ä»»åŠ¡çš„ã€äº‹ä»¶é˜Ÿåˆ—ã€‘,å¹¶å°†é‡Œé¢å…¨éƒ¨çš„å¾®ä»»åŠ¡ä¾æ¬¡æ‰§è¡Œå®Œ</li>
</ol>
<img src="https://gitee.com/LuckyChou/blog-images/raw/master/js/event.png" alt="Event Table" style="zoom:80%;" />



<img src="https://gitee.com/LuckyChou/blog-images/raw/master/js/event%20table.png" style="zoom:80%;" />





<p>å¥½äº†ï¼Œæœ€åæˆ‘ä»¬å†åˆ†æä¸€ä¸‹ä¸€å¼€å§‹çš„é‚£æ®µä»£ç </p>
<p>ç¬¬ä¸€ä¸ªå®ä»»åŠ¡é˜Ÿåˆ—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">console.log(&#39;******************** start *******************&#39;)</span><br><span class="line"></span><br><span class="line">for (var i &#x3D; 0; i &lt; 5; i++) &#123;</span><br><span class="line">    console.log(i)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">console.log(&#39;******************** end *******************&#39;)</span><br></pre></td></tr></table></figure>



<p>ç¬¬äºŒä¸ªå®ä»»åŠ¡é˜Ÿåˆ—</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&#39;setTimeout&#39;)</span><br><span class="line">&#125;, 0)</span><br></pre></td></tr></table></figure>



<p>å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆæ³¨ï¼šåªæœ‰ä¸€ä¸ªï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.then(() &#x3D;&gt; &#123;</span><br><span class="line">  console.log(&#39;Promise Success&#39;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript Function</title>
    <url>/FE/JS/function/</url>
    <content><![CDATA[<h2 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h2><ul>
<li><p>å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘</p>
<ul>
<li>ç”±äºå‡½æ•°ä¸å…¶ä»–æ•°æ®ç±»å‹åœ°ä½å¹³ç­‰ï¼Œæ‰€ä»¥åœ¨ js ä¸­åˆç§°å‡½æ•°ä¸ºç¬¬ä¸€å…¬æ°‘</li>
</ul>
</li>
<li><p>function å£°æ˜çš„å‡½æ•°å­˜åœ¨å˜é‡æå‡</p>
<ul>
<li>function foo() {â€¦â€¦}</li>
</ul>
</li>
<li><p>å‡½æ•°è¡¨è¾¾å¼ä¸å­˜åœ¨å˜é‡æå‡</p>
<ul>
<li>var foo = function() {â€¦â€¦}</li>
</ul>
</li>
</ul>
<a id="more"></a>

<h3 id="å‡½æ•°çš„å±æ€§å’Œæ–¹æ³•"><a href="#å‡½æ•°çš„å±æ€§å’Œæ–¹æ³•" class="headerlink" title="å‡½æ•°çš„å±æ€§å’Œæ–¹æ³•"></a>å‡½æ•°çš„å±æ€§å’Œæ–¹æ³•</h3><p>name è¿”å›å‡½æ•°çš„åå­—</p>
<p>length è¿”å›å‡½æ•°é¢„è®¡å‚æ•°çš„ä¸ªæ•°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = <span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(foo.name);  <span class="comment">// foo</span></span><br><span class="line"><span class="built_in">console</span>.log(foo.length); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h3 id="å‡½æ•°ä½œç”¨åŸŸ"><a href="#å‡½æ•°ä½œç”¨åŸŸ" class="headerlink" title="å‡½æ•°ä½œç”¨åŸŸ"></a>å‡½æ•°ä½œç”¨åŸŸ</h3><p>ES5 ä¸­ js åªæœ‰ä¸¤ç§ä½œç”¨åŸŸ</p>
<p>ä¸€ç§æ˜¯å…¨å±€ä½œç”¨åŸŸ</p>
<p>ä¸€ç§æ˜¯å‡½æ•°ä½œç”¨åŸŸ æ‰€ä»¥å‡½æ•°æ‹¥æœ‰è‡ªå·±çš„ä½œç”¨åŸŸ</p>
<ul>
<li><p>å‡½æ•°å†…éƒ¨çš„å˜é‡æå‡</p>
<ul>
<li><p>å£°æ˜çš„å˜é‡ä¼šæå‡åˆ°æ‰€åœ¨ä½œç”¨åŸŸçš„æœ€é¡¶éƒ¨</p>
</li>
<li><p>å‡½æ•°ä¼˜å…ˆ</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä»£ç å—</span></span><br><span class="line">printf()</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printf</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a)</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">123</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£ææˆ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printf</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="literal">undefined</span></span><br><span class="line">  <span class="built_in">console</span>.log(a)</span><br><span class="line">  a = <span class="number">123</span></span><br><span class="line">&#125;</span><br><span class="line">printf()</span><br></pre></td></tr></table></figure>

<ul>
<li>å‡½æ•°å¤–éƒ¨æ— æ³•è®¿é—®å‡½æ•°å†…éƒ¨çš„å˜é‡</li>
</ul>
<h3 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h3><ul>
<li><p>åŒåå‚æ•° åˆ™å–åé¢é‚£ä¸ª ï¼ˆES6 ä¸å…è®¸æœ‰åŒåå‚æ•°ï¼‰</p>
</li>
<li><p>arguments å¯¹è±¡</p>
<ul>
<li><p>åŒ…å«å‡½æ•°è¿è¡Œæ—¶æ‰€æœ‰çš„å‚æ•°</p>
</li>
<li><p>ä¼ªæ•°ç»„ ä¸æ˜¯çœŸæ­£çš„æ•°ç»„</p>
</li>
<li><p><code>arguments.length</code>å¯ä»¥è·å–å‚æ•°çš„ä¸ªæ•°</p>
</li>
</ul>
</li>
</ul>
<h3 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h3><p>é—­åŒ…å°±æ˜¯å°†å‡½æ•°å†…éƒ¨å’Œå‡½æ•°å¤–éƒ¨è¿æ¥èµ·æ¥çš„ä¸€åº§æ¡¥æ¢</p>
<ul>
<li>å¯ä»¥å»¶é•¿å˜é‡çš„ä½œç”¨åŸŸ</li>
</ul>
<h3 id="ç«‹å³è°ƒç”¨å‡½æ•°ï¼ˆIIFEï¼‰"><a href="#ç«‹å³è°ƒç”¨å‡½æ•°ï¼ˆIIFEï¼‰" class="headerlink" title="ç«‹å³è°ƒç”¨å‡½æ•°ï¼ˆIIFEï¼‰"></a>ç«‹å³è°ƒç”¨å‡½æ•°ï¼ˆIIFEï¼‰</h3><ul>
<li><p>å‡½æ•°æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ä½œç”¨åŸŸ å¯ä»¥è§£å†³å¤šä¸ª js æ–‡ä»¶ä¹‹é—´å˜é‡åå†²çªçš„é—®é¢˜</p>
<ul>
<li><p>æ³¨æ„</p>
<ul>
<li>ç»“å°¾æœ‰ï¼›</li>
</ul>
</li>
</ul>
</li>
<li><p>å½¢å¼</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å½¢å¼ä¸€</span></span><br><span class="line">;(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="comment">//å½¢å¼äºŒ</span></span><br><span class="line">;(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;)()</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript Mock.js</title>
    <url>/FE/JS/mock/</url>
    <content><![CDATA[<h3 id="ç”Ÿæˆéšæœº-json"><a href="#ç”Ÿæˆéšæœº-json" class="headerlink" title="ç”Ÿæˆéšæœº json"></a>ç”Ÿæˆéšæœº json</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Mock <span class="keyword">from</span> <span class="string">&#x27;mockjs&#x27;</span>;</span><br><span class="line"></span><br><span class="line">Mock.mock(&#123;</span><br><span class="line">  <span class="string">&#x27;string|1-10&#x27;</span>: <span class="string">&#x27;â˜…&#x27;</span>, <span class="comment">//éšæœºç”Ÿæˆ 1-10 ä¸ªå­—ç¬¦ä¸²&quot;â˜…&quot;</span></span><br><span class="line">  <span class="string">&#x27;string2|3&#x27;</span>: <span class="string">&#x27;â˜…&#x27;</span>, <span class="comment">//å›ºå®šç”Ÿæˆ 3 ä¸ªå­—ç¬¦ä¸²&quot;â˜…&quot;</span></span><br><span class="line">  <span class="string">&#x27;number|+1&#x27;</span>: <span class="number">202</span>, <span class="comment">//æ¯æ¬¡è¯·æ±‚è‡ªå¢ 1,åˆå§‹å€¼ä¸º 202</span></span><br><span class="line">  <span class="string">&#x27;number2|1-100.1-10&#x27;</span>: <span class="number">1</span>, <span class="comment">//ç”Ÿæˆä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œæ•´æ•°éƒ¨åˆ†1-100ï¼Œå°æ•°éƒ¨åˆ†ä¿ç•™1-10 ä½ã€‚ã€‚</span></span><br><span class="line">  <span class="string">&#x27;boolean|1-2&#x27;</span>: <span class="literal">true</span>, <span class="comment">//å€¼ä¸º true çš„æ¦‚ç‡æ˜¯ 1/(1+2)ï¼Œå€¼ä¸º false çš„æ¦‚ç‡åŒæ ·æ˜¯ 2/3ã€‚</span></span><br><span class="line">  regexp: <span class="regexp">/[a-z][A-Z][0-9]/</span>, <span class="comment">//éšæœºç”Ÿæˆæ»¡è¶³æ­£åˆ™çš„å­—ç¬¦ä¸²</span></span><br><span class="line">  <span class="string">&#x27;object|2&#x27;</span>: &#123;</span><br><span class="line">    <span class="number">310000</span>: <span class="string">&#x27;ä¸Šæµ·å¸‚&#x27;</span>,</span><br><span class="line">    <span class="number">320000</span>: <span class="string">&#x27;æ±Ÿè‹çœ&#x27;</span>,</span><br><span class="line">    <span class="number">440000</span>: <span class="string">&#x27;å¹¿ä¸œçœ&#x27;</span>,</span><br><span class="line">  &#125;, <span class="comment">//å¯¹è±¡ä¸­éšæœºé€‰å– 2 ä¸ªå±æ€§ï¼Œç”Ÿæˆå¯¹è±¡</span></span><br><span class="line">  <span class="string">&#x27;array|1&#x27;</span>: [<span class="string">&#x27;AMD&#x27;</span>, <span class="string">&#x27;CMD&#x27;</span>], <span class="comment">//æ•°ç»„ä¸­éšæœºé€‰å– 1 ä¸ªå…ƒç´ ï¼Œæœ€ç»ˆç”Ÿæˆå€¼</span></span><br><span class="line">  <span class="string">&#x27;arrayRepeat|3&#x27;</span>: [<span class="string">&#x27;AMD&#x27;</span>, <span class="string">&#x27;CMD&#x27;</span>], <span class="comment">//é‡å¤æ•°ç»„å…ƒç´  3 æ¬¡ï¼Œæœ€ç»ˆç”Ÿæˆæ•°ç»„</span></span><br><span class="line">  date: <span class="string">&#x27;@date&#x27;</span>, <span class="comment">//ç”Ÿæˆéšæœºæ—¥æœŸ</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h3 id="æ‹¦æˆªè¯·æ±‚-ï¼ˆä¸ä¼šçœŸçš„å‘é€è¯·æ±‚ï¼‰"><a href="#æ‹¦æˆªè¯·æ±‚-ï¼ˆä¸ä¼šçœŸçš„å‘é€è¯·æ±‚ï¼‰" class="headerlink" title="æ‹¦æˆªè¯·æ±‚ ï¼ˆä¸ä¼šçœŸçš„å‘é€è¯·æ±‚ï¼‰"></a>æ‹¦æˆªè¯·æ±‚ ï¼ˆä¸ä¼šçœŸçš„å‘é€è¯·æ±‚ï¼‰</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Mock <span class="keyword">from</span> <span class="string">&#x27;mockjs&#x27;</span>;</span><br><span class="line"></span><br><span class="line">Mock.mock(<span class="string">&#x27;/api&#x27;</span>, &#123;</span><br><span class="line">  <span class="string">&#x27;string|4&#x27;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&#x27;name1|2-9&#x27;</span>: <span class="string">&#x27;å“ˆ&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;name2|5&#x27;</span>: <span class="string">&#x27;å“ˆ&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&#x27;number|4&#x27;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&#x27;id|+1&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="string">&#x27;num1|2-9&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="string">&#x27;num2|1-100.1-10&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&#x27;boolean|4&#x27;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&#x27;success1|1&#x27;</span>: [<span class="string">&#x27;true&#x27;</span>, <span class="string">&#x27;false&#x27;</span>],</span><br><span class="line">      <span class="string">&#x27;success2|1&#x27;</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&#x27;obj|2&#x27;</span>: &#123;</span><br><span class="line">    name: <span class="string">&#x27;@cname&#x27;</span>,</span><br><span class="line">    region: <span class="string">&#x27;@region&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&#x27;Mock.Random|4&#x27;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      boo1: <span class="string">&#x27;@boolean&#x27;</span>,</span><br><span class="line">      img: <span class="string">&#x27;@image&#x27;</span>,</span><br><span class="line">      name: <span class="string">&#x27;@name&#x27;</span>,</span><br><span class="line">      color: <span class="string">&#x27;@color&#x27;</span>,</span><br><span class="line">      title: <span class="string">&#x27;@title&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript æ¨¡å—åŒ–</title>
    <url>/FE/JS/modular/</url>
    <content><![CDATA[<h2 id="commonjs"><a href="#commonjs" class="headerlink" title="commonjs"></a>commonjs</h2><p>require / exports</p>
<a id="more"></a>

<h3 id="exports"><a href="#exports" class="headerlink" title="exports"></a>exports</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Tool = &#123;</span><br><span class="line">  agent: &#123;</span><br><span class="line">    getActivityList: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;activityList...&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    updateActivityList: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;updateActivityList...&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  serve: &#123;</span><br><span class="line">    sendMeg: <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(data)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.Tool = Tool</span><br></pre></td></tr></table></figure>

<h3 id="require"><a href="#require" class="headerlink" title="require"></a>require</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; Tool &#125; = <span class="built_in">require</span>(<span class="string">&#x27;./commonjs exports&#x27;</span>)</span><br><span class="line"></span><br><span class="line">Tool.serve.sendMeg(<span class="string">&#x27;Hello&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(Tool.agent.getActivityList)</span><br></pre></td></tr></table></figure>

<h2 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h2><h3 id="export"><a href="#export" class="headerlink" title="export"></a>export</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Tool = &#123;</span><br><span class="line">  agent: &#123;</span><br><span class="line">    getActivityList: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;activityList...&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    updateActivityList: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;updateActivityList...&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  serve: &#123;</span><br><span class="line">    sendMeg: <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(data)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Tool</span><br></pre></td></tr></table></figure>

<h3 id="require-1"><a href="#require-1" class="headerlink" title="require"></a>require</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>ES6 Module<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">import</span> Tool <span class="keyword">from</span> <span class="string">&#x27;./ES6 export.js&#x27;</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(Tool)</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æµè§ˆå™¨è¿˜æœªå¾ˆå¥½çš„æ”¯æŒES6 Module</p>
<p>scriptæ ‡ç­¾é»˜è®¤typeå±æ€§ä¸ºjavascript</p>
<p>åœ¨å¼•å…¥moduleæ—¶ éœ€è¦å‘ŠçŸ¥æµè§ˆå™¨è¿™æ˜¯module</p>
]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript æ•°æ®ç±»å‹</title>
    <url>/FE/JS/data-type/</url>
    <content><![CDATA[<h2 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h2><ul>
<li><p>åŸºç¡€ç±»å‹å­˜å‚¨åœ¨æ ˆå†…å­˜ï¼Œè¢«å¼•ç”¨æˆ–æ‹·è´æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå®Œå…¨ç›¸ç­‰çš„å˜é‡</p>
</li>
<li><p>å¼•ç”¨ç±»å‹å­˜å‚¨åœ¨å †å†…å­˜ï¼Œå­˜å‚¨çš„æ˜¯åœ°å€ï¼Œå¤šä¸ªå¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼Œè¿™é‡Œä¼šæ¶‰åŠä¸€ä¸ªâ€œå…±äº«â€çš„æ¦‚å¿µ</p>
</li>
</ul>
<h3 id="åŸºæœ¬æ•°æ®ç±»å‹"><a href="#åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="åŸºæœ¬æ•°æ®ç±»å‹"></a>åŸºæœ¬æ•°æ®ç±»å‹</h3><ul>
<li><p>æ•°å€¼ï¼ˆnumberï¼‰</p>
</li>
<li><p>å­—ç¬¦ä¸²ï¼ˆstringï¼‰</p>
</li>
<li><p>å¸ƒå°”å€¼ï¼ˆbooleanï¼‰</p>
</li>
<li><p>undefined</p>
</li>
<li><p>null</p>
</li>
<li><p>symbol</p>
</li>
<li><p>bigInt</p>
</li>
</ul>
<h3 id="å¼•ç”¨æ•°æ®ç±»å‹"><a href="#å¼•ç”¨æ•°æ®ç±»å‹" class="headerlink" title="å¼•ç”¨æ•°æ®ç±»å‹"></a>å¼•ç”¨æ•°æ®ç±»å‹</h3><ul>
<li><p>å¯¹è±¡ï¼ˆObjectï¼‰</p>
<ul>
<li><p>æ­£åˆ™ï¼ˆRegExpï¼‰</p>
</li>
<li><p>æ•°ç»„ï¼ˆArrayï¼‰</p>
</li>
<li><p>å‡½æ•°ï¼ˆFunctionï¼‰</p>
</li>
<li><p>æ—¥æœŸï¼ˆDateï¼‰</p>
</li>
<li><p>æ•°å­¦å·¥å…·åº“ï¼ˆMathï¼‰</p>
</li>
</ul>
</li>
</ul>
<a id="more"></a>

<p>é¦–å…ˆæ˜ç¡®ä¸€ä¸ªç‚¹ åŸå§‹ç±»å‹ä¸­å­˜å‚¨çš„éƒ½æ˜¯å¯¹åº”çš„æ•°å€¼ æ˜¯æ²¡æœ‰æ–¹æ³•å¯ä»¥è°ƒç”¨çš„ æ¯”å¦‚ undefined.toString()</p>
<p>ä½†æ˜¯ä½ é¡ºç€è¿™ä¸ªæ€è·¯ å¦‚æœå»è°ƒç”¨ â€˜1â€™.toString() ä½ ä¼šå‘ç°è°ƒç”¨æˆåŠŸäº†</p>
<p>å› ä¸ºè¿™ç§æƒ…å†µä¸‹ â€˜1â€™å·²ç»è¢«å¼ºè½¬æˆäº† String ç±»å‹ æ‰€ä»¥å¯ä»¥è°ƒç”¨ toString æ–¹æ³•</p>
<h2 id="number"><a href="#number" class="headerlink" title="number"></a>number</h2><ul>
<li>js å†…éƒ¨ï¼Œæ‰€æœ‰æ•°å­—éƒ½æ˜¯ä»¥ 64 ä½æµ®ç‚¹æ•°å½¢å¼å‚¨å­˜ï¼Œæ‰€ä»¥ 1 === 1.0 ä¸º true å³ 1 å’Œ 1.0 æ˜¯åŒä¸€ä¸ªæ•°</li>
</ul>
<h3 id="å¸¸ç”¨æ–¹æ³•"><a href="#å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h3><ul>
<li><p>parseInt</p>
</li>
<li><p>parseFloat</p>
</li>
<li><p>isNaN</p>
</li>
<li><p>isFinite</p>
</li>
<li><p>isInteger</p>
</li>
</ul>
<h3 id="å¸¸ç”¨å±æ€§"><a href="#å¸¸ç”¨å±æ€§" class="headerlink" title="å¸¸ç”¨å±æ€§"></a>å¸¸ç”¨å±æ€§</h3><ul>
<li>EPSILON</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">0.4</span>;</span><br><span class="line"><span class="keyword">const</span> b = <span class="number">0.1</span>;</span><br><span class="line"><span class="keyword">const</span> c = <span class="number">0.3</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a - b === c); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.abs(a - b - c) &lt; <span class="built_in">Number</span>.EPSILON); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="ç‰¹æ®Šæ•°å€¼"><a href="#ç‰¹æ®Šæ•°å€¼" class="headerlink" title="ç‰¹æ®Šæ•°å€¼"></a>ç‰¹æ®Šæ•°å€¼</h3><ul>
<li><p>NaN ï¼ˆnot a numberï¼‰</p>
</li>
<li><p>+0 / -0</p>
</li>
<li><p>Infinite</p>
</li>
</ul>
<p>æœ¬è´¨ä¸Šè¿˜æ˜¯ number</p>
<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><ul>
<li>æ— æ³•æ”¹å˜å­—ç¬¦ä¸²ä¹‹ä¸­çš„å•ä¸ªå­—ç¬¦</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> username = chou;</span><br><span class="line">username[<span class="number">0</span>] = <span class="string">&#x27;z&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//usernameè¿˜æ˜¯chou</span></span><br></pre></td></tr></table></figure>

<h3 id="å¸¸ç”¨æ–¹æ³•-1"><a href="#å¸¸ç”¨æ–¹æ³•-1" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h3><ul>
<li><p>charAt</p>
<ul>
<li><p>è¿”å›æŒ‡å®šç´¢å¼•çš„å­—ç¬¦</p>
</li>
<li><p>å¦‚æœæŒ‡å®šçš„ index å€¼è¶…å‡ºäº†è¯¥èŒƒå›´ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²</p>
</li>
</ul>
</li>
<li><p>slice</p>
</li>
<li><p>split</p>
</li>
<li><p>trim / trimStart / trimEnd</p>
<ul>
<li>åˆ é™¤å­—ç¬¦ä¸²<strong>ä¸¤ä¾§</strong>çš„ç©ºç™½ å¤šç”¨äº input å»é™¤ç”¨æˆ·è¾“å…¥çš„ç©ºæ ¼</li>
</ul>
</li>
<li><p>includes</p>
</li>
<li><p>endsWith / startsWith</p>
</li>
<li><p>concat</p>
</li>
<li><p>indexOf</p>
<ul>
<li>è¿”å›ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•å€¼ æœªæ‰¾åˆ°è¿”å›-1</li>
</ul>
</li>
<li><p>padStart / pafEnd</p>
<ul>
<li>å¡«å……å­—ç¬¦ä¸²è¾¾åˆ°æŒ‡å®šé•¿åº¦</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;123&#x27;</span>.padEnd(<span class="string">&#x27;5&#x27;</span>, <span class="number">0</span>); <span class="comment">//12300</span></span><br><span class="line"><span class="string">&#x27;123&#x27;</span>.padStart(<span class="string">&#x27;5&#x27;</span>, <span class="number">0</span>); <span class="comment">//00123</span></span><br></pre></td></tr></table></figure>

<ul>
<li>repeat</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;1&#x27;</span>.repeat(<span class="number">5</span>); <span class="comment">//11111</span></span><br></pre></td></tr></table></figure>

<ul>
<li>toLowerCase / toUpperCase</li>
</ul>
<h2 id="boolean"><a href="#boolean" class="headerlink" title="boolean"></a>boolean</h2><table>
<thead>
<tr>
<th>åŸå§‹å€¼</th>
<th>è½¬æ¢ç›®æ ‡</th>
<th>ç»“æœ</th>
</tr>
</thead>
<tbody><tr>
<td>number</td>
<td>boolean</td>
<td>é™¤äº† -0 +0 NaN éƒ½æ˜¯ true</td>
</tr>
<tr>
<td>string</td>
<td>boolean</td>
<td>é™¤äº† ç©ºä¸² éƒ½æ˜¯ true</td>
</tr>
<tr>
<td>undefined / null</td>
<td>boolean</td>
<td>false</td>
</tr>
<tr>
<td>å¼•ç”¨ç±»å‹</td>
<td>boolean</td>
<td>true</td>
</tr>
</tbody></table>
<h2 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h2><ul>
<li><p>å¯¹è±¡å°±æ˜¯ä¸€ç»„é”®å€¼å¯¹ï¼ˆkey - valueï¼‰çš„é›†åˆ</p>
</li>
<li><p>å¯¹è±¡çš„é”®ä¼šè½¬æ¢ä¸º string ç±»å‹</p>
</li>
<li><p>å¯¹è±¡æ˜¯å¼•ç”¨ç±»å‹</p>
</li>
</ul>
<p>å…·ä½“å¯ä»¥å‚è€ƒ <a href="https://luckychou.gitee.io/FE/JS/object/">https://luckychou.gitee.io/FE/JS/object/</a></p>
<h2 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h2><ul>
<li><p>å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘</p>
<ul>
<li>ç”±äºå‡½æ•°ä¸å…¶ä»–æ•°æ®ç±»å‹åœ°ä½å¹³ç­‰ï¼Œæ‰€ä»¥åœ¨ js ä¸­åˆç§°å‡½æ•°ä¸ºç¬¬ä¸€å…¬æ°‘</li>
</ul>
</li>
</ul>
<p>å…·ä½“å¯ä»¥å‚è€ƒ <a href="https://luckychou.gitee.io/FE/JS/function/">https://luckychou.gitee.io/FE/JS/function/</a></p>
<h2 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h2><ul>
<li>æ•°ç»„æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡</li>
</ul>
<p>å…·ä½“å¯ä»¥å‚è€ƒ <a href="https://luckychou.gitee.io/FE/JS/array/">https://luckychou.gitee.io/FE/JS/array/</a></p>
<h2 id="undefined"><a href="#undefined" class="headerlink" title="undefined"></a>undefined</h2><ul>
<li><p>å¯¹è±¡æ²¡æœ‰è¿™ä¸ªå±æ€§åï¼Œå±æ€§å€¼é»˜è®¤å°±æ˜¯ undefined</p>
</li>
<li><p>å‡½æ•°å®šä¹‰å½¢å‚ä¸ä¼ å€¼ï¼Œé»˜è®¤å°±æ˜¯ undefined</p>
</li>
<li><p>åœ¨æ•°ç»„çš„ find æ–¹æ³•ä¸­ï¼Œæ²¡æœ‰æ‰¾åˆ°çš„æƒ…å†µä¸‹æ˜¯ undefined</p>
</li>
<li><p>å‡½æ•°å®šä¹‰æ²¡æœ‰è¿”å›å€¼ï¼ˆreturn æˆ–è€… return åé¢ä»€ä¹ˆä¹Ÿä¸å¸¦ï¼‰ï¼Œé»˜è®¤çš„è¿”å›å€¼å°±æ˜¯ undefined</p>
</li>
<li><p>åœ¨å˜é‡æå‡ï¼ˆé¢„è§£æï¼‰é˜¶æ®µï¼Œåªå£°æ˜æœªå®šä¹‰ï¼Œé»˜è®¤å€¼å°±æ˜¯ undefined</p>
</li>
<li><p>åœ¨ JS çš„ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ˆâ€use strictâ€ï¼‰ï¼Œæ²¡æœ‰æ˜ç¡®çš„ä¸»ä½“ï¼Œthis æŒ‡çš„å°±æ˜¯ undefined</p>
</li>
</ul>
<h2 id="null"><a href="#null" class="headerlink" title="null"></a>null</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span>; <span class="comment">// object</span></span><br></pre></td></tr></table></figure>

<h2 id="ç¡®å®šæ•°æ®ç±»å‹"><a href="#ç¡®å®šæ•°æ®ç±»å‹" class="headerlink" title="ç¡®å®šæ•°æ®ç±»å‹"></a>ç¡®å®šæ•°æ®ç±»å‹</h2><ul>
<li><p>typeof</p>
</li>
<li><p>instanceof</p>
</li>
<li><p>Object.prototype.toString</p>
</li>
</ul>
<h3 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h3><ul>
<li><p>ä½œç”¨äºåŸºç¡€æ•°æ®ç±»å‹æ—¶ é™¤äº† null ä¼šè¿”å› object å…¶ä»–éƒ½è¿”å›æ­£ç¡®çš„æ•°æ®ç±»å‹</p>
</li>
<li><p>ä½œç”¨äºå¼•ç”¨æ•°æ®ç±»å‹æ—¶ é™¤äº† function ä¼šè¿”å›æ­£ç¡®çš„æ•°æ®ç±»å‹æ—¶ å…¶ä»–éƒ½è¿”å› object</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> _undefined = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">const</span> _null = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">const</span> _number = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> _string = <span class="string">&#x27;chou&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> _boolean = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">const</span> _bigint = <span class="number">1n</span>;</span><br><span class="line"><span class="keyword">const</span> _symbol = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">const</span> _regexp = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;/w/g&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> _date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">const</span> _function = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> _array = [];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> _undefined);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> _null); <span class="comment">// è¿”å›object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> _number);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> _string);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> _boolean);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> _bigint);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> _symbol);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> _regexp);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> _date);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> _function); <span class="comment">// è¿”å›function</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> _array);</span><br></pre></td></tr></table></figure>

<h3 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h3><ul>
<li>é€šè¿‡ instanceof æˆ‘ä»¬èƒ½åˆ¤æ–­è¿™ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ä¹‹å‰é‚£ä¸ªæ„é€ å‡½æ•°ç”Ÿæˆçš„å¯¹è±¡</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> _regexp = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;/w/g&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> _date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">const</span> _function = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> _array = [];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(_regexp <span class="keyword">instanceof</span> <span class="built_in">RegExp</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(_date <span class="keyword">instanceof</span> <span class="built_in">Date</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(_function <span class="keyword">instanceof</span> <span class="built_in">Function</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(_array <span class="keyword">instanceof</span> <span class="built_in">Array</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>æ­¤å¤– number/boolean/string ä¹Ÿå¯ä»¥ç”¨å®ƒä»¬çš„æ„é€ å‡½æ•°æ¥åˆ›å»º</p>
<h3 id="Object-prototype-toString"><a href="#Object-prototype-toString" class="headerlink" title="Object.prototype.toString"></a>Object.prototype.toString</h3><p>å¯è§ ä¸Šè¿°ä¸¤ç§æ–¹æ³•éƒ½æ— æ³•å‡†ç¡®åˆ¤æ–­å‡ºæ¯ä¸€ç§æ•°æ®ç±»å‹ é‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥åˆ¤æ–­å‡ºæ‰€æœ‰çš„æ•°æ®ç±»å‹å‘¢</p>
<p>ç­”æ¡ˆå°±æ˜¯<code>Object.prototype.toString</code></p>
<p>ä¾‹å¦‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(<span class="literal">undefined</span>)); <span class="comment">// [object,Undefined]</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ª[object,xxx]çš„å­—ç¬¦ä¸² []ä¸­çš„åè€…å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ¯ä¸€ç§æ•°æ®ç±»å‹</p>
<p>æˆ‘ä»¬ç¨å¾®åŒ…è£…ä¸€ä¸‹æ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDataType</span>(<span class="params">type</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(type).slice(<span class="number">8</span>, -<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç‰¹æ®Šç±»å‹æ¯”è¾ƒ"><a href="#ç‰¹æ®Šç±»å‹æ¯”è¾ƒ" class="headerlink" title="ç‰¹æ®Šç±»å‹æ¯”è¾ƒ"></a>ç‰¹æ®Šç±»å‹æ¯”è¾ƒ</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str1 = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> str2 = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str1 == str2); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(str1 === str2); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span> == <span class="literal">null</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span> === <span class="literal">null</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">undefined</span> == <span class="literal">undefined</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">undefined</span> === <span class="literal">undefined</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> == <span class="literal">NaN</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> === <span class="literal">NaN</span>); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="regexp">/a/</span> == <span class="regexp">/a/</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="regexp">/a/</span> === <span class="regexp">/a/</span>); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(&#123;&#125; == &#123;&#125;); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(&#123;&#125; === &#123;&#125;); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log([] == []); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log([] === []); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h2 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h2><p>Symbol æ˜¯ä¸€ç§åŸå§‹æ•°æ®ç±»å‹ è¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> symbol1 = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">const</span> symbol2 = <span class="built_in">Symbol</span>();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(symbol1 === symbol2); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h2 id="BigInt"><a href="#BigInt" class="headerlink" title="BigInt"></a>BigInt</h2><p>BigInt å¯ä»¥è¡¨ç¤ºä»»æ„å¤§çš„æ•´æ•°</p>
<p>BigInt å’Œ Number ä¸èƒ½æ··åˆè¿ç®—</p>
<h2 id="å››ç»„è¿ç®—"><a href="#å››ç»„è¿ç®—" class="headerlink" title="å››ç»„è¿ç®—"></a>å››ç»„è¿ç®—</h2><p>åœ¨è¿›è¡Œå››åˆ™è¿ç®—çš„æ—¶å€™ éƒ½ä¼šè½¬æˆåŸºç¡€æ•°æ®ç±»å‹å†è¿›è¡Œè¿ç®—</p>
<h3 id="åŠ æ³•è¿ç®—ç¬¦"><a href="#åŠ æ³•è¿ç®—ç¬¦" class="headerlink" title="åŠ æ³•è¿ç®—ç¬¦"></a>åŠ æ³•è¿ç®—ç¬¦</h3><p>è¿ç®—ä¸­å…¶ä¸­ä¸€æ–¹ä¸ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå°±ä¼šæŠŠå¦ä¸€æ–¹ä¹Ÿè½¬æ¢ä¸ºå­—ç¬¦ä¸²</p>
<p>å¦‚æœä¸€æ–¹ä¸æ˜¯å­—ç¬¦ä¸²æˆ–è€…æ•°å­—ï¼Œé‚£ä¹ˆä¼šå°†å®ƒè½¬æ¢ä¸ºæ•°å­—æˆ–è€…å­—ç¬¦ä¸²</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> + <span class="string">&#x27;1&#x27;</span>; <span class="comment">// &#x27;11&#x27;</span></span><br><span class="line"><span class="literal">true</span> + <span class="literal">true</span>; <span class="comment">// 2</span></span><br><span class="line"><span class="number">4</span> + [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]; <span class="comment">// &quot;41,2,3&quot;</span></span><br><span class="line"><span class="string">&#x27;a&#x27;</span> + +<span class="string">&#x27;b&#x27;</span>; <span class="comment">//  &quot;aNaN&quot;</span></span><br></pre></td></tr></table></figure>

<p>é™¤äº†åŠ æ³•è¿ç®—ç¬¦ åªè¦å…¶ä¸­ä¸€æ–¹æ˜¯æ•°å­—ï¼Œé‚£ä¹ˆå¦ä¸€æ–¹å°±ä¼šè¢«è½¬ä¸ºæ•°å­—</p>
]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript Object</title>
    <url>/FE/JS/object/</url>
    <content><![CDATA[<p>JS ä¸­é™¤äº†åŸºç¡€ç±»å‹ å°±æ˜¯ Object ç±»å‹ è¿‘æœŸä¹Ÿæ‰“ç®—å†å­¦ä¹ ä¸€ä¸‹ Vue çš„å“åº”å¼åŸç†</p>
<p>æ— è®ºæ˜¯ Vue2 çš„ defineProperty è¿˜æ˜¯ Vue3 çš„ Proxy éƒ½æ˜¯å»ºç«‹åœ¨ Object çš„ api ä¸Šçš„</p>
<p>æ‰€ä»¥æœ¬ç¯‡ä¸»è¦æ˜¯ç›˜ç‚¹ä¸€ä¸‹ Object çš„ api æ›´è¯¦ç»†çš„æ–‡æ¡£è¯·ç§»æ­¥<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object">MDN</a></p>
<a id="more"></a>

<h3 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h3><ul>
<li>å¯¹è±¡å­—é¢é‡</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  name: <span class="string">&#x27;chou&#x27;</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>Object.create()</li>
</ul>
<p>ä½¿ç”¨ç°æœ‰çš„å¯¹è±¡æ¥æä¾›æ–°åˆ›å»ºçš„å¯¹è±¡çš„<strong>proto</strong></p>
<ul>
<li>new Object()</li>
</ul>
<h3 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h3><h4 id="Object-keys-obj"><a href="#Object-keys-obj" class="headerlink" title="Object.keys(obj)"></a>Object.keys(obj)</h4><p>è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§åç§°çš„æ•°ç»„</p>
<h4 id="Object-entries-obj"><a href="#Object-entries-obj" class="headerlink" title="Object.entries(obj)"></a>Object.entries(obj)</h4><p>è¿”å›ç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„ [key, value] æ•°ç»„</p>
<h4 id="Object-values-obj"><a href="#Object-values-obj" class="headerlink" title="Object.values(obj)"></a>Object.values(obj)</h4><p>è¿”å›ç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å€¼çš„æ•°ç»„</p>
<h4 id="Object-getOwnPropertyDescriptor-obj"><a href="#Object-getOwnPropertyDescriptor-obj" class="headerlink" title="Object.getOwnPropertyDescriptor(obj)"></a>Object.getOwnPropertyDescriptor(obj)</h4><p>è·å–ä¸€ä¸ªå±æ€§çš„ descriptor ï¼ˆåœ¨ defineProperty ä¸­å£°æ˜çš„ æœªå£°æ˜çš„ä¸ä¼šè¿”å›ï¼‰</p>
<h4 id="Object-getOwnPropertyNames-obj"><a href="#Object-getOwnPropertyNames-obj" class="headerlink" title="Object.getOwnPropertyNames(obj)"></a>Object.getOwnPropertyNames(obj)</h4><p>è¿”å›ä¸€ä¸ªç”±æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰è‡ªèº«å±æ€§çš„å±æ€§åï¼ˆåŒ…æ‹¬ä¸å¯æšä¸¾å±æ€§ä½†ä¸åŒ…æ‹¬ Symbol å€¼ä½œä¸ºåç§°çš„å±æ€§ï¼‰ç»„æˆçš„æ•°ç»„</p>
<h4 id="Object-getOwnPropertySymbols-obj"><a href="#Object-getOwnPropertySymbols-obj" class="headerlink" title="Object.getOwnPropertySymbols(obj)"></a>Object.getOwnPropertySymbols(obj)</h4><p>è¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«çš„æ‰€æœ‰ Symbol å±æ€§çš„æ•°ç»„</p>
<h4 id="Object-getPrototypeOf-obj"><a href="#Object-getPrototypeOf-obj" class="headerlink" title="Object.getPrototypeOf(obj)"></a>Object.getPrototypeOf(obj)</h4><p>è¿”å›æŒ‡å®šå¯¹è±¡çš„åŸå‹</p>
<h4 id="forâ€¦in"><a href="#forâ€¦in" class="headerlink" title="forâ€¦in"></a>forâ€¦in</h4><h3 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h3><ul>
<li>delete(obj.props)</li>
</ul>
<h3 id="æ‰©å……"><a href="#æ‰©å……" class="headerlink" title="æ‰©å……"></a>æ‰©å……</h3><h4 id="Object-defineProperty-obj"><a href="#Object-defineProperty-obj" class="headerlink" title="Object.defineProperty(obj)"></a>Object.defineProperty(obj)</h4><h4 id="Object-defineProperties-obj"><a href="#Object-defineProperties-obj" class="headerlink" title="Object.defineProperties(obj)"></a>Object.defineProperties(obj)</h4><ul>
<li><p>obj: è¦åœ¨å…¶ä¸Šå®šä¹‰å±æ€§çš„å¯¹è±¡ã€‚</p>
</li>
<li><p>prop: è¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„åç§°ã€‚</p>
</li>
<li><p>descriptor: å°†è¢«å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„æè¿°ç¬¦ã€‚</p>
<ul>
<li><p>value: ç›´æ¥ç»™è¿™ä¸ªå±æ€§èµ‹å€¼</p>
</li>
<li><p>writable: æ˜¯å¦å¯ä¿®æ”¹ é»˜è®¤ false</p>
</li>
<li><p>enumerable: æ˜¯å¦å¯æšä¸¾(éå†æ‹¿å€¼) é»˜è®¤ false</p>
</li>
<li><p>configurable: æ˜¯å¦å¯åˆ é™¤ é»˜è®¤ false</p>
</li>
<li><p>set</p>
</li>
<li><p>get</p>
</li>
</ul>
</li>
</ul>
<h4 id="Object-preventExtensions-obj"><a href="#Object-preventExtensions-obj" class="headerlink" title="Object.preventExtensions(obj)"></a>Object.preventExtensions(obj)</h4><p>è®©ä¸€ä¸ªå¯¹è±¡å˜çš„ä¸å¯æ‰©å±•ï¼Œä¹Ÿå°±æ˜¯æ°¸è¿œä¸èƒ½å†æ·»åŠ æ–°çš„å±æ€§</p>
<h4 id="Object-isExtensible-obj"><a href="#Object-isExtensible-obj" class="headerlink" title="Object.isExtensible(obj)"></a>Object.isExtensible(obj)</h4><p>åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å¯æ‰©å±•çš„ï¼ˆæ˜¯å¦å¯ä»¥åœ¨å®ƒä¸Šé¢æ·»åŠ æ–°çš„å±æ€§ï¼‰</p>
<h4 id="Object-freeze-obj"><a href="#Object-freeze-obj" class="headerlink" title="Object.freeze(obj)"></a>Object.freeze(obj)</h4><p>å†»ç»“ä¸€ä¸ªå¯¹è±¡ è¢«å†»ç»“åä¸èƒ½è¿›è¡Œä»»ä½•æ“ä½œ</p>
<p>ä¸èƒ½å‘è¿™ä¸ªå¯¹è±¡æ·»åŠ æ–°çš„å±æ€§ï¼Œä¸èƒ½åˆ é™¤å·²æœ‰å±æ€§ï¼Œä¸èƒ½ä¿®æ”¹è¯¥å¯¹è±¡å·²æœ‰å±æ€§çš„å¯æšä¸¾æ€§ã€å¯é…ç½®æ€§ã€å¯å†™æ€§ï¼Œä»¥åŠä¸èƒ½ä¿®æ”¹å·²æœ‰å±æ€§çš„å€¼ã€‚</p>
<p>æ­¤å¤–ï¼Œå†»ç»“ä¸€ä¸ªå¯¹è±¡åè¯¥å¯¹è±¡çš„åŸå‹ä¹Ÿä¸èƒ½è¢«ä¿®æ”¹ã€‚</p>
<h4 id="Object-isFrozen-obj"><a href="#Object-isFrozen-obj" class="headerlink" title="Object.isFrozen(obj)"></a>Object.isFrozen(obj)</h4><p>åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦è¢«å†»ç»“</p>
<h4 id="Object-seal-obj"><a href="#Object-seal-obj" class="headerlink" title="Object.seal(obj)"></a>Object.seal(obj)</h4><p>å°é—­ä¸€ä¸ªå¯¹è±¡ï¼Œé˜»æ­¢æ·»åŠ æ–°å±æ€§å¹¶å°†æ‰€æœ‰ç°æœ‰å±æ€§æ ‡è®°ä¸ºä¸å¯é…ç½®</p>
<h4 id="Object-isSealed-obj"><a href="#Object-isSealed-obj" class="headerlink" title="Object.isSealed(obj)"></a>Object.isSealed(obj)</h4><p>åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦è¢«å¯†å°</p>
<h4 id="Object-setPrototypeOf-obj-prototype"><a href="#Object-setPrototypeOf-obj-prototype" class="headerlink" title="Object.setPrototypeOf(obj, prototype)"></a>Object.setPrototypeOf(obj, prototype)</h4><p>è®¾ç½®ä¸€ä¸ªæŒ‡å®šçš„å¯¹è±¡çš„åŸå‹</p>
<blockquote>
<p>è­¦å‘Š: ç”±äºç°ä»£ JavaScript å¼•æ“ä¼˜åŒ–å±æ€§è®¿é—®æ‰€å¸¦æ¥çš„ç‰¹æ€§çš„å…³ç³»ï¼Œæ›´æ”¹å¯¹è±¡çš„ [[Prototype]]åœ¨å„ä¸ªæµè§ˆå™¨å’Œ JavaScript å¼•æ“ä¸Šéƒ½æ˜¯ä¸€ä¸ªå¾ˆæ…¢çš„æ“ä½œã€‚å…¶åœ¨æ›´æ”¹ç»§æ‰¿çš„æ€§èƒ½ä¸Šçš„å½±å“æ˜¯å¾®å¦™è€Œåˆå¹¿æ³›çš„ï¼Œè¿™ä¸ä»…ä»…é™äº obj.<strong>proto</strong> = â€¦ è¯­å¥ä¸Šçš„æ—¶é—´èŠ±è´¹ï¼Œè€Œä¸”å¯èƒ½ä¼šå»¶ä¼¸åˆ°ä»»ä½•ä»£ç ï¼Œé‚£äº›å¯ä»¥è®¿é—®ä»»ä½•[[Prototype]]å·²è¢«æ›´æ”¹çš„å¯¹è±¡çš„ä»£ç ã€‚å¦‚æœä½ å…³å¿ƒæ€§èƒ½ï¼Œä½ åº”è¯¥é¿å…è®¾ç½®ä¸€ä¸ªå¯¹è±¡çš„ [[Prototype]]ã€‚ç›¸åï¼Œä½ åº”è¯¥ä½¿ç”¨ Object.create()æ¥åˆ›å»ºå¸¦æœ‰ä½ æƒ³è¦çš„[[Prototype]]çš„æ–°å¯¹è±¡ã€‚</p>
</blockquote>
<h4 id="Object-getPrototypeOf-obj-1"><a href="#Object-getPrototypeOf-obj-1" class="headerlink" title="Object.getPrototypeOf(obj)"></a>Object.getPrototypeOf(obj)</h4><p>è·å–ä¸€ä¸ªæŒ‡å®šçš„å¯¹è±¡çš„åŸå‹</p>
<h3 id="å¤åˆ¶"><a href="#å¤åˆ¶" class="headerlink" title="å¤åˆ¶"></a>å¤åˆ¶</h3><h4 id="Object-assign-target-â€¦sources"><a href="#Object-assign-target-â€¦sources" class="headerlink" title="Object.assign(target, â€¦sources)"></a>Object.assign(target, â€¦sources)</h4><p>å°†æ‰€æœ‰<strong>å¯æšä¸¾å±æ€§</strong>çš„å€¼ä»ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡åˆ†é…åˆ°ç›®æ ‡å¯¹è±¡ã€‚å®ƒå°†è¿”å›ç›®æ ‡å¯¹è±¡ã€‚</p>
<p><strong>åªè¿›è¡Œç¬¬ä¸€å±‚çš„æ·±æ‹·è´</strong></p>
<h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><h4 id="Object-is-val1-val2"><a href="#Object-is-val1-val2" class="headerlink" title="Object.is(val1, val2)"></a>Object.is(val1, val2)</h4><p>ä¸ === è¿ç®—ç¬¦åŸºæœ¬ä¸€è‡´</p>
<p>åŒºåˆ«åœ¨äº === å°† -0 å’Œ +0 å½“ä½œä¸€æ · è€Œå°† NaN å’Œ NaN å½“ä½œä¸ä¸€æ ·</p>
]]></content>
      <categories>
        <category>JS</category>
      </categories>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript åŸå‹</title>
    <url>/FE/JS/prototype/</url>
    <content><![CDATA[<h2 id="prototype"><a href="#prototype" class="headerlink" title="prototype"></a>prototype</h2><p>åœ¨ES2019ä¸­ å¯¹äºprototypeçš„å®šä¹‰ä¸º</p>
<blockquote>
<p>ç»™å…¶å®ƒå¯¹è±¡æä¾›å…±äº«å±æ€§çš„å¯¹è±¡</p>
</blockquote>
<p>çœ‹å®Œå çªç„¶æƒ³åˆ°äº†ä¸€å¥è¯ Vueä¸­ä¸€åˆ‡ç»„ä»¶ç»§æ‰¿è‡ªVueçš„åŸå‹ </p>
<p>è¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆåœ¨æ¯ä¸ªç»„ä»¶ä¸­éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨Vueçš„ä¸€äº›æ–¹æ³• å› ä¸ºè¿™äº›æ–¹æ³•è¢«å†™åœ¨äº†Vueçš„åŸå‹ä¸Š</p>
<img src="https://gitee.com/LuckyChou/blog-images/raw/master/js/prototypeChain.png" />

<a id="more"></a>

<p>åŸå‹å¯¹è±¡è¢«åˆ›å»ºæ—¶ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª <code>constructor</code> å±æ€§ï¼ŒæŒ‡å‘åˆ›å»ºå®ƒçš„æ„é€ å‡½æ•°</p>
<p>æ„é€ å‡½æ•°çš„<code>prototype</code>æŒ‡å‘åŸå‹å¯¹è±¡</p>
<p>å®ä¾‹å¯¹è±¡çš„<code>__proto__</code>æŒ‡å‘åŸå‹å¯¹è±¡</p>
<p>ï¼ˆæ³¨ï¼‰å¦‚æœåœ¨MDNä¸ŠæŸ¥é˜…<code>__proto__</code>è¿™ä¸€å±æ€§ ä½ å¯ä»¥çœ‹åˆ°</p>
<blockquote>
<p>å·²åºŸå¼ƒ<br>è¯¥ç‰¹æ€§å·²ç»ä» Web æ ‡å‡†ä¸­åˆ é™¤ï¼Œè™½ç„¶ä¸€äº›æµè§ˆå™¨ç›®å‰ä»ç„¶æ”¯æŒå®ƒï¼Œä½†ä¹Ÿè®¸ä¼šåœ¨æœªæ¥çš„æŸä¸ªæ—¶é—´åœæ­¢æ”¯æŒï¼Œè¯·å°½é‡ä¸è¦ä½¿ç”¨è¯¥ç‰¹æ€§ã€‚</p>
</blockquote>
<blockquote>
<p>è­¦å‘Š: é€šè¿‡ç°ä»£æµè§ˆå™¨çš„æ“ä½œå±æ€§çš„ä¾¿åˆ©æ€§ï¼Œå¯ä»¥æ”¹å˜ä¸€ä¸ªå¯¹è±¡çš„ [[Prototype]] å±æ€§, è¿™ç§è¡Œä¸ºåœ¨æ¯ä¸€ä¸ªJavaScriptå¼•æ“å’Œæµè§ˆå™¨ä¸­éƒ½æ˜¯ä¸€ä¸ªéå¸¸æ…¢ä¸”å½±å“æ€§èƒ½çš„æ“ä½œï¼Œä½¿ç”¨è¿™ç§æ–¹å¼æ¥æ”¹å˜å’Œç»§æ‰¿å±æ€§æ˜¯å¯¹æ€§èƒ½å½±å“éå¸¸ä¸¥é‡çš„ï¼Œå¹¶ä¸”æ€§èƒ½æ¶ˆè€—çš„æ—¶é—´ä¹Ÿä¸æ˜¯ç®€å•çš„èŠ±è´¹åœ¨ obj.<strong>proto</strong> = â€¦ è¯­å¥ä¸Š, å®ƒè¿˜ä¼šå½±å“åˆ°æ‰€æœ‰ç»§æ‰¿æ¥è‡ªè¯¥ [[Prototype]] çš„å¯¹è±¡ï¼Œå¦‚æœä½ å…³å¿ƒæ€§èƒ½ï¼Œä½ å°±ä¸åº”è¯¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ä¿®æ”¹å®ƒçš„ [[Prototype]]ã€‚ç›¸å, åˆ›å»ºä¸€ä¸ªæ–°çš„ä¸”å¯ä»¥ç»§æ‰¿ [[Prototype]] çš„å¯¹è±¡ï¼Œæ¨èä½¿ç”¨ Object.create()ã€‚</p>
</blockquote>
<blockquote>
<p>è­¦å‘Š: å½“Object.prototype.<strong>proto</strong> å·²è¢«å¤§å¤šæ•°æµè§ˆå™¨å‚å•†æ‰€æ”¯æŒçš„ä»Šå¤©ï¼Œå…¶å­˜åœ¨å’Œç¡®åˆ‡è¡Œä¸ºä»…åœ¨ECMAScript 2015è§„èŒƒä¸­è¢«æ ‡å‡†åŒ–ä¸ºä¼ ç»ŸåŠŸèƒ½ï¼Œä»¥ç¡®ä¿Webæµè§ˆå™¨çš„å…¼å®¹æ€§ã€‚ä¸ºäº†æ›´å¥½çš„æ”¯æŒï¼Œå»ºè®®åªä½¿ç”¨ Object.getPrototypeOf()ã€‚</p>
</blockquote>
<p>å®˜ç½‘è¯´çš„å¾ˆæ˜ç™½ å¦‚æœè¿˜ä¸ç†è§£ çœ‹å®Œä¸‹é¢åŸå‹é“¾çš„ä½œç”¨ ä½ åº”è¯¥å°±æ˜ç™½äº†</p>
<p>è¿™ä¸€éƒ¨åˆ† çœ‹ç€æ¯”è¾ƒç»• ä½†æ˜¯ç†è§£å å¯¹æˆ‘ä»¬è¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ æ¯”å¦‚åŸå‹é“¾çš„ä½œç”¨</p>
<p><strong>åŸå‹é“¾çš„ä½œç”¨ï¼š</strong> åŸå‹é“¾å¦‚æ­¤çš„é‡è¦çš„åŸå› å°±åœ¨äºå®ƒå†³å®šäº† <code>JavaScript</code> ä¸­ç»§æ‰¿çš„å®ç°æ–¹å¼ã€‚</p>
<p>å½“æˆ‘ä»¬è®¿é—®ä¸€ä¸ªå±æ€§æ—¶ï¼ŒæŸ¥æ‰¾æœºåˆ¶å¦‚ä¸‹ï¼š</p>
<ul>
<li><p>è®¿é—®å¯¹è±¡å®ä¾‹å±æ€§ï¼Œæœ‰åˆ™è¿”å›ï¼Œæ²¡æœ‰å°±é€šè¿‡ <code>__proto__</code> å»å®ƒçš„åŸå‹å¯¹è±¡æŸ¥æ‰¾ã€‚</p>
</li>
<li><p>åŸå‹å¯¹è±¡ä¸Šæ‰¾åˆ°å³è¿”å›ï¼Œæ‰¾ä¸åˆ°ï¼Œç»§ç»­é€šè¿‡åŸå‹å¯¹è±¡çš„ <code>__proto__</code> æŸ¥æ‰¾ã€‚</p>
</li>
<li><p>ä¸€å±‚ä¸€å±‚ä¸€ç›´æ‰¾åˆ° <code>Object.prototype</code> ï¼Œå¦‚æœæ‰¾åˆ°ç›®æ ‡å±æ€§å³è¿”å›ï¼Œ</p>
<p>æ‰¾ä¸åˆ°å°±è¿”å› <code>undefined</code>ï¼Œä¸ä¼šå†å¾€ä¸‹æ‰¾ï¼Œå› ä¸ºåœ¨å¾€ä¸‹æ‰¾ <code>__proto__</code> å°±æ˜¯ <code>null</code> äº†ã€‚</p>
</li>
</ul>
<p>æ‰€ä»¥ å¦‚æœæˆ‘ä»¬ç”¨<code>Object.prototype</code>å»æ“ä½œäº†Objectçš„åŸå‹å¯¹è±¡ é‚£ä¹ˆæ‰€æœ‰çš„å¯¹è±¡éƒ½ä¼šå—åˆ°å½±å“ å› ä¸ºObjectæ˜¯å¯¹è±¡çš„é¡¶çº§çˆ¶ç±» æ‰€æœ‰çš„å¯¹è±¡éƒ½ç»§æ‰¿è‡ªå®ƒä»¬çš„é¡¶çº§çˆ¶ç±»Object</p>
]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript å¯é€‰é“¾æ“ä½œç¬¦&amp;&amp;ç©ºå€¼åˆå¹¶æ“ä½œç¬¦</title>
    <url>/FE/JS/operator-chaining&amp;nullish-coalescing-operator/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æœ€è¿‘ å¼€å§‹æ¥è§¦åˆ°ä¸€äº›ES6ä»¥åçš„æ–°ç‰¹æ€§ ä½¿ç”¨èµ·æ¥ç¡®å®æ–¹ä¾¿äº†ä¸å°‘</p>
<p>å°¤å…¶æ˜¯æœ€è¿‘æœ‰ä¸€ä¸ªé¡¹ç›® åœ¨æ–¹æ³•ä¸­éœ€è¦ä¼ å…¥index ä½†æ˜¯åœ¨åšéç©ºéªŒè¯çš„æ—¶å€™ å¦‚æœä¼ å…¥çš„indexæ˜¯0 ä¹Ÿä¼šè¢«åˆ¤æ–­ä¸ºfalse è¿™å°±ååˆ†å¤´ç–¼äº† </p>
<p>å†—ä½™çš„åˆ¤æ–­ä¸ä»…ä½¿ä»£ç çš„å¯è¯»æ€§å˜å·® è€Œä¸”ä¼šä½¿ä»£ç å˜å¾—ä¸ç®€æ´</p>
<p>ä½†æ˜¯åœ¨æ¥è§¦åˆ°å¯é€‰é“¾æ“ä½œç¬¦å emmmmm è¿™ä¹Ÿå¤ªé¦™äº† é¿å…äº† &amp;&amp; å’Œ å¤šä½™çš„éç©ºæ ¡éªŒ</p>
<p>æ‰€ä»¥å†³å®šä»¥æ­¤ä¸ºå¼€å§‹  é™†ç»­çš„å†™ä¸€äº›ES6 ES7â€¦ä¹‹åçš„æ–°ç‰¹æ€§</p>
<a id="more"></a>

<h2 id="å¯é€‰é“¾æ“ä½œç¬¦"><a href="#å¯é€‰é“¾æ“ä½œç¬¦" class="headerlink" title="å¯é€‰é“¾æ“ä½œç¬¦"></a>å¯é€‰é“¾æ“ä½œç¬¦</h2><h3 id="åˆè¯†"><a href="#åˆè¯†" class="headerlink" title="åˆè¯†"></a>åˆè¯†</h3><p>è¿™é‡Œæˆ‘å¼•ç”¨ä¸€æ®µMDNä¸Šçš„è§£é‡Š</p>
<blockquote>
<p>å¯é€‰é“¾æ“ä½œç¬¦( ?. )å…è®¸è¯»å–ä½äºè¿æ¥å¯¹è±¡é“¾æ·±å¤„çš„å±æ€§çš„å€¼ï¼Œè€Œä¸å¿…æ˜ç¡®éªŒè¯é“¾ä¸­çš„æ¯ä¸ªå¼•ç”¨æ˜¯å¦æœ‰æ•ˆã€‚?. æ“ä½œç¬¦çš„åŠŸèƒ½ç±»ä¼¼äº . é“¾å¼æ“ä½œç¬¦ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼Œåœ¨å¼•ç”¨ä¸ºç©º(nullish ) (null æˆ–è€… undefined) çš„æƒ…å†µä¸‹ä¸ä¼šå¼•èµ·é”™è¯¯ï¼Œè¯¥è¡¨è¾¾å¼çŸ­è·¯è¿”å›å€¼æ˜¯ undefinedã€‚ä¸å‡½æ•°è°ƒç”¨ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œå¦‚æœç»™å®šçš„å‡½æ•°ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› undefinedã€‚</p>
</blockquote>
<p>æˆ–è®¸ ä½ è¿˜æ˜¯?????</p>
<p>ä¸è¦æ€¥  æˆ‘ä»¬æ¥çœ‹ä¸€é“ä¾‹é¢˜</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> adventurer = &#123;</span><br><span class="line">  name: <span class="string">&#x27;æ—å…‹&#x27;</span>,</span><br><span class="line">  weapon: &#123;</span><br><span class="line">    name: <span class="string">&#x27;å¤§å¸ˆå‰‘&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> weaponName = adventurer.weapon?.name;</span><br><span class="line"><span class="built_in">console</span>.log(weaponName);</span><br><span class="line"><span class="comment">// expected output: å¤§å¸ˆå‰‘</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(adventurer.savePrincess?.());</span><br><span class="line"><span class="comment">// expected output: undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> shieldName = adventurer.shield?.name;</span><br><span class="line"><span class="built_in">console</span>.log(shieldName);</span><br><span class="line"><span class="comment">// expected output: undefined</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ä¾‹å­<code>adventurer.weapon?.name</code></p>
<p>æˆ‘ä»¬è¯•å›¾å»å¯»æ‰¾adventurerå¯¹è±¡ä¸‹çš„weaponå±æ€§ä¸‹çš„nameå±æ€§</p>
<p>adventurerå¯¹è±¡æœ‰weaponå±æ€§ æ‰€ä»¥è¿”å›æˆ‘ä»¬å¯ä»¥å–å‡ºæˆ‘ä»¬çš„å¤§å¸ˆå‰‘</p>
<p>ç„¶åæ˜¯<code>adventurer.savePrincess?.()</code></p>
<p>æ˜¾ç„¶adventurerä¸‹æ²¡æœ‰savePrincessè¿™ä¸ªæ–¹æ³• æ‰€ä»¥æ•‘å…¬ä¸»ï¼Ÿï¼Ÿï¼Ÿ ä¸å­˜åœ¨çš„ ç›´æ¥è¿”å›undefined</p>
<p>æœ€åæ˜¯<code>adventurer.shield?.name</code></p>
<p>åŒæ ·çš„ æˆ‘ä»¬å‘ç° adventurerå¯¹è±¡ä¸‹ä¹Ÿæ²¡æœ‰shieldå±æ€§ æ‰€ä»¥ç›´æ¥è¿”å›undefined</p>
<p>å¥½å•¦ è‡³æ­¤ æˆ‘ä»¬å¤§æ¦‚ç†è§£äº†å¯é€‰é“¾æ˜¯æ€ä¹ˆä¸€å›äº‹</p>
<p>æ¥ä¸‹æ¥ æˆ‘ä»¬æ¥çœ‹çœ‹ å¯é€‰é“¾æœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„åœ°æ–¹</p>
<h3 id="æ³¨æ„ç‚¹"><a href="#æ³¨æ„ç‚¹" class="headerlink" title="æ³¨æ„ç‚¹"></a>æ³¨æ„ç‚¹</h3><h4 id="å¯é€‰é“¾ä¸èƒ½ç”¨äºèµ‹å€¼"><a href="#å¯é€‰é“¾ä¸èƒ½ç”¨äºèµ‹å€¼" class="headerlink" title="å¯é€‰é“¾ä¸èƒ½ç”¨äºèµ‹å€¼"></a>å¯é€‰é“¾ä¸èƒ½ç”¨äºèµ‹å€¼</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> object = &#123;&#125;;</span><br><span class="line">object?.property = <span class="number">1</span>; <span class="comment">// Uncaught SyntaxError: Invalid left-hand side in assignment</span></span><br></pre></td></tr></table></figure>

<h4 id="çŸ­è·¯è®¡ç®—"><a href="#çŸ­è·¯è®¡ç®—" class="headerlink" title="çŸ­è·¯è®¡ç®—"></a>çŸ­è·¯è®¡ç®—</h4><p>å½“åœ¨è¡¨è¾¾å¼ä¸­ä½¿ç”¨å¯é€‰é“¾æ—¶ï¼Œå¦‚æœå·¦æ“ä½œæ•°æ˜¯ null æˆ– undefinedï¼Œè¡¨è¾¾å¼å°†ä¸ä¼šè¢«è®¡ç®—ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> potentiallyNullObj = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> prop = potentiallyNullObj?.[x++];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(x); <span class="comment">// x å°†ä¸ä¼šè¢«é€’å¢ï¼Œä¾æ—§è¾“å‡º 0</span></span><br></pre></td></tr></table></figure>

<p>æœ€åå†ä¸¾ä¸€ä¸ªè‡ªå·±åœ¨å®é™…å¼€å‘ä¸­çš„ä¾‹å­</p>
<p>å‡å¦‚æœ‰ä¸€ä¸ªæ–¹æ³•<code>setStudentResult(action)</code> å®ƒæ¥æ”¶ä¸€ä¸ªå¯¹è±¡action</p>
<p>ä¸ºäº†è®©æˆ‘ä»¬çš„ä»£ç å¥å£® æˆ‘ä»¬å¿…é¡»åœ¨æ–¹æ³•å†…éƒ¨åšå‡ºå‚æ•°çš„éç©ºæ ¡éªŒ æ˜¾ç„¶ä¸‹é¢è¿™æ ·æ˜¯ä¸è¡Œçš„</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> list = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">action</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setStudent</span> (<span class="params">action</span>) </span>&#123;</span><br><span class="line">  list[action.index] = action.student;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬ç›´æ¥è°ƒç”¨<code>setStudent()</code> æ˜¾ç„¶æ•´ä¸ªç¨‹åºéƒ½ä¼šå´©æºƒ</p>
<p>æ‰€ä»¥åœ¨ä»¥å‰ æˆ‘ä»¬å¯ä»¥å°†æ–¹æ³•ä½“æ”¹æˆè¿™æ ·</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åŒæ—¶åŒ…å«å‡½æ•°æ¥æ”¶äº†actionå‚æ•° å¹¶ä¸”å‚æ•°ä¸­æœ‰æˆ‘ä»¬éœ€è¦çš„å†…å®¹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setStudent</span>(<span class="params">action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (action) &#123;</span><br><span class="line">    <span class="keyword">if</span> (action.index &amp;&amp; action.student) &#123;</span><br><span class="line">      list[action.index] = action.student;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ å¦‚æœä½¿ç”¨å¯é€‰é“¾æ“ä½œç¬¦ æˆ‘ä»¬å°±å¯ä»¥å°†æ–¹æ³•å®šä¹‰æˆå¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setStudent</span> (<span class="params">action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (action?.index &amp;&amp; action?.student) &#123;</span><br><span class="line">    list[action.index] = action.student;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ° æ— è®ºæ˜¯å¯è¯»æ€§ è¿˜æ˜¯ç®€æ´ç¨‹åº¦ å¯é€‰é“¾æ“ä½œç¬¦éƒ½æ›´èƒœä¸€ç­¹</p>
<h2 id="ç©ºå€¼åˆå¹¶æ“ä½œç¬¦"><a href="#ç©ºå€¼åˆå¹¶æ“ä½œç¬¦" class="headerlink" title="ç©ºå€¼åˆå¹¶æ“ä½œç¬¦"></a>ç©ºå€¼åˆå¹¶æ“ä½œç¬¦</h2><p>è¿˜æ˜¯å¼•ç”¨ä¸€æ®µMDNä¸Šè§£é‡Š</p>
<blockquote>
<p>ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ??ï¼‰æ˜¯ä¸€ä¸ªé€»è¾‘æ“ä½œç¬¦ï¼Œå½“å·¦ä¾§çš„æ“ä½œæ•°ä¸º null æˆ–è€… undefined æ—¶ï¼Œè¿”å›å…¶å³ä¾§æ“ä½œæ•°ï¼Œå¦åˆ™è¿”å›å·¦ä¾§æ“ä½œæ•°ã€‚</p>
</blockquote>
<h3 id="å¯¹æ¯”"><a href="#å¯¹æ¯”" class="headerlink" title="å¯¹æ¯” ||"></a>å¯¹æ¯” ||</h3><p>æˆ‘ä»¬çŸ¥é“ || é€»è¾‘æˆ–è¿ç®—ç¬¦ ä¹Ÿå…·æœ‰ç›¸ä¼¼çš„åŠŸèƒ½</p>
<p>ä¹Ÿå°±æ˜¯åœ¨ || å·¦ä¾§æ“ä½œæ•°ä¸ºå‡å€¼æ—¶ ä¼šè¿”å›å³ä¾§ æ“ä½œæ•°</p>
<p>JSä¸­çš„å‡å€¼æœ‰</p>
<ul>
<li><p>0</p>
</li>
<li><p>â€˜â€™</p>
</li>
<li><p>NaN</p>
</li>
<li><p>null</p>
</li>
<li><p>undefined</p>
</li>
</ul>
<p>æ‰€ä»¥è®¾æƒ³ä¸€ä¸ªåœºæ™¯ æˆ‘ä»¬å¯¹ä¸€ä¸ªfunctionä¸­çš„å‚æ•°ä½¿ç”¨ || è¿ç®—ç¬¦ æ¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦è¾“å…¥</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addNum</span>(<span class="params">a,b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = a || <span class="number">0</span></span><br><span class="line">  <span class="keyword">var</span> b = b || <span class="number">0</span></span><br><span class="line">  <span class="keyword">return</span> a + b </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ä»£ç æˆ‘ä»¬ç”¨ || è¿ç®—ç¬¦æ¥åˆ¤æ–­ç”¨æˆ· ç”¨æˆ·è¾“å…¥çš„åˆæ³•æ€§ </p>
<p>ä½†æ˜¯è¿™æ ·æˆ‘ä»¬å°±æ— æ³•æ’é™¤ 0 è¿™ç§æƒ…å†µ</p>
<p>å¦‚æœç”¨æˆ·å°±æ˜¯è¾“å…¥äº†0 ä½†æ˜¯0ä¾æ—§æ˜¯ä¸€ä¸ªå‡å€¼ æ‰€ä»¥è¿˜æ˜¯ä¼šè¿”å› || æ“ä½œç¬¦å³ä¾§æ˜¯æ“ä½œæ•°</p>
<p>è¿™å°±ä¸æˆ‘ä»¬çš„é¢„æœŸä¸ä¸€è‡´äº†</p>
<p>è€Œ ?? ç©ºå€¼åˆå¹¶æ“ä½œç¬¦å°±åªæ˜¯æ£€éªŒäº† null å’Œ undefined</p>
<h3 id="æ³¨æ„ç‚¹-1"><a href="#æ³¨æ„ç‚¹-1" class="headerlink" title="æ³¨æ„ç‚¹"></a>æ³¨æ„ç‚¹</h3><h4 id="çŸ­è·¯è®¡ç®—-1"><a href="#çŸ­è·¯è®¡ç®—-1" class="headerlink" title="çŸ­è·¯è®¡ç®—"></a>çŸ­è·¯è®¡ç®—</h4><p>ä¸ OR å’Œ AND é€»è¾‘æ“ä½œç¬¦ç›¸ä¼¼ï¼Œå½“å·¦è¡¨è¾¾å¼ä¸ä¸º null æˆ– undefined æ—¶ï¼Œä¸ä¼šå¯¹å³è¡¨è¾¾å¼è¿›è¡Œæ±‚å€¼</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="literal">undefined</span> ?? a++;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">1</span>;</span><br><span class="line"><span class="literal">true</span> ?? b++;</span><br><span class="line"><span class="built_in">console</span>.log(b); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h4 id="ä¸èƒ½ä¸-AND-æˆ–-OR-æ“ä½œç¬¦å…±ç”¨"><a href="#ä¸èƒ½ä¸-AND-æˆ–-OR-æ“ä½œç¬¦å…±ç”¨" class="headerlink" title="ä¸èƒ½ä¸ AND æˆ– OR æ“ä½œç¬¦å…±ç”¨"></a>ä¸èƒ½ä¸ AND æˆ– OR æ“ä½œç¬¦å…±ç”¨</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="literal">null</span> || <span class="literal">undefined</span> ?? <span class="string">&quot;foo&quot;</span>; <span class="comment">// æŠ›å‡º SyntaxError</span></span><br><span class="line"><span class="literal">true</span> || <span class="literal">undefined</span> ?? <span class="string">&quot;foo&quot;</span>; <span class="comment">// æŠ›å‡º SyntaxError</span></span><br></pre></td></tr></table></figure>

<h4 id="ä¸å¯é€‰é“¾æ“ä½œç¬¦è¿ç”¨"><a href="#ä¸å¯é€‰é“¾æ“ä½œç¬¦è¿ç”¨" class="headerlink" title="ä¸å¯é€‰é“¾æ“ä½œç¬¦è¿ç”¨"></a>ä¸å¯é€‰é“¾æ“ä½œç¬¦è¿ç”¨</h4><p>ä¸¤ä¸ªæ“ä½œç¬¦éƒ½æ˜¯é’ˆå¯¹ undefined å’Œ null ä¸¤ä¸ªå€¼</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç»“åˆè¿™ä¸¤ä¸ªæ“ä½œç¬¦</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> customer = &#123;</span><br><span class="line">  name: <span class="string">&quot;chou&quot;</span>,</span><br><span class="line">  details: &#123; <span class="attr">age</span>: <span class="number">100</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> customerCity = customer?.city ?? <span class="string">&quot;è’é‡ä¹‹æ¯&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(customerCity); <span class="comment">// è’é‡ä¹‹æ¯</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>JS</category>
      </categories>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript é˜²ç›—é“¾</title>
    <url>/FE/JS/referer/</url>
    <content><![CDATA[<blockquote>
<p>HTTP Refereræ˜¯headerçš„ä¸€éƒ¨åˆ†ï¼Œ<br>  å½“æµè§ˆå™¨å‘webæœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¼šå¸¦ä¸ŠRefererï¼Œ<br>  å‘Šè¯‰æœåŠ¡å™¨æˆ‘æ˜¯ä»å“ªä¸ªé¡µé¢é“¾æ¥è¿‡æ¥çš„ï¼ŒæœåŠ¡å™¨è—‰æ­¤å¯ä»¥è·å¾—ä¸€äº›ä¿¡æ¯ç”¨äºå¤„ç†ã€‚<br>  é€šè¿‡è¯¥å¤´åŸŸçš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æµ‹åˆ°è®¿é—®ç›®æ ‡èµ„æºçš„æºåœ°å€</p>
</blockquote>
<a id="more"></a>

<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>å‰æ®µæ—¥å­ åœ¨è‡ªå­¦åšé¡¹ç›®çš„æ—¶å€™å‘ç° æ˜æ˜åœ¨é¡¹ç›®ä¸­å¼•ç”¨äº†çº¿ä¸Šå­˜åœ¨çš„å›¾ç‰‡ ä½†æ˜¯åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­å´æ€ä¹ˆä¹Ÿæ˜¾ç¤ºå‡ºæ¥ </p>
<p>æŸ¥é˜…èµ„æ–™åå‘ç°æ˜¯è¿™äº›ç¬¬ä¸‰æ–¹ç½‘ç«™è®¾ç½®äº†<strong>é˜²ç›—é“¾</strong></p>
<h2 id="ç ´è§£é˜²ç›—é“¾"><a href="#ç ´è§£é˜²ç›—é“¾" class="headerlink" title="ç ´è§£é˜²ç›—é“¾"></a>ç ´è§£é˜²ç›—é“¾</h2><p>å…ˆè¯´è¯´é˜²ç›—é“¾çš„åŸç†ï¼Œhttp åè®®ä¸­ï¼Œå¦‚æœä»ä¸€ä¸ªç½‘é¡µè·³åˆ°å¦ä¸€ä¸ªç½‘é¡µï¼Œhttp å¤´å­—æ®µé‡Œé¢ä¼šå¸¦ä¸ª Refererã€‚</p>
<p>è¿™é‡Œçš„Refereræ˜¯ç”±äºå†å²åŸå› å¯¼è‡´äº†æ‹¼å†™é”™è¯¯ åæ¥ä¹Ÿå°±ä¸€ç›´æ²¿ç”¨ã€‚</p>
<p>å›¾ç‰‡æœåŠ¡å™¨é€šè¿‡æ£€æµ‹ Referer æ˜¯å¦æ¥è‡ªè§„å®šåŸŸåï¼Œæ¥è¿›è¡Œé˜²ç›—é“¾ã€‚</p>
<p>å¦‚æœç›—ç”¨ç½‘ç«™æ˜¯ https çš„ protocolï¼Œè€Œå›¾ç‰‡é“¾æ¥æ˜¯ http çš„è¯ï¼Œ</p>
<p>åˆ™ä» https å‘ http å‘èµ·çš„è¯·æ±‚ä¼šå› ä¸ºå®‰å…¨æ€§çš„è§„å®šï¼Œè€Œä¸å¸¦ refererï¼Œä»è€Œå®ç°é˜²ç›—é“¾çš„ç»•è¿‡ã€‚</p>
<p>å®˜æ–¹è¾“å‡ºå›¾ç‰‡çš„æ—¶å€™ï¼Œåˆ¤æ–­äº†æ¥æº(Referer)ï¼Œå°±æ˜¯ä»å“ªä¸ªç½‘ç«™è®¿é—®è¿™ä¸ªå›¾ç‰‡ï¼Œ</p>
<p>å¦‚æœæ˜¯ä½ çš„ç½‘ç«™å»åŠ è½½è¿™ä¸ªå›¾ç‰‡ï¼Œé‚£ä¹ˆRefererå°±æ˜¯ï¼šä½ çš„ç½‘ç«™åœ°å€ï¼›</p>
<p>ä½ ç½‘ç«™åœ°å€ï¼Œè‚¯å®šæ²¡åœ¨å®˜æ–¹çš„ç™½åå•å†…ï¼Œæ‰€ä»¥å°±çœ‹ä¸åˆ°å›¾ç‰‡äº†ã€‚</p>
<p>å› æ­¤ï¼Œè‹¥ä¸å‘é€Refererï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æ¥æºã€‚é‚£ä¹ˆå®˜æ–¹é‚£è¾¹ï¼Œå°±è®¤ä¸ºæ˜¯ä»æµè§ˆå™¨ç›´æ¥è®¿é—®çš„ï¼Œæ‰€ä»¥å°±èƒ½åŠ è½½æ­£å¸¸çš„å›¾ç‰‡äº†ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;referrer&quot;</span> <span class="attr">content</span>=<span class="string">&quot;never&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚åœ¨æ˜é‡‘ä¸Š æŸ¥çœ‹æˆ‘çš„ä¸€ç¯‡æ–‡ç« ä¸­ä¸€å¼ å›¾ç‰‡çš„Request Headers å°±å¯ä»¥çœ‹åˆ°Referer</p>
<img src="https://gitee.com/LuckyChou/blog-images/raw/master/js/referer.png" alt="referer" />


]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript Array.prototype.reduce</title>
    <url>/FE/JS/reduce/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä»¥å‰åªçŸ¥é“ reduce å¯ä»¥æ‹¿æ¥åšæ•°ç»„æ±‚å’Œ</p>
<p>ä½†å…¶å® reduce çš„åŠŸèƒ½è¿œä¸äºæ­¤  æ‰€ä»¥åœ¨æ­¤åšä¸ªæ€»ç»“</p>
<h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><p>array.reduce(function(accumulator, currentValue, currentIndex, array), initialValue)ï¼›</p>
<a id="more"></a>

<ul>
<li><p>accumulator: ç´¯åŠ å™¨ å³å‡½æ•°ä¸Šä¸€æ¬¡è°ƒç”¨çš„è¿”å›å€¼ã€‚</p>
<p>ç¬¬ä¸€æ¬¡çš„æ—¶å€™ä¸º initialValue || arr[0]</p>
</li>
<li><p>currentValue: æ•°ç»„ä¸­å‡½æ•°æ­£åœ¨å¤„ç†çš„çš„å€¼ã€‚</p>
<p>ç¬¬ä¸€æ¬¡çš„æ—¶å€™ initialValue || arr[1]</p>
</li>
<li><p>currentIndex: (å¯é€‰)æ•°æ®ä¸­æ­£åœ¨å¤„ç†çš„å…ƒç´ ç´¢å¼•</p>
<p>å¦‚æœæä¾›äº† initialValue ä» 0 å¼€å§‹ å¦åˆ™ä» 1 å¼€å§‹</p>
</li>
<li><p>array: (å¯é€‰)è°ƒç”¨ reduce çš„æ•°ç»„</p>
</li>
<li><p>initialValue: (å¯é€‰)ç´¯åŠ å™¨çš„åˆå§‹å€¼ã€‚æ²¡æœ‰æ—¶ ç´¯åŠ å™¨ç¬¬ä¸€æ¬¡çš„å€¼ä¸º currentValue</p>
<p>æ³¨æ„: åœ¨å¯¹æ²¡æœ‰è®¾ç½®åˆå§‹å€¼çš„ç©ºæ•°ç»„è°ƒç”¨ reduce æ–¹æ³•æ—¶ä¼šæŠ¥é”™ã€‚</p>
</li>
</ul>
<p>ä¸ºäº†æ›´ç›´è§‚çš„æ„Ÿå— æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æœ‰åˆå§‹å€¼</span></span><br><span class="line">;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].reduce(<span class="function"><span class="keyword">function</span> (<span class="params">accumulator, currentValue, currentIndex, array</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> accumulator + currentValue</span><br><span class="line">&#125;, <span class="number">10</span>) <span class="comment">// 20</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>callback</th>
<th>accumulator</th>
<th>currentValue</th>
<th>currentIndex</th>
<th>array</th>
<th>return value</th>
</tr>
</thead>
<tbody><tr>
<td>first call</td>
<td>10(åˆå§‹å€¼)</td>
<td>1(æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ )</td>
<td>0(æœ‰åˆå§‹å€¼ä¸º 0)</td>
<td>[1, 2, 3, 4]</td>
<td>11</td>
</tr>
<tr>
<td>second call</td>
<td>11</td>
<td>2</td>
<td>1</td>
<td>[1, 2, 3, 4]</td>
<td>13</td>
</tr>
<tr>
<td>third call</td>
<td>13</td>
<td>3</td>
<td>2</td>
<td>[1, 2, 3, 4]</td>
<td>16</td>
</tr>
<tr>
<td>fourth call</td>
<td>16</td>
<td>4</td>
<td>3</td>
<td>[1, 2, 3, 4]</td>
<td>20</td>
</tr>
</tbody></table>
<h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><h3 id="case1"><a href="#case1" class="headerlink" title="case1"></a>case1</h3><p>å¯ä»¥åšä¸€ä¸ªç®€å•çš„æ•°ç»„æ±‚å’Œ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b) <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<h3 id="case2"><a href="#case2" class="headerlink" title="case2"></a>case2</h3><p>å¯ä»¥å°†äºŒç»´æ•°ç»„æ‰å¹³åŒ–</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">  [<span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">  [<span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">  [<span class="number">5</span>, <span class="number">6</span>],</span><br><span class="line">].reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a.concat(b), []) <span class="comment">// [1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure>

<h3 id="case3"><a href="#case3" class="headerlink" title="case3"></a>case3</h3><p>å¯ä»¥è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°</p>
<p>æ€è·¯: åˆå§‹å€¼è®¾ç½®ä¸º{} ç”¨ä½œæˆ‘ä»¬æ”¾ç»“æœçš„å®¹å™¨ ç„¶åå¦‚æœå®¹å™¨ä¸­æœ‰è¿™ä¸ªå…ƒç´  å°±value+1 æ²¡æœ‰å°±åˆå§‹åŒ–key</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].reduce(<span class="function">(<span class="params">items, item</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (item <span class="keyword">in</span> items) &#123;</span><br><span class="line">    items[item]++</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    items[item] = <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> items</span><br><span class="line">&#125;, &#123;&#125;) <span class="comment">// &#123;1: 2, 2: 2, 3: 2, 4: 1&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="case4"><a href="#case4" class="headerlink" title="case4"></a>case4</h3><p>æ•°ç»„å»é‡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ³•ä¸€</span></span><br><span class="line">[</span><br><span class="line">  <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span></span><br><span class="line">].reduce(<span class="function">(<span class="params">init, current</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ç¬¬ä¸€æ¬¡çš„æ—¶å€™ initä¸ºç©º å°†ç¬¬ä¸€ä¸ªå…ƒç´ pushè¿›init </span></span><br><span class="line">  <span class="comment">// ç„¶åä»¥åæ¯æ¬¡çš„currentéƒ½åœ¨initä¸­æ‰¾æ˜¯å¦å·²ç»å­˜åœ¨ç›¸åŒçš„å…ƒç´ </span></span><br><span class="line">  <span class="comment">// æ²¡æ‰¾åˆ°å°±ç»§ç»­push</span></span><br><span class="line">  <span class="keyword">if</span> (init.length === <span class="number">0</span> || init.indexOf(current) === -<span class="number">1</span>) &#123;</span><br><span class="line">    init.push(current)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> init</span><br><span class="line">&#125;, []) <span class="comment">//[1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ³•äºŒ</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>].sort().reduce(<span class="function">(<span class="params">init, current</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// å…ˆå°†æ•°ç»„è¿›è¡Œæ’åº</span></span><br><span class="line">  <span class="comment">// å°†ç¬¬ä¸€ä¸ªå…ƒç´ push è¿› init</span></span><br><span class="line">  <span class="comment">// åˆ¤æ–­ä»¥åçš„æ¯ä¸€ä¸ªå…ƒç´ æ˜¯å¦å’Œinitä¸­æœ€åä¸€ä¸ªå…ƒç´ ç›¸åŒ</span></span><br><span class="line">  <span class="comment">// å¦‚åŒä¸åŒå°±ç»§ç»­push</span></span><br><span class="line">  <span class="keyword">if</span> (init.length === <span class="number">0</span> || init[init.length - <span class="number">1</span>] !== current) &#123;</span><br><span class="line">    init.push(current)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> init</span><br><span class="line">&#125;, []) <span class="comment">//[1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript this</title>
    <url>/FE/JS/this/</url>
    <content><![CDATA[<blockquote>
<a href="https://mp.weixin.qq.com/s?__biz=MzI3ODU4MzQ1MA==&mid=2247484019&idx=1&sn=3f6d9e748ac218b5034c04dce0f25891&chksm=eb558386dc220a901ca63d526cc553c570d736948ed77493465b2836b6a02fc2b181acbe31e0&sessionid=0&scene=126&clicktime=1590037450&enterid=1590037450&ascene=3&devicetype=android-29&version=27000e37&nettype=cmnet&abtest_cookie=AAACAA%3D%3D&lang=en&exportkey=AcdbQZbZYKbgZjM7wKvVQrc%3D&pass_ticket=e%2FyqnqqHU1eUmuswJPT7GF7T%2FJt3o7TJrRQj5vH7ccCzfKKMKCaPKxAZ7Sj26Vr6&wx_header=1">
40é“é¢˜æå®š JavaScript çš„ this
</a>
</blockquote>
<h2 id="thisçš„äº”ç§ç»‘å®šæ–¹å¼"><a href="#thisçš„äº”ç§ç»‘å®šæ–¹å¼" class="headerlink" title="thisçš„äº”ç§ç»‘å®šæ–¹å¼"></a>thisçš„äº”ç§ç»‘å®šæ–¹å¼</h2><ul>
<li><p>é»˜è®¤ç»‘å®š(éä¸¥æ ¼æ¨¡å¼ä¸‹thisæŒ‡å‘å…¨å±€å¯¹è±¡, ä¸¥æ ¼æ¨¡å¼ä¸‹thisä¼šç»‘å®šåˆ°undefined)</p>
</li>
<li><p>éšå¼ç»‘å®š(å½“å‡½æ•°å¼•ç”¨æœ‰ä¸Šä¸‹æ–‡å¯¹è±¡æ—¶, å¦‚ obj.foo()çš„è°ƒç”¨æ–¹å¼, fooå†…çš„thisæŒ‡å‘obj)</p>
</li>
<li><p>æ˜¾ç¤ºç»‘å®š(é€šè¿‡call()æˆ–è€…apply()æ–¹æ³•ç›´æ¥æŒ‡å®šthisçš„ç»‘å®šå¯¹è±¡, å¦‚foo.call(obj))</p>
</li>
<li><p>newç»‘å®š</p>
</li>
<li><p>ç®­å¤´å‡½æ•°ç»‘å®š(thisçš„æŒ‡å‘ç”±å¤–å±‚ä½œç”¨åŸŸå†³å®šçš„)</p>
</li>
</ul>
<a id="more"></a>

<h2 id="é»˜è®¤ç»‘å®š"><a href="#é»˜è®¤ç»‘å®š" class="headerlink" title="é»˜è®¤ç»‘å®š"></a>é»˜è®¤ç»‘å®š</h2><p>éä¸¥æ ¼æ¨¡å¼ä¸‹ varå£°æ˜çš„å˜é‡ä¼šå˜æˆwindowçš„å±æ€§ functionä¼šå˜æˆwindowçš„æ–¹æ³•<br>æ‰€ä»¥functionå†…éƒ¨çš„thisæŒ‡å‘window</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line">foo(); <span class="comment">// 10</span></span><br><span class="line"><span class="built_in">window</span>.a <span class="comment">//10</span></span><br><span class="line"><span class="built_in">window</span>.foo <span class="comment">// foo()&#123;&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ä¸¥æ ¼æ¨¡å¼ä¸‹ å…¨å±€çš„thisä¼šæŒ‡å‘undefined</p>
<h2 id="éšå¼ç»‘å®š"><a href="#éšå¼ç»‘å®š" class="headerlink" title="éšå¼ç»‘å®š"></a>éšå¼ç»‘å®š</h2><p>this æ°¸è¿œæŒ‡å‘æœ€åè°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> bar = &#123;</span><br><span class="line">  a : <span class="number">1</span>,</span><br><span class="line">  foo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bar.foo(); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h2 id="newç»‘å®š"><a href="#newç»‘å®š" class="headerlink" title="newç»‘å®š"></a>newç»‘å®š</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;window&#x27;</span></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">&#x27;chou&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(person1.name) <span class="comment">// chou</span></span><br></pre></td></tr></table></figure>

<h2 id="æ˜¾ç¤ºç»‘å®š"><a href="#æ˜¾ç¤ºç»‘å®š" class="headerlink" title="æ˜¾ç¤ºç»‘å®š"></a>æ˜¾ç¤ºç»‘å®š</h2><p>æ³¨æ„applyå’Œcallä¼šæ‰§è¡Œæ–¹æ³• ä½†æ˜¯bindä¸ä¼š</p>
<p><strong>æ€»ç»“ä¸€ä¸‹è¿™éƒ¨åˆ†çš„çŸ¥è¯†ç‚¹å¥½äº†ï¼š</strong></p>
<ul>
<li><p><code>this</code> æ°¸è¿œæŒ‡å‘æœ€åè°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡</p>
</li>
<li><p>åŒ¿åå‡½æ•°çš„<code>this</code>æ°¸è¿œæŒ‡å‘<code>window</code></p>
</li>
<li><p>ä½¿ç”¨<code>.call()</code>æˆ–è€…<code>.apply()</code>çš„å‡½æ•°æ˜¯ä¼šç›´æ¥æ‰§è¡Œçš„</p>
</li>
<li><p><code>bind()</code>æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨æ‰ä¼šæ‰§è¡Œ</p>
</li>
<li><p>å¦‚æœ<code>callã€applyã€bind</code>æ¥æ”¶åˆ°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç©ºæˆ–è€…<code>nullã€undefined</code>çš„è¯ï¼Œåˆ™ä¼šå¿½ç•¥è¿™ä¸ªå‚æ•°</p>
</li>
<li><p><code>forEachã€mapã€filter</code>å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿæ˜¯èƒ½æ˜¾å¼ç»‘å®š<code>this</code>çš„</p>
</li>
</ul>
<h2 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h2><ul>
<li><p>ç®­å¤´å‡½æ•°ä¸­æ²¡æœ‰ this ç»‘å®šï¼Œå¿…é¡»é€šè¿‡æŸ¥æ‰¾ä½œç”¨åŸŸé“¾æ¥å†³å®šå…¶å€¼ï¼Œå¦‚æœç®­å¤´å‡½æ•°è¢«éç®­å¤´å‡½æ•°åŒ…å«ï¼Œåˆ™ this ç»‘å®šçš„æ˜¯æœ€è¿‘ä¸€å±‚éç®­å¤´å‡½æ•°çš„ thisï¼Œå¦åˆ™ï¼Œthis ä¸º undefined</p>
</li>
<li><p>ä¸å—applyç­‰æ–¹æ³•ä¿®æ”¹</p>
</li>
</ul>
<p>ç®­å¤´å‡½æ•°çš„<code>this</code>æ— æ³•é€šè¿‡<code>bindã€callã€apply</code>æ¥<strong>ç›´æ¥</strong>ä¿®æ”¹ï¼Œ</p>
<p>ä½†æ˜¯å¯ä»¥é€šè¿‡æ”¹å˜ä½œç”¨åŸŸä¸­<code>this</code>çš„æŒ‡å‘æ¥é—´æ¥ä¿®æ”¹ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;window&#x27;</span></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">  name: <span class="string">&#x27;obj1&#x27;</span>,</span><br><span class="line">  foo1: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">    <span class="keyword">return</span><span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  foo2: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">  name: <span class="string">&#x27;obj2&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">obj1.foo1.call(obj2)()</span><br><span class="line">obj1.foo1().call(obj2)</span><br><span class="line">obj1.foo2.call(obj2)()</span><br><span class="line">obj1.foo2().call(obj2)</span><br></pre></td></tr></table></figure>



<ul>
<li><p>obj1.foo1.call(obj2)()ç¬¬ä¸€å±‚ä¸ºæ™®é€šå‡½æ•°ï¼Œå¹¶ä¸”é€šè¿‡.callæ”¹å˜äº†thisæŒ‡å‘ä¸ºobj2ï¼Œæ‰€ä»¥ä¼šæ‰“å°å‡ºobj2ï¼Œç¬¬äºŒå±‚ä¸ºç®­å¤´å‡½æ•°ï¼Œå®ƒçš„thiså’Œå¤–å±‚ä½œç”¨åŸŸä¸­çš„thisç›¸åŒï¼Œå› æ­¤ä¹Ÿæ˜¯obj2ã€‚</p>
</li>
<li><p>obj1.foo().call(obj2)ç¬¬ä¸€å±‚æ‰“å°å‡ºobj1ï¼Œç¬¬äºŒå±‚ä¸ºç®­å¤´å‡½æ•°ï¼Œä½¿ç”¨äº†.callæƒ³è¦ä¿®æ”¹thisçš„æŒ‡å‘ï¼Œä½†æ˜¯å¹¶ä¸èƒ½æˆåŠŸï¼Œå› æ­¤.call(obj2)å¯¹ç®­å¤´å‡½æ•°æ— æ•ˆï¼Œè¿˜æ˜¯æ‰“å°å‡ºobj1ã€‚</p>
</li>
<li><p>obj1.foo2.call(obj2)()ç¬¬ä¸€å±‚ä¸ºç®­å¤´å‡½æ•°ï¼Œå¹¶ä¸”æƒ³è¦é€šè¿‡.call(obj2)æ”¹å˜thisæŒ‡å‘ï¼Œä½†æ˜¯æ— æ•ˆï¼Œä¸”å®ƒçš„å¤–å±‚ä½œç”¨åŸŸæ˜¯windowï¼Œæ‰€ä»¥ä¼šæ‰“å°å‡ºwindowï¼Œç¬¬äºŒå±‚ä¸ºæ™®é€šå‡½æ•°ï¼Œthisæ˜¯æœ€åè°ƒç”¨è€…windowï¼Œæ‰€ä»¥ä¹Ÿä¼šæ‰“å°å‡ºwindowã€‚</p>
</li>
<li><p>obj1.foo2().call(obj2)ç¬¬ä¸€å±‚ä¸ºç®­å¤´å‡½æ•°ï¼Œå¤–å±‚ä½œç”¨åŸŸæ˜¯windowï¼Œæ‰“å°å‡ºwindowï¼Œç¬¬äºŒå±‚ä¸ºæ™®é€šå‡½æ•°ï¼Œä¸”ä½¿ç”¨äº†.call(obj2)æ¥æ”¹å˜thisæŒ‡å‘ï¼Œæ‰€ä»¥æ‰“å°å‡ºäº†obj2ã€‚</p>
</li>
</ul>
<p><strong>æ€»ç»“</strong></p>
<ul>
<li><p><strong>æ™®é€šæˆ–åŒ¿åå‡½æ•°å†…çš„thisï¼Œå°±æ˜¯è°ƒç”¨å‡½æ•°çš„é‚£ä¸ªå¯¹è±¡</strong>ï¼Œä¸”ç»å¤§å¤šæ•°åŒ¿åå‡½æ•°å‡è¢«å®ç°ä¸ºthisæŒ‡å‘windowã€‚</p>
</li>
<li><p><strong>ç®­å¤´å‡½æ•°å†…çš„thisï¼Œå°±æ˜¯ç®­å¤´å‡½æ•°è¢«å®šä¹‰æ—¶æ‰€åœ¨ä½œç”¨åŸŸçš„this</strong></p>
</li>
<li><p>jsçš„thisåªä¼šåœ¨<strong>å‡½æ•°ä½œç”¨åŸŸ</strong>æˆ–<strong>å…¨å±€ä½œç”¨åŸŸ</strong>ï¼Œä¸è¦ä¸å—çº§ä½œç”¨åŸŸæ··æ·†</p>
</li>
</ul>
]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript æ–¹æ³•åº“</title>
    <url>/FE/JS/tools/</url>
    <content><![CDATA[<h3 id="cookie-è½¬-JSON"><a href="#cookie-è½¬-JSON" class="headerlink" title="cookie è½¬ JSON"></a>cookie è½¬ JSON</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cookieToJson</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> cookieArr = <span class="built_in">document</span>.cookie.split(<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">  <span class="keyword">let</span> obj = &#123;&#125;</span><br><span class="line">  cookieArr.forEach(<span class="function">(<span class="params">i</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> arr = i.split(<span class="string">&#x27;=&#x27;</span>)</span><br><span class="line">    obj[arr[<span class="number">0</span>].trim()] = arr[<span class="number">1</span>]</span><br><span class="line">    <span class="comment">// ç¬¬äºŒä¸ªkeyå¼€å§‹ keyå‰é¢æœ‰ä¸€ä¸ªç©ºæ ¼ è¦å»æ‰</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="ä¿å­˜cookieå†…å®¹"><a href="#ä¿å­˜cookieå†…å®¹" class="headerlink" title="ä¿å­˜cookieå†…å®¹"></a>ä¿å­˜cookieå†…å®¹</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SetCookie</span>(<span class="params">name,value</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> Days = <span class="number">1</span>;   <span class="comment">//cookie å°†è¢«ä¿å­˜ä¸€å¤©</span></span><br><span class="line">    <span class="keyword">var</span> exp  = <span class="keyword">new</span> <span class="built_in">Date</span>();  <span class="comment">//è·å¾—å½“å‰æ—¶é—´</span></span><br><span class="line">    exp.setTime(exp.getTime() + Days*<span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">1000</span>);  <span class="comment">//æ¢æˆæ¯«ç§’</span></span><br><span class="line">    <span class="built_in">document</span>.cookie = name + <span class="string">&quot;=&quot;</span>+ <span class="built_in">escape</span> (value) + <span class="string">&quot;;expires=&quot;</span> + exp.toGMTString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è¯»å–cookieå†…å®¹"><a href="#è¯»å–cookieå†…å®¹" class="headerlink" title="è¯»å–cookieå†…å®¹"></a>è¯»å–cookieå†…å®¹</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCookie</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> arr,</span><br><span class="line">    reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;(^| )&#x27;</span> + name + <span class="string">&#x27;=([^;]*)(;|$)&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> ((arr = <span class="built_in">document</span>.cookie.match(reg))) <span class="keyword">return</span> <span class="built_in">unescape</span>(arr[<span class="number">2</span>])</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="åˆ¤æ–­æ˜¯å¦ä¸ºå¾®ä¿¡æµè§ˆå™¨"><a href="#åˆ¤æ–­æ˜¯å¦ä¸ºå¾®ä¿¡æµè§ˆå™¨" class="headerlink" title="åˆ¤æ–­æ˜¯å¦ä¸ºå¾®ä¿¡æµè§ˆå™¨"></a>åˆ¤æ–­æ˜¯å¦ä¸ºå¾®ä¿¡æµè§ˆå™¨</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">is_weixn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ua = navigator.userAgent.toLowerCase()</span><br><span class="line">  <span class="keyword">if</span> (ua.match(<span class="regexp">/MicroMessenger/i</span>) == <span class="string">&#x27;micromessenger&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åˆ¤æ–­æ˜¯å¦ä¸ºç§»åŠ¨ç«¯æµè§ˆå™¨"><a href="#åˆ¤æ–­æ˜¯å¦ä¸ºç§»åŠ¨ç«¯æµè§ˆå™¨" class="headerlink" title="åˆ¤æ–­æ˜¯å¦ä¸ºç§»åŠ¨ç«¯æµè§ˆå™¨"></a>åˆ¤æ–­æ˜¯å¦ä¸ºç§»åŠ¨ç«¯æµè§ˆå™¨</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isMobile</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    <span class="built_in">window</span>.navigator.userAgent.match(</span><br><span class="line">      /(phone|pad|pod|iPhone|iPodios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUCFennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i</span><br><span class="line">    )</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span> <span class="comment">// ç§»åŠ¨ç«¯</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span> <span class="comment">// PCç«¯</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="åˆ†é¡µ"><a href="#åˆ†é¡µ" class="headerlink" title="åˆ†é¡µ"></a>åˆ†é¡µ</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> data = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> chunk = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i += chunk) &#123;</span><br><span class="line">  result.push(data.slice(i, i + chunk))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ [ 1, 2, 3 ], [ 4, 5, 6 ], [ 7, 8, 9 ], [ 10 ] ]</span></span><br></pre></td></tr></table></figure>


<h3 id="è·å–urlå‚æ•°"><a href="#è·å–urlå‚æ•°" class="headerlink" title="è·å–urlå‚æ•°"></a>è·å–urlå‚æ•°</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getQuery</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;(^|&amp;)&#x27;</span> + name + <span class="string">&#x27;=([^&amp;]*)(&amp;|$)&#x27;</span>, <span class="string">&#x27;i&#x27;</span>)</span><br><span class="line">  <span class="keyword">var</span> r = <span class="built_in">window</span>.location.search.substr(<span class="number">1</span>).match(reg)</span><br><span class="line">  <span class="keyword">if</span> (r != <span class="literal">null</span>) <span class="keyword">return</span> <span class="built_in">decodeURI</span>(r[<span class="number">2</span>])</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="url-search-è½¬-object"><a href="#url-search-è½¬-object" class="headerlink" title="url search è½¬ object"></a>url search è½¬ object</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> getUrlSearchMap = <span class="function">(<span class="params">url</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> search;</span><br><span class="line">    <span class="keyword">if</span> (url !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> hashIndex = url.lastIndexOf(<span class="string">&#x27;#&#x27;</span>);</span><br><span class="line">        <span class="keyword">let</span> searchIndex = url.lastIndexOf(<span class="string">&#x27;?&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span> (searchIndex !== -<span class="number">1</span>) &#123;</span><br><span class="line">            search = hashIndex === -<span class="number">1</span> ?</span><br><span class="line">                url.substr(searchIndex + <span class="number">1</span>)</span><br><span class="line">                :</span><br><span class="line">                url.substring(searchIndex, hashIndex);</span><br><span class="line"> </span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (hashIndex !== -<span class="number">1</span>) &#123;</span><br><span class="line">            search = url.substr(hashIndex + <span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        search = <span class="built_in">window</span>.location.search;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!search) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">let</span> hashArr = search.replace(<span class="string">&#x27;?&#x27;</span>, <span class="string">&#x27;&#x27;</span>).split(<span class="string">&#x27;&amp;&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> hashMap = &#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; hashArr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> tempArr = hashArr[i].split(<span class="string">&#x27;=&#x27;</span>),</span><br><span class="line">            k = tempArr[<span class="number">0</span>],</span><br><span class="line">            v = tempArr[<span class="number">1</span>] || <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (hashMap[k]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(hashMap[k])) &#123;</span><br><span class="line">                hashMap[k].push(v);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                hashMap[k] = [hashMap[k], v];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            hashMap[k] = v;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> hashMap;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="è·å–é¡µé¢æ»šåŠ¨å…ƒç´ "><a href="#è·å–é¡µé¢æ»šåŠ¨å…ƒç´ " class="headerlink" title="è·å–é¡µé¢æ»šåŠ¨å…ƒç´ "></a>è·å–é¡µé¢æ»šåŠ¨å…ƒç´ </h3><p>æŠŠä¸‹é¢çš„ä»£ç ç²˜è´´åˆ°è°ƒè¯•å·¥å…·ä¸­è¿è¡Œä¸€ä¸‹ï¼Œç„¶åæ»šåŠ¨é¡µé¢ï¼Œå°±å¯ä»¥çœ‹åˆ°æ˜¯å“ªä¸ªå…ƒç´ äº§ç”Ÿçš„æ»šåŠ¨äº†</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findScroller</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">    element.onscroll = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(element) &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Array</span>.from(element.children).forEach(findScroller)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">findScroller(<span class="built_in">document</span>.body)</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>JSç¯‡</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML ä»URLåœ°å€åˆ°é¡µé¢æ¸²æŸ“</title>
    <url>/FE/HTML/url/</url>
    <content><![CDATA[<h2 id="ä»ä¸€ä¸ªurlåœ°å€åˆ°æœ€ç»ˆé¡µé¢æ¸²æŸ“å®Œæˆï¼Œå‘ç”Ÿäº†ä»€ä¹ˆ"><a href="#ä»ä¸€ä¸ªurlåœ°å€åˆ°æœ€ç»ˆé¡µé¢æ¸²æŸ“å®Œæˆï¼Œå‘ç”Ÿäº†ä»€ä¹ˆ" class="headerlink" title="ä»ä¸€ä¸ªurlåœ°å€åˆ°æœ€ç»ˆé¡µé¢æ¸²æŸ“å®Œæˆï¼Œå‘ç”Ÿäº†ä»€ä¹ˆ"></a>ä»ä¸€ä¸ªurlåœ°å€åˆ°æœ€ç»ˆé¡µé¢æ¸²æŸ“å®Œæˆï¼Œå‘ç”Ÿäº†ä»€ä¹ˆ</h2><ol>
<li><p>DNSè§£æï¼šå°†åŸŸååœ°å€è§£ææˆIPåœ°å€</p>
<p>  â€“ è¯»å–æµè§ˆå™¨DNSç¼“å­˜</p>
<p>  â€“ è¯»å–ç³»ç»ŸDNSç¼“å­˜</p>
<p>  â€“ è¯»å–è·¯ç”±å™¨DNSç¼“å­˜</p>
<p>  â€“ è¯»å–ç½‘ç»œè¿è¥å•†DNSç¼“å­˜</p>
<p>  â€“ é€’å½’æœç´¢ï¼šblog.baidu.com</p>
<p>â€‹        â€“ .com åŸŸåä¸‹æŸ¥æ‰¾DNSè§£æ</p>
<p>â€‹        â€“  .baidu åŸŸåä¸‹æŸ¥æ‰¾DNSè§£æ</p>
<p>â€‹        â€“   blog åŸŸåä¸‹æŸ¥æ‰¾DNSè§£æ</p>
<p>â€‹        â€“   å‡ºé”™äº†</p>
</li>
</ol>
<a id="more"></a>

<ol start="2">
<li><p>TCPè¿æ¥ï¼šTCPä¸‰æ¬¡æ¡æ‰‹</p>
<ol>
<li><p>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼Œç”±æµè§ˆå™¨å‘èµ·ï¼Œå‘Šè¯‰æœåŠ¡å™¨æˆ‘è¦å‘é€è¯·æ±‚äº†</p>
</li>
<li><p>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼Œç”±æœåŠ¡å™¨å‘èµ·ï¼Œå‘Šè¯‰æµè§ˆå™¨æˆ‘å‡†å¤‡å¥½äº†ï¼Œä½ å¯ä»¥å‘é€äº†</p>
</li>
<li><p>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œç”±æµè§ˆå™¨å‘èµ·ï¼Œå‘Šè¯‰æœåŠ¡å™¨ï¼Œæˆ‘é©¬ä¸Šè¦å‘é€äº†ï¼Œå‡†å¤‡æ¥å—å§</p>
</li>
</ol>
</li>
<li><p>å‘é€è¯·æ±‚</p>
<ol>
<li>è¯·æ±‚æŠ¥æ–‡ï¼šHTTPåè®®çš„é€šä¿¡å†…å®¹</li>
</ol>
</li>
<li><p>æ¥å—å“åº”</p>
<ol>
<li>å“åº”æŠ¥æ–‡</li>
</ol>
</li>
<li><p>æ¸²æŸ“é¡µé¢</p>
<ol>
<li><p>é‡è§HTMLæ ‡è®°ï¼Œæµè§ˆå™¨è°ƒç”¨HTMLè§£æå™¨æ„æˆdomæ ‘</p>
</li>
<li><p>é‡è§style/linkï¼Œæµè§ˆå™¨è°ƒç”¨cssè§£æå™¨æ„æˆcssomæ ‘</p>
</li>
<li><p>é‡è§scriptæ ‡ç­¾ï¼Œæµè§ˆå™¨è°ƒç”¨scriptè§£æå™¨ï¼Œå¤„ç†scriptä»£ç ï¼ˆç»‘å®šäº‹ä»¶ï¼Œä¿®æ”¹domæ ‘ï¼Œcssomæ ‘ï¼‰</p>
</li>
<li><p>å°†domæ ‘å’Œcssomæ ‘åˆå¹¶æˆä¸€ä¸ªæ¸²æŸ“æ ‘</p>
</li>
<li><p>æ ¹æ®æ¸²æŸ“æ ‘æ¥è¿›è¡Œå¸ƒå±€</p>
</li>
<li><p>å°†å„ä¸ªèŠ‚ç‚¹ç»˜åˆ¶åˆ°å±å¹•ä¸Šï¼ˆæ¸²æŸ“ï¼‰</p>
</li>
</ol>
</li>
<li><p>æ–­å¼€è¿æ¥ï¼šTCPå››æ¬¡æŒ¥æ‰‹</p>
<ol>
<li><p>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼šæµè§ˆå™¨å‘èµ·ï¼Œæˆ‘ä¸œè¥¿å‘å®Œäº†ï¼ˆè¯·æ±‚æŠ¥æ–‡ï¼‰ï¼Œä½ å‡†å¤‡å…³é—­å§</p>
</li>
<li><p>ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼šæœåŠ¡å™¨å‘èµ·ï¼Œæˆ‘ä¸œè¥¿æ¥å—å®Œäº†ï¼ˆè¯·æ±‚æŠ¥æ–‡ï¼‰ï¼Œæˆ‘å‡†å¤‡å…³é—­äº†</p>
</li>
<li><p>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼šæœåŠ¡å™¨å‘èµ·ï¼Œæˆ‘ä¸œè¥¿å‘å®Œäº†ï¼ˆå“åº”æŠ¥æ–‡ï¼‰ï¼Œä½ å‡†å¤‡å…³é—­å§</p>
</li>
<li><p>ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼šæµè§ˆå™¨å‘èµ·ï¼Œæˆ‘ä¸œè¥¿æ¥å—å®Œäº†ï¼ˆå“åº”æŠ¥æ–‡ï¼‰ï¼Œæˆ‘å‡†å¤‡å…³é—­äº†</p>
</li>
</ol>
</li>
</ol>
]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML Iconfontçš„è§£å†³æ–¹æ¡ˆ</title>
    <url>/FE/HTML/iconfont/</url>
    <content><![CDATA[<h2 id="iconfont"><a href="#iconfont" class="headerlink" title="iconfont"></a>iconfont</h2><p>è¿™é‡Œæ¨èä¸¤ä¸ª iconfont çš„ç½‘ç«™</p>
<ul>
<li><p><a href="https://icomoon.io/">https://icomoon.io/</a></p>
</li>
<li><p><a href="https://www.iconfont.cn/">https://www.iconfont.cn/</a></p>
</li>
</ul>
<p>åœ¨ç½‘ç«™å†…é€‰å¥½æƒ³è¦çš„ icon å ç‚¹å‡»ä¸‹è½½ å°±å¯ä»¥å¾—åˆ°å¦‚ä¸‹æ–‡ä»¶</p>
<ul>
<li><p>iconfont.css</p>
</li>
<li><p>iconfont.svg</p>
</li>
<li><p>iconfont.eot</p>
</li>
<li><p>iconfont.woff</p>
</li>
<li><p>iconfont.ttf</p>
</li>
</ul>
<p>è¿›å…¥ <a href="https://caniuse.com/">can i use</a> å¯ä»¥æŸ¥çœ‹è¿™äº›å­—ä½“çš„æµè§ˆå™¨å…¼å®¹æƒ…å†µ</p>
<a id="more"></a>

<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>å°†ä¸‹è½½çš„æ–‡ä»¶å¼•å…¥åˆ°é¡¹ç›®ä¸­ ç„¶åå¯ä»¥åœ¨å…¥å£æ–‡ä»¶å¼•å…¥ iconfont.css</p>
<p>ç„¶ååœ¨éœ€è¦åˆ°åœ°æ–¹ä½¿ç”¨ i æ ‡ç­¾å³å¯</p>
<p>ä¾‹å¦‚ iconfont.css ä¸­æœ‰å¦‚ä¸‹ icon</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.icon-test</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;\e62a&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä½¿ç”¨<code>&lt;i class=&quot;icon-test&quot; /&gt;</code>å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ª icon äº†</p>
<p>ç„¶åæˆ‘ä»¬å¯ä»¥ç”¨ font çš„ css æ¥æ§åˆ¶è¿™ä¸ª icon</p>
<h2 id="å®ç°ä¸€ä¸ª-Iconfont-ç»„ä»¶-ï¼ˆåŸºäº-Reactï¼‰"><a href="#å®ç°ä¸€ä¸ª-Iconfont-ç»„ä»¶-ï¼ˆåŸºäº-Reactï¼‰" class="headerlink" title="å®ç°ä¸€ä¸ª Iconfont ç»„ä»¶ ï¼ˆåŸºäº Reactï¼‰"></a>å®ç°ä¸€ä¸ª Iconfont ç»„ä»¶ ï¼ˆåŸºäº Reactï¼‰</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./iconfont.css&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> Iconfont = <span class="function">(<span class="params">&#123; iconId, onClick &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">className</span>=<span class="string">&#123;</span>`<span class="attr">icon-</span>$&#123;<span class="attr">iconId</span>&#125;`&#125; <span class="attr">onClick</span>=<span class="string">&#123;onClick&#125;</span> /&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Iconfont;</span><br></pre></td></tr></table></figure>

<h2 id="æ‰©å……åŸé¡¹ç›®çš„-iconfont"><a href="#æ‰©å……åŸé¡¹ç›®çš„-iconfont" class="headerlink" title="æ‰©å……åŸé¡¹ç›®çš„ iconfont"></a>æ‰©å……åŸé¡¹ç›®çš„ iconfont</h2><p>å¦‚æœåŸæœ‰é¡¹ç›®ä¸­æœ‰ iconfont çš„ç›¸å…³æ–‡ä»¶ ä¸ºäº†æ‰©å……æ–°å­—ä½“å›¾æ ‡ æˆ‘ä»¬å¯ä»¥ç™»å½• <a href="https://icomoon.io/">https://icomoon.io/</a></p>
<p>ç‚¹å‡» Import Icons é€‰ä¸­ iconfont.svg å†é‡æ–°ä¸‹è½½å³å¯</p>
]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML videoæ ‡ç­¾</title>
    <url>/FE/HTML/video/</url>
    <content><![CDATA[<h2 id="video"><a href="#video" class="headerlink" title="video"></a>video</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span></span></span><br><span class="line"><span class="tag">  <span class="attr">src</span>=<span class="string">&quot;cn/video/A.mp4&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">muted</span></span></span><br><span class="line"><span class="tag">  <span class="attr">autoplay</span></span></span><br><span class="line"><span class="tag">  <span class="attr">controls</span></span></span><br><span class="line"><span class="tag">  <span class="attr">poster</span>=<span class="string">&quot;poster.png&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">loop</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="attribute"><a href="#attribute" class="headerlink" title="attribute"></a>attribute</h3><ul>
<li>muted é™éŸ³</li>
<li>autoplay è‡ªåŠ¨æ’­æ”¾</li>
<li>controls æ§åˆ¶æ¡</li>
<li>poster=â€poster.pngâ€ ç¬¬ä¸€æ¬¡æ²¡æœ‰æ’­æ”¾æ—¶çš„å°é¢</li>
<li>loop å¾ªç¯æ’­æ”¾</li>
</ul>
<a id="more"></a>

<h3 id="å®ç°è§†é¢‘çš„è‡ªåŠ¨æ’­æ”¾"><a href="#å®ç°è§†é¢‘çš„è‡ªåŠ¨æ’­æ”¾" class="headerlink" title="å®ç°è§†é¢‘çš„è‡ªåŠ¨æ’­æ”¾"></a>å®ç°è§†é¢‘çš„è‡ªåŠ¨æ’­æ”¾</h3><p>ç”±äºæµè§ˆå™¨å±‚é¢çš„ä¸€äº›é™åˆ¶</p>
<p>è‡ªåŠ¨æ’­æ”¾ ä¼šå½±å“ç”¨æˆ·ä½“éªŒ æ‰€ä»¥æµè§ˆå™¨å·²ç»åšå‡ºé™åˆ¶</p>
<p>æ‰€ä»¥è¿™é‡Œå­˜åœ¨è¯¯åŒºï¼š</p>
<ul>
<li><p>autoplay å±æ€§èƒ½å®ç°è‡ªåŠ¨æ’­æ”¾</p>
</li>
<li><p>é€šè¿‡ video api ä¸­çš„ play æ¥æ§åˆ¶è§†é¢‘çš„è‡ªåŠ¨æ’­æ”¾</p>
</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li><p>å’Œ autoplay å±æ€§ä¸€èµ·åŠ ä¸Šé™éŸ³æ ‡ç­¾ muted å› ä¸ºé™éŸ³ä¸‹è§†é¢‘å¯ä»¥è‡ªåŠ¨æ’­æ”¾</p>
</li>
<li><p>é™éŸ³æ’­æ”¾å å¦‚éœ€æ’­æ”¾å£°éŸ³ éœ€è¦åŠ ä¸Šäº¤äº’ åœ¨ç”¨æˆ·äº¤äº’å è‡ªè¡Œè§£é™¤é™éŸ³</p>
</li>
</ul>
<h3 id="Plugin"><a href="#Plugin" class="headerlink" title="Plugin"></a>Plugin</h3><p>ä½¿ç”¨è¿‡çš„ä¸€ä¸ªè¿˜ä¸é”™çš„ video æ’ä»¶</p>
<p><a href="https://www.npmjs.com/package/plyr">https://www.npmjs.com/package/plyr</a></p>
]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
</search>
